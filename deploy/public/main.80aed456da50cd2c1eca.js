(self.webpackChunkpublic=self.webpackChunkpublic||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},5366:(t,e,n)=>{"use strict";n.d(e,{deG:()=>an,tb:()=>Zc,AFp:()=>qc,ip1:()=>Uc,CZH:()=>jc,hGG:()=>Ul,z2F:()=>kl,sBO:()=>Mu,Sil:()=>rl,_Vd:()=>au,EJc:()=>Qc,SBq:()=>hu,qLn:()=>Tr,vpe:()=>bc,gxx:()=>Ss,tBr:()=>An,XFs:()=>O,OlP:()=>on,zs3:()=>Vs,ZZ4:()=>Ou,aQg:()=>Du,soG:()=>$c,YKP:()=>Ku,v3s:()=>Nl,h0i:()=>Zu,PXZ:()=>Tl,R0b:()=>ol,FiY:()=>xn,Lbi:()=>Hc,g9A:()=>zc,Qsj:()=>pu,FYo:()=>fu,JOm:()=>kr,Tiy:()=>gu,q3G:()=>yr,tp0:()=>kn,EAV:()=>Pl,Rgc:()=>Bu,dDg:()=>fl,DyG:()=>un,q4F:()=>vu,GfV:()=>yu,s_b:()=>Qu,ifc:()=>F,eFA:()=>Cl,G48:()=>El,Gpc:()=>f,X6Q:()=>wl,_c5:()=>Ml,VLi:()=>gl,c2e:()=>Kc,zSh:()=>Cs,wAp:()=>ra,vHH:()=>g,EiD:()=>mr,mCW:()=>Jn,qzn:()=>Un,JVY:()=>qn,pB0:()=>Hn,eBb:()=>Gn,L6k:()=>Bn,LAX:()=>zn,cg1:()=>ta,Tjo:()=>Fl,kL8:()=>ea,yhl:()=>jn,dqk:()=>q,sIi:()=>$s,CqO:()=>mo,QGY:()=>fo,F4k:()=>po,RDi:()=>Ct,AaK:()=>l,z3N:()=>Vn,qOj:()=>js,TTD:()=>bt,_Bn:()=>iu,xp6:()=>Ci,uIk:()=>Xs,Tol:()=>Ro,DjV:()=>Qo,ekj:()=>Do,Suo:()=>Rc,Xpm:()=>Y,lG2:()=>st,Yz7:()=>w,cJS:()=>E,oAB:()=>nt,Yjl:()=>ot,Y36:()=>ro,_UZ:()=>uo,BQk:()=>lo,ynx:()=>co,qZA:()=>ao,TgZ:()=>oo,EpF:()=>ho,n5z:()=>tn,Ikx:()=>Wo,SDv:()=>$a,QtT:()=>Wa,pQV:()=>Qa,LFG:()=>Tn,$8M:()=>nn,NdJ:()=>go,CRH:()=>Pc,oxw:()=>bo,ALo:()=>gc,lcZ:()=>yc,Hsn:()=>Eo,F$t:()=>wo,Q6J:()=>io,s9C:()=>So,MGl:()=>To,DdM:()=>lc,VKq:()=>hc,WLB:()=>dc,kEZ:()=>fc,iGM:()=>Nc,MAs:()=>no,CHM:()=>zt,LSH:()=>vr,kYT:()=>rt,Udp:()=>No,YNc:()=>eo,W1O:()=>Vc,_uU:()=>Ho,Oqu:()=>Zo,hij:()=>Ko,AsE:()=>$o,Gf:()=>Dc});var r=n(5959),i=n(7570),s=n(8318),o=n(1906),a=n(1055);function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function b(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${v(t)} found${n}`)}function _(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return T(t,I)||T(t,x)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const I=u({"\u0275prov":u}),A=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),k=u({ngInjectorDef:u});var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function D(t){const e=N;return N=t,e}function R(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==e?e:void b(l(t),"Injector")}function P(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,q=M||j||V||U,B={},G=[],z=u({"\u0275cmp":u}),H=u({"\u0275dir":u}),Z=u({"\u0275pipe":u}),K=u({"\u0275mod":u}),$=u({"\u0275loc":u}),Q=u({"\u0275fac":u}),W=u({__NG_ELEMENT_ID__:u});let J=0;function Y(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=J++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(X):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(tt):null,n})}function X(t){return at(t)||function(t){return t[H]||null}(t)}function tt(t){return function(t){return t[Z]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{et[t.id]=t.type}),e}function rt(t,e){return P(()=>{const n=ut(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function it(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const st=Y;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[z]||null}function ut(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),wt}function wt(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new vt(u&&u.currentValue,e,o===B),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}let Tt;function Ct(t){Tt=t}function It(){return void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0}function At(t){return!!t.listen}bt.ngInherit=!0;const xt={createRenderer:(t,e)=>It()};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function Ot(t,e){return kt(e[t])}function Nt(t,e){return kt(e[t.index])}function Dt(t,e){return t.data[e]}function Rt(t,e){return t[e]}function Pt(t,e){const n=e[t];return ht(n)?n:n[0]}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const jt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return jt.bindingsEnabled}function Bt(){return jt.lFrame.lView}function Gt(){return jt.lFrame.tView}function zt(t){return jt.lFrame.contextLView=t,t[8]}function Ht(){let t=Zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zt(){return jt.lFrame.currentTNode}function Kt(){const t=jt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $t(t,e){const n=jt.lFrame;n.currentTNode=t,n.isParent=e}function Qt(){return jt.lFrame.isParent}function Wt(){jt.lFrame.isParent=!1}function Jt(){return jt.isInCheckNoChangesMode}function Yt(t){jt.isInCheckNoChangesMode=t}function Xt(){const t=jt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return jt.lFrame.bindingIndex}function ee(){return jt.lFrame.bindingIndex++}function ne(t){const e=jt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function re(t){jt.lFrame.inI18n=t}function ie(t,e){const n=jt.lFrame;n.bindingIndex=n.bindingRootIndex=t,se(e)}function se(t){jt.lFrame.currentDirectiveIndex=t}function oe(){return jt.lFrame.currentQueryIndex}function ae(t){jt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&O.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&O.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=jt.lFrame=he();return r.currentTNode=e,r.lView=t,!0}function le(t){const e=he(),n=t[1];jt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=jt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=jt.lFrame;return jt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pe=fe;function me(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return jt.lFrame.selectedIndex}function ye(t){jt.lFrame.selectedIndex=t}function ve(){const t=jt.lFrame;return Dt(t.tView,t.selectedIndex)}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _e(t,e,n){Se(t,e,3,n)}function we(t,e,n,r){(3&t[2])===n&&Se(t,e,n,r)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Te(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Te(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ce=-1;class Ie{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ae(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];ke(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function xe(t){return 3===t||4===t||6===t}function ke(t){return 64===t.charCodeAt(0)}function Oe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ne(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ne(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function De(t){return t!==Ce}function Re(t){return 32767&t}function Pe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Le=!0;function Fe(t){const e=Le;return Le=t,e}let Me=0;function Ve(t,e){const n=je(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ue(r.data,t),Ue(e,null),Ue(r.blueprint,null));const i=qe(t,e),s=t.injectorIndex;if(De(i)){const t=Re(i),n=Pe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ue(t,e){t.push(0,0,0,0,0,0,0,0,e)}function je(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function Be(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(r=n[W]),null==r&&(r=n[W]=Me++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ge(t,e,n){if(n&O.Optional)return t;b(e,"NodeInjector")}function ze(t,e,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&O.Optional):R(e,r,n&O.Optional)}finally{D(s)}}return Ge(r,e,n)}function He(t,e,n,r=O.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(W)?t[W]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof s){if(!ce(e,t,r))return r&O.Host?Ge(i,n,r):ze(e,n,r,i);try{const t=s(r);if(null!=t||r&O.Optional)return t;b(n)}finally{pe()}}else if("number"==typeof s){let i=null,o=je(t,e),a=Ce,u=r&O.Host?e[16][6]:null;for((-1===o||r&O.SkipSelf)&&(a=-1===o?qe(t,e):e[o+8],a!==Ce&&Ye(r,!1)?(i=e[1],o=Re(a),e=Pe(a,e)):o=-1);-1!==o;){const t=e[1];if(Je(s,o,t.data)){const t=$e(o,e,n,i,r,u);if(t!==Ze)return t}a=e[o+8],a!==Ce&&Ye(r,e[1].data[o+8]===u)&&Je(s,o,e)?(i=t,o=Re(a),e=Pe(a,e)):o=-1}}}return ze(e,n,r,i)}const Ze={};function Ke(){return new Xe(Ht(),Bt())}function $e(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Qe(a,o,n,null==r?pt(a)&&Le:r!=o&&0!=(3&a.type),i&O.Host&&s===a);return null!==u?We(e,o,u,a):Ze}function Qe(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&gt(t)&&t.type===n)return u}return null}function We(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ie){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(v(s[n]));const a=Fe(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;ce(t,r,O.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),Fe(a),o.resolving=!1,pe()}}return i}function Je(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ye(t,e){return!(t&O.Self||t&O.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return He(this._tNode,this._lView,t,void 0,e)}}function tn(t){return P(()=>{const e=t.prototype.constructor,n=e[Q]||en(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||en(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function en(t){return m(t)?()=>{const e=en(p(t));return e&&e()}:yt(t)}function nn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(xe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ht(),t)}const rn="__parameters__";function sn(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(rn)?t[rn]:Object.defineProperty(t,rn,{value:[]})[rn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class on{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const an=new on("AnalyzeForEntryComponents"),un=Function;function cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),cn(r,e)):e!==t&&e.push(r)}return e}function ln(t,e){t.forEach(t=>Array.isArray(t)?ln(t,e):e(t))}function hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function pn(t,e,n){let r=gn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function mn(t,e){const n=gn(t,e);if(n>=0)return t[1|n]}function gn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const yn={},vn=/\n/gm,bn="__source",_n=u({provide:String,useValue:u});let wn;function En(t){const e=wn;return wn=t,e}function Sn(t,e=O.Default){if(void 0===wn)throw new Error("inject() must be called from an injection context");return null===wn?R(t,void 0,e):wn.get(t,e&O.Optional?null:void 0,e)}function Tn(t,e=O.Default){return(N||Sn)(p(t),e)}function Cn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(Tn(t,n))}else e.push(Tn(r))}return e}function In(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const An=In(sn("Inject",t=>({token:t})),-1),xn=In(sn("Optional"),8),kn=In(sn("SkipSelf"),4);let On;function Nn(t){var e;return(null===(e=function(){if(void 0===On&&(On=null,q.trustedTypes))try{On=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return On}())||void 0===e?void 0:e.createHTML(t))||t}class Dn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Rn extends Dn{getTypeName(){return"HTML"}}class Pn extends Dn{getTypeName(){return"Style"}}class Ln extends Dn{getTypeName(){return"Script"}}class Fn extends Dn{getTypeName(){return"URL"}}class Mn extends Dn{getTypeName(){return"ResourceURL"}}function Vn(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function jn(t){return t instanceof Dn&&t.getTypeName()||null}function qn(t){return new Rn(t)}function Bn(t){return new Pn(t)}function Gn(t){return new Ln(t)}function zn(t){return new Fn(t)}function Hn(t){return new Mn(t)}function Zn(t){const e=new $n(t);return function(){try{return!!(new window.DOMParser).parseFromString(Nn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Nn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class $n{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Nn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Nn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jn(t){return(t=String(t)).match(Qn)||t.match(Wn)?t:"unsafe:"+t}function Yn(t){return(t=String(t)).split(",").map(t=>Jn(t.trim())).join(", ")}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function tr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const er=Xn("area,br,col,hr,img,wbr"),nr=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rr=Xn("rp,rt"),ir=tr(rr,nr),sr=tr(er,tr(nr,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(rr,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ir),or=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=Xn("srcset"),ur=tr(or,ar,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cr=Xn("script,style,template");class lr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!cr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!ur.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;or[i]&&(s=Jn(s)),ar[i]&&(s=Yn(s)),this.buf.push(" ",e,'="',fr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(fr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function fr(t){return t.replace(/&/g,"&amp;").replace(hr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pr;function mr(t,e){let n=null;try{pr=pr||Zn(t);let r=e?String(e):"";n=pr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==s);return Nn((new lr).sanitizeChildren(gr(n)||n))}finally{if(n){const t=gr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function gr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=function(){const t=Bt();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":Un(t,"URL")?Vn(t):Jn(y(t))}function br(t,e){t.__ngContext__=e}function _r(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function wr(t){return t.ngDebugContext}function Er(t){return t.ngOriginalError}function Sr(t,...e){t.error(...e)}class Tr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Sr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?wr(t)?wr(t):this._findContext(Er(t)):null}_findOriginalError(t){let e=Er(t);for(;e&&Er(e);)e=Er(e);return e}}const Cr=/^>|^->|<!--|-->|--!>|<!-$/g,Ir=/(<|>)/,Ar=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function xr(t){return t instanceof Function?t():t}var kr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Or;function Nr(t,e){return Or(t,e)}function Dr(t){const e=t[3];return dt(e)?e[3]:e}function Rr(t){return Lr(t[13])}function Pr(t){return Lr(t[4])}function Lr(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Fr(t,e,n,r,i){if(null!=r){let s,o=!1;dt(r)?s=r:ht(r)&&(o=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?$r(e,n,a):Kr(e,n,a,i||null,!0):1===t&&null!==n?Kr(e,n,a,i||null,!0):2===t?oi(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==kt(n)&&Fr(e,t,r,s,i);for(let o=lt;o<n.length;o++){const i=n[o];ui(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Mr(t,e){return At(t)?t.createText(e):t.createTextNode(e)}function Vr(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}function Ur(t,e){return t.createComment(function(t){return t.replace(Cr,t=>t.replace(Ir,"\u200b$1\u200b"))}(e))}function jr(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function qr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Br(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&qr(s,r),e>0&&(t[n-1][4]=r[4]);const o=dn(t,lt+e);ui(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Gr(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&ui(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return zr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&zr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&zr(e[1],e),n=e&&e[4]}e=n}}(e)}}function zr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ie)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):kt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&qr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Hr(t,e,n){return Zr(t,e.parent,n)}function Zr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Nt(r,n)}function Kr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function $r(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Qr(t,e,n,r,i){null!==r?Kr(t,e,n,r,i):$r(t,e,n)}function Wr(t,e){return At(t)?t.parentNode(e):e.parentNode}function Jr(t,e,n){return ti(t,e,n)}function Yr(t,e,n){return 40&t.type?Nt(t,n):null}let Xr,ti=Yr;function ei(t,e){ti=t,Xr=e}function ni(t,e,n,r){const i=Hr(t,r,e),s=e[11],o=Jr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Qr(s,i,n[a],o,!1);else Qr(s,i,n,o,!1);void 0!==Xr&&Xr(s,r,e,n,i)}function ri(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return si(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ri(t,n);{const n=t[e.index];return dt(n)?si(-1,n):kt(n)}}if(32&n)return Nr(e,t)()||kt(t[e.index]);{const n=ii(t,e);return null!==n?Array.isArray(n)?n[0]:ri(Dr(t[16]),n):ri(t,e.next)}}return null}function ii(t,e){return null!==e?t[16][6].projection[e.projection]:null}function si(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ri(t,r)}return e[7]}function oi(t,e,n){const r=Wr(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ai(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&br(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ai(t,e,n.child,r,i,s,!1),Fr(e,t,i,a,s);else if(32&u){const o=Nr(n,r);let u;for(;u=o();)Fr(e,t,i,u,s);Fr(e,t,i,a,s)}else 16&u?ci(t,e,r,n,i,s):Fr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ui(t,e,n,r,i,s){ai(n,r,t.firstChild,e,i,s,!1)}function ci(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Fr(e,t,i,a[u],s);else ai(t,e,a,o[3],i,s,!0)}function li(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function hi(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function di(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const fi="ng-template";function pi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==di(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function mi(t){return 4===t.type&&t.value!==fi}function gi(t,e,n){return e===(4!==t.type||n?t.value:fi)}function yi(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(xe(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!gi(t,u,n)||""===u&&1===e.length){if(vi(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!pi(t.attrs,c,n)){if(vi(r))return!1;o=!0}continue}const l=bi(8&r?"class":u,i,mi(t),n);if(-1===l){if(vi(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==di(e,c,0)||2&r&&c!==t){if(vi(r))return!1;o=!0}}}}else{if(!o&&!vi(r)&&!vi(u))return!1;if(o&&vi(u))continue;o=!1,r=u|1&r}}return vi(r)||o}function vi(t){return 0==(1&t)}function bi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function _i(t,e,n=!1){for(let r=0;r<e.length;r++)if(yi(t,e[r],n))return!0;return!1}function wi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ei(t,e){return t?":not("+e.trim()+")":e}function Si(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||vi(o)||(e+=Ei(s,i),i=""),r=o,s=s||!vi(r);n++}return""!==i&&(e+=Ei(s,i)),e}const Ti={};function Ci(t){Ii(Gt(),Bt(),ge()+t,Jt())}function Ii(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&_e(e,r,n)}else{const r=t.preOrderHooks;null!==r&&we(e,r,0,n)}ye(n)}function Ai(t,e){return t<<17|e<<2}function xi(t){return t>>17&32767}function ki(t){return 2|t}function Oi(t){return(131068&t)>>2}function Ni(t,e){return-131069&t|e<<2}function Di(t){return 1|t}function Ri(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ae(i),n.contentQueries(2,e[s],s)}}}function Pi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Li(t,e,n,r,i){let s=t.data[e];if(null===s)s=Fi(t,e,n,r,i),jt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=Kt();s.injectorIndex=null===t?-1:t.injectorIndex}return $t(s,!0),s}function Fi(t,e,n,r,i){const s=Zt(),o=Qt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Mi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Vi(t,e,n){le(e);try{const r=t.viewQuery;null!==r&&ms(1,r,n);const i=t.template;null!==i&&qi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ri(t,e),t.staticViewQueries&&ms(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ls(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,me()}}function Ui(t,e,n,r){const i=e[2];if(256==(256&i))return;le(e);const s=Jt();try{Vt(e),jt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&qi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&we(e,n,0,null),Ee(e,0)}if(function(t){for(let e=Rr(t);null!==e;e=Pr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=Rr(t);null!==e;e=Pr(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&Ui(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ri(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&we(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ye(~r);else{const i=r,s=n[++t],o=n[++t];ie(s,i),o(2,e[i])}}}finally{ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)us(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ms(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&we(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{me()}}function ji(t,e,n,r){const i=e[10],s=!Jt(),o=Lt(e);try{s&&!o&&i.begin&&i.begin(),o&&Vi(t,e,r),Ui(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function qi(t,e,n,r,i){const s=ge(),o=2&r;try{ye(-1),o&&e.length>ct&&Ii(t,e,ct,Jt()),n(r,i)}finally{ye(s)}}function Bi(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Gi(t,e,n){qt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ve(n,e),br(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=gt(r);s&&rs(e,n,r);const u=We(e,t,a,n);br(u,e),null!==o&&ss(0,a-i,u,r,0,o),s&&(Pt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=jt.lFrame.currentDirectiveIndex;try{ye(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];se(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Yi(r,i)}}finally{ye(-1),se(o)}}(t,e,n))}function zi(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Hi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zi(t,e,n,r,i,s,o,a,u,c){const l=ct+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ti);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ki(t,e,n,r){const i=ys(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&vs(t).push(r,i.length-1))}function $i(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Qi(t,e,n,r,i,s,o,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(_s(t,n,c,r,i),pt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,At(s)?s.setProperty(u,r,i):ke(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Wi(t,e,n,r){let i=!1;if(qt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];_i(n,o.selectors,!1)&&(i||(i=[]),Be(Ve(n,e),t,o.type),gt(o)?(Xi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,es(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Mi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Oe(n.mergedAttrs,c.hostAttrs),ns(t,n,e,u,c),ts(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||mi(e)?null:os(n,i);s.push(c),o=$i(n,u,o),a=$i(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Oe(n.mergedAttrs,n.attrs),i}function Ji(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Yi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Xi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ts(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function es(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ns(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=yt(i.type)),o=new Ie(s,gt(i),null);t.blueprint[r]=o,n[r]=o,Ji(t,e,0,r,Mi(t,n,i.hostVars,Ti),i)}function rs(t,e,n){const r=Nt(e,t),i=Hi(n),s=t[10],o=hs(t,Pi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function is(t,e,n,r,i,s,o){if(null==s)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function ss(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function os(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function as(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function us(t,e){const n=Pt(e,t);if(Ft(n)){const t=n[1];80&n[2]?Ui(t,n,t.template,n[8]):n[5]>0&&cs(n)}}function cs(t){for(let n=Rr(t);null!==n;n=Pr(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ui(t,e,t.template,e[8])}else e[5]>0&&cs(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Ft(r)&&r[5]>0&&cs(r)}}function ls(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Vi(r,n,n[8])}function hs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ds(t){for(;t;){t[2]|=64;const e=Dr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function fs(t,e,n){const r=e[10];r.begin&&r.begin();try{Ui(t,e,t.template,n)}catch(i){throw bs(e,i),i}finally{r.end&&r.end()}}function ps(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=_r(n),i=r[1];ji(i,r,i.template,n)}}(t[8])}function ms(t,e,n){ae(0),e(t,n)}const gs=(()=>Promise.resolve(null))();function ys(t){return t[7]||(t[7]=[])}function vs(t){return t.cleanup||(t.cleanup=[])}function bs(t,e){const n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function _s(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ws(t,e,n){const r=Ot(e,t);Vr(t[11],r,n)}function Es(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ss=new on("INJECTOR",-1);class Ts{get(t,e=yn){if(e===yn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Cs=new on("Set Injector scope."),Is={},As={};let xs;function ks(){return void 0===xs&&(xs=new Ts),xs}function Os(t,e=null,n=null,r){return new Ns(t,n,e||ks(),r)}class Ns{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ln(e,n=>this.processProvider(n,t,e)),ln([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ss,Ps(void 0,this));const s=this.records.get(Cs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=yn,n=O.Default){this.assertNotDestroyed();const r=En(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof on)&&S(t);e=n&&this.injectableDefInScope(n)?Ps(Ds(t),Is):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?ks():this.parent).get(t,e=n&O.Optional&&e===yn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[bn]&&i.unshift(e[bn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{En(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ln(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ln(r,t=>this.processProvider(t,n,r||G))}}this.injectorDefTypes.add(s);const a=yt(s)||(()=>new s);this.records.set(s,Ps(a,Is));const u=r.providers;if(null!=u&&!o){const e=t;ln(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Fs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Ls(t)?Ps(void 0,t.useValue):Ps(Rs(t),Is)}(t);if(Fs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Ps(void 0,Is,!0),e.factory=()=>Cn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Is&&(e.value=As,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ds(t){const e=S(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof on)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=fn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Rs(t,e,n){let r;if(Fs(t)){const e=p(t);return yt(e)||Ds(e)}if(Ls(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Cn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Tn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||Ds(e);r=()=>new e(...Cn(t.deps))}var i;return r}function Ps(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ls(t){return null!==t&&"object"==typeof t&&_n in t}function Fs(t){return"function"==typeof t}const Ms=function(t,e,n){return function(t,e=null,n=null,r){const i=Os(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Vs=(()=>{class t{static create(t,e){return Array.isArray(t)?Ms(t,e,""):Ms(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=yn,t.NULL=new Ts,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>Tn(Ss)}),t.__NG_ELEMENT_ID__=-1,t})();function Us(t,e){be(_r(t)[1],Ht())}function js(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=qs(t.inputs),e.declaredInputs=qs(t.declaredInputs),e.outputs=qs(t.outputs);const n=i.hostBindings;n&&zs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Bs(t,s),o&&Gs(t,o),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===js&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oe(i.hostAttrs,n=Oe(n,i.hostAttrs))}}(r)}function qs(t){return t===B?{}:t===G?[]:t}function Bs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Gs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function zs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Hs=null;function Zs(){if(!Hs){const t=q.Symbol;if(t&&t.iterator)Hs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Hs=n)}}}return Hs}class Ks{constructor(t){this.wrapped=t}static wrap(t){return new Ks(t)}static unwrap(t){return Ks.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ks}}function $s(t){return!!Qs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Zs()in t)}function Qs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ws(t,e,n){return t[e]=n}function Js(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ys(t,e,n,r){const i=Js(t,e,n);return Js(t,e+1,r)||i}function Xs(t,e,n,r){const i=Bt();return Js(i,ee(),e)&&(Gt(),function(t,e,n,r,i,s){const o=Nt(t,e);is(e[11],o,s,t.value,n,r,i)}(ve(),i,t,e,n,r)),Xs}function to(t,e,n,r){return Js(t,ee(),n)?e+y(n)+r:Ti}function eo(t,e,n,r,i,s,o,a){const u=Bt(),c=Gt(),l=t+ct,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Li(e,t,4,o||null,Mt(c,a));Wi(e,n,l,Mt(c,u)),be(e,l);const h=l.tViews=Zi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];$t(h,!1);const d=u[11].createComment("");ni(c,u,d,h),br(d,u),hs(u,u[l]=as(d,u,d,h)),mt(h)&&Gi(c,u,h),null!=o&&zi(u,h,a)}function no(t){return Rt(jt.lFrame.contextLView,ct+t)}function ro(t,e=O.Default){const n=Bt();return null===n?Tn(t,e):He(Ht(),n,p(t),e)}function io(t,e,n){const r=Bt();return Js(r,ee(),e)&&Qi(Gt(),ve(),r,t,e,r[11],n,!1),io}function so(t,e,n,r,i){const s=i?"class":"style";_s(t,n,e.inputs[s],s,r)}function oo(t,e,n,r){const i=Bt(),s=Gt(),o=ct+t,a=i[11],u=i[o]=jr(a,e,jt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Li(e,t,2,i,Mt(a,s));return Wi(e,n,u,Mt(a,o)),null!==u.attrs&&Es(u,u.attrs,!1),null!==u.mergedAttrs&&Es(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];$t(c,!0);const l=c.mergedAttrs;null!==l&&Ae(a,u,l);const h=c.classes;null!==h&&hi(a,u,h);const d=c.styles;null!==d&&li(a,u,d),64!=(64&c.flags)&&ni(s,i,u,c),0===jt.lFrame.elementDepthCount&&br(u,i),jt.lFrame.elementDepthCount++,mt(c)&&(Gi(s,i,c),Bi(s,c,i)),null!==r&&zi(i,c)}function ao(){let t=Ht();Qt()?Wt():(t=t.parent,$t(t,!1));const e=t;jt.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(be(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&so(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&so(n,e,Bt(),e.stylesWithoutHost,!1)}function uo(t,e,n,r){oo(t,e,n,r),ao()}function co(t,e,n){const r=Bt(),i=Gt(),s=t+ct,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Mt(s,r),a=Li(e,t,8,"ng-container",o);return null!==o&&Es(a,o,!0),Wi(e,n,a,Mt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];$t(o,!0);const a=r[s]=r[11].createComment("");ni(i,r,a,o),br(a,r),mt(o)&&(Gi(i,r,o),Bi(i,o,r)),null!=n&&zi(r,o)}function lo(){let t=Ht();const e=Gt();Qt()?Wt():(t=t.parent,$t(t,!1)),e.firstCreatePass&&(be(e,t),ft(t)&&e.queries.elementEnd(t))}function ho(){return Bt()}function fo(t){return!!t&&"function"==typeof t.then}function po(t){return!!t&&"function"==typeof t.subscribe}const mo=po;function go(t,e,n,r){const i=Bt(),s=Gt(),o=Ht();return function(t,e,n,r,i,s,o,a){const u=mt(r),c=t.firstCreatePass&&vs(t),l=ys(e);let h=!0;if(3&r.type||a){const d=Nt(r,e),f=a?a(d):d,p=l.length,m=a?t=>a(kt(t[r.index])):r.index;if(At(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=vo(r,e,0,s,!1);const t=n.listen(f,i,s);l.push(s,t),c&&c.push(i,m,p,p+1)}}else s=vo(r,e,0,s,!0),f.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,p,o)}else s=vo(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,!!n,r),go}function yo(t,e,n,r){try{return!1!==n(r)}catch(i){return bs(t,i),!1}}function vo(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&ds(o);let a=yo(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=yo(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function bo(t=1){return function(t){return(jt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,jt.lFrame.contextLView))[8]}(t)}function _o(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?_i(t,s,!0):wi(r,s))return i}else n=i}return n}function wo(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=fn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?_o(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Eo(t,e=0,n){const r=Bt(),i=Gt(),s=Li(i,ct+t,16,null,n||null);null===s.projection&&(s.projection=e),Wt(),64!=(64&s.flags)&&function(t,e,n){ci(e[11],0,e,n,Hr(t,n,e),Jr(n.parent||e[6],n,e))}(i,r,s)}function So(t,e,n){return To(t,"",e,"",n),So}function To(t,e,n,r,i){const s=Bt(),o=to(s,e,n,r);return o!==Ti&&Qi(Gt(),ve(),s,t,o,s[11],i,!1),To}function Co(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?xi(s):Oi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Io(t[a],e)&&(u=!0,t[a+1]=r?Di(n):ki(n)),a=r?xi(n):Oi(n)}u&&(t[n+1]=r?ki(s):Di(s))}function Io(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gn(t,e)>=0}const Ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xo(t){return t.substring(Ao.key,Ao.keyEnd)}function ko(t,e){const n=Ao.textEnd;return n===e?-1:(e=Ao.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ao.key=e,n),Oo(t,e,n))}function Oo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function No(t,e,n){return Lo(t,e,n,!1),No}function Do(t,e){return Lo(t,e,null,!0),Do}function Ro(t){Fo(pn,Po,t,!0)}function Po(t,e){for(let n=function(t){return function(t){Ao.key=0,Ao.keyEnd=0,Ao.value=0,Ao.valueEnd=0,Ao.textEnd=t.length}(t),ko(t,Oo(t,0,Ao.textEnd))}(e);n>=0;n=ko(e,n))pn(t,xo(e),!0)}function Lo(t,e,n,r){const i=Bt(),s=Gt(),o=ne(2);s.firstUpdatePass&&Vo(s,t,o,r),e!==Ti&&Js(i,o,e)&&qo(s,s.data[ge()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Vn(t)))),t}(e,n),r,o)}function Fo(t,e,n,r){const i=Gt(),s=ne(2);i.firstUpdatePass&&Vo(i,null,s,r);const o=Bt();if(n!==Ti&&Js(o,s,n)){const a=i.data[ge()];if(zo(a,r)&&!Mo(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),so(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Ti&&(i=G);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,m=null;l===h?(u+=2,c+=2,d!==f&&(m=h,p=f)):null===h||null!==l&&l<h?(u+=2,m=l):(c+=2,m=h,p=f),null!==m&&qo(t,e,n,r,m,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return G;const r=[],i=Vn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Mo(t,e){return e>=t.expandoStartIndex}function Vo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ge()],o=Mo(t,n);zo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=jt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=jo(n=Uo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Uo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Oi(r))return t[xi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Uo(null,t,e,n[1],r),n=jo(n,e.attrs,r),function(t,e,n,r){t[xi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=jo(r,t[s].hostAttrs,n);return jo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=xi(o),u=Oi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||gn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=xi(t[a+1]);t[r+1]=Ai(e,a),0!==e&&(t[e+1]=Ni(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ai(a,0),0!==a&&(t[a+1]=Ni(t[a+1],r)),a=r;else t[r+1]=Ai(u,0),0===a?a=r:t[u+1]=Ni(t[u+1],r),u=r;l&&(t[r+1]=ki(t[r+1])),Co(t,c,r,!0),Co(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&gn(s,e)>=0&&(n[r+1]=Di(n[r+1]))}(e,c,t,r,s),o=Ai(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Uo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=jo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function jo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pn(t,o,!!n||e[++s]))}return void 0===t?null:t}function qo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Go(1==(1&c)?Bo(u,e,n,i,Oi(c),o):void 0)||(Go(s)||2==(2&c)&&(s=Bo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=At(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:kr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=kr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Ot(ge(),n),i,s))}function Bo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Ti&&(l=c?G:void 0);let h=c?mn(l,r):u===r?l:void 0;if(s&&!Go(h)&&(h=mn(e,r)),Go(h)&&(a=h,o))return a;const d=t[i+1];i=o?xi(d):Oi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=mn(t,r))}return a}function Go(t){return void 0!==t}function zo(t,e){return 0!=(t.flags&(e?16:32))}function Ho(t,e=""){const n=Bt(),r=Gt(),i=t+ct,s=r.firstCreatePass?Li(r,i,1,e,null):r.data[i],o=n[i]=Mr(n[11],e);ni(r,n,o,s),$t(s,!1)}function Zo(t){return Ko("",t,""),Zo}function Ko(t,e,n){const r=Bt(),i=to(r,t,e,n);return i!==Ti&&ws(r,ge(),i),Ko}function $o(t,e,n,r,i){const s=Bt(),o=function(t,e,n,r,i,s){const o=Ys(t,te(),n,i);return ne(2),o?e+y(n)+r+y(i)+s:Ti}(s,t,e,n,r,i);return o!==Ti&&ws(s,ge(),o),$o}function Qo(t,e,n,r,i,s,o,a,u){Fo(pn,Po,function(t,e,n,r,i,s,o,a,u,c){const l=function(t,e,n,r,i,s){const o=Ys(t,e,n,r);return Ys(t,e+2,i,s)||o}(t,te(),n,i,o,u);return ne(4),l?e+y(n)+r+y(i)+s+y(o)+a+y(u)+c:Ti}(Bt(),t,e,n,r,i,s,o,a,u),!0)}function Wo(t,e,n){const r=Bt();return Js(r,ee(),e)&&Qi(Gt(),ve(),r,t,e,r[11],n,!0),Wo}const Jo=void 0;var Yo=["en",[["a","p"],["AM","PM"],Jo],[["AM","PM"],Jo,Jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jo,"{1} 'at' {0}",Jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Xo={};function ta(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=na(e);if(n)return n;const r=e.split("-")[0];if(n=na(r),n)return n;if("en"===r)return Yo;throw new Error(`Missing locale data for the locale "${t}".`)}function ea(t){return ta(t)[ra.PluralCase]}function na(t){return t in Xo||(Xo[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),Xo[t]}var ra=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ia=["zero","one","two","few","many"],sa="en-US",oa={marker:"element"},aa={marker:"ICU"};var ua=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let ca=sa;function la(t){var e;null==(e=t)&&_("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ca=t.toLowerCase().replace(/_/g,"-"))}function ha(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Yr(t,0,n):kt(n[i])}function da(t,e,n,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)Kr(t,o,n[s[e]],a,!1)}}function fa(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];pa(r)||ma(r,e)&&null===ga(r)&&ya(r,e.index)}}function pa(t){return!(64&t.type)}function ma(t,e){return pa(e)||t.index>e.index}function ga(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function ya(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ei(ha,da),t.insertBeforeIndex=e)}function va(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function ba(t,e,n){const r=Fi(t,n,64,null,null);return fa(e,r),r}function _a(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let wa=0,Ea=0;function Sa(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Mr(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===o&&(o=c,s=Wr(i,r)),c===o?(l=r,h=s):(l=null,h=kt(n[c])),null!==h){const e=(131070&u)>>>1;Kr(i,h,n[e],l,!1);const r=va(t,e);if(null!==r&&"object"==typeof r){const e=_a(r,n);null!==e&&Sa(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const d=e[++a],f=e[++a];is(i,Ot(u>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case aa:const t=e[++a],r=e[++a];null===n[r]&&br(n[r]=Ur(i,t),n);break;case oa:const s=e[++a],o=e[++a];null===n[o]&&br(n[o]=jr(i,s,null),n)}}}function Ta(t,e,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=y(e[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],u=n[++o],c=t.data[a];"string"==typeof c?is(e[11],e[a],null,c,s,i,u):Qi(t,c,e,s,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Vr(e[11],l,i);break;case 2:Ia(t,va(t,a),e,i);break;case 3:Ca(t,va(t,a),r,e)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=va(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Ca(t,n,r,e)}}s+=a}}function Ca(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=wa;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),Ta(t,r,e.update[i],n,s)}}function Ia(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ea(e)(parseInt(t,10)),r=ia[n];return void 0!==r?r:"other"}(e,ca);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(_a(e,n)!==i&&(Aa(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Sa(t,e.create[i],n,r)}}function Aa(t,e,n){let r=_a(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Ot(r,n);null!==t&&oi(n[11],t)}else Aa(t,va(t,~r),n)}}}const xa=/\ufffd(\d+):?\d*\ufffd/gi,ka=/\ufffd(\d+)\ufffd/,Oa=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Na=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Da=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ra=/\uE500/g;function Pa(t,e,n,r,i,s,o){const a=Mi(t,r,1,null);let u=a<<ua.SHIFT,c=Kt();e===c&&(c=null),null===c&&(u|=ua.APPEND_EAGERLY),o&&(u|=ua.COMMENT,void 0===Or&&(Or=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=_a(t,e);n=null!==i?t.remove[i]:G}function s(){if(r<n.length){const o=n[r++];return o>0?e[o]:(t.push(r,n),i(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),r=t.pop(),s())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),s}}())),i.push(u,null===s?"":s);const l=Fi(t,a,o?32:1,null===s?"":s,null);fa(n,l);const h=l.index;return $t(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(ei(ha,da),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&_("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function La(t,e,n,r,i,s,o){const a=o.match(xa),u=Pa(t,e,n,s,r,a?null:o,!1);a&&Fa(i,o,u.index,null,0,null)}function Fa(t,e,n,r,i,s){const o=t.length,a=o+1;t.push(null,null);const u=o+2,c=e.split(xa);let l=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=Ma(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,s),t[o]=l,t[a]=t.length-u,l}function Ma(t){return 1<<Math.min(t,31)}function Va(t){let e,n,r="",i=0,s=!1;for(;null!==(e=Na.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function Ua(t,e,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Mi(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Ma(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,s),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,s,a);const u=i.values;for(let c=0;c<u.length;c++){const s=u[c],l=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=l.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=Ba(t,a,e,n,r,i.cases[c],s.join(""),l)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function ja(t){const e=[],n=[];let r=1,i=0;const s=qa(t=t.replace(Oa,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=qa(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function qa(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Oa.test(n)?r.push(ja(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function Ba(t,e,n,r,i,s,o,a){const u=[],c=[],l=[];e.cases.push(s),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Zn(It()).getInertBodyElement(o),d=gr(h)||h;return d?Ga(t,e,n,r,u,c,l,d,i,a,0):0}function Ga(t,e,n,r,i,s,o,a,u,c,l){let h=0,d=a.firstChild;for(;d;){const a=Mi(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(sr.hasOwnProperty(p)){Za(i,oa,p,u,a),t.data[a]=p;const m=f.attributes;for(let t=0;t<m.length;t++){const e=m.item(t),n=e.name.toLowerCase();e.value.match(xa)?ur.hasOwnProperty(n)&&Fa(o,e.value,a,e.name,0,or[n]?Jn:ar[n]?Yn:null):Ka(i,a,e)}h=Ga(t,e,n,r,i,s,o,d,a,c,l+1)|h,za(s,a,l)}break;case Node.TEXT_NODE:const m=d.textContent||"",g=m.match(xa);Za(i,null,g?"":m,u,a),za(s,a,l),g&&(h=Fa(o,m,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=ka.exec(d.textContent||"");if(y){const e=c[parseInt(y[1],10)];Za(i,aa,"",u,a),Ua(t,n,r,u,e,a),Ha(s,a,l)}}d=d.nextSibling}return h}function za(t,e,n){0===n&&t.push(e)}function Ha(t,e,n){0===n&&(t.push(~e),t.push(e))}function Za(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Ka(t,e,n){t.push(e<<1|1,n.name,n.value)}function $a(t,e,n){(function(t,e,n=-1){const r=Gt(),i=Bt(),s=ct+t,o=Mt(r.consts,e),a=Kt();r.firstCreatePass&&function(t,e,n,r,i,s){const o=Kt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Va(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Va(t.substring(n,r))}}(i,s),h.replace(Ra," ")).split(Da);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const s=qa(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const e=l;""!==e&&La(t,o,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);Ua(t,n,u,e,r,Pa(t,o,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ct+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),$t(Kt(),!1);else{const e=ba(t,c[0],n);c.unshift([]),$t(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,s,o,n);const u=r.data[s],c=Zr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],u=(o&ua.COMMENT)===ua.COMMENT,c=(o&ua.APPEND_EAGERLY)===ua.APPEND_EAGERLY,l=o>>>ua.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Mr(i,a)),c&&null!==n&&Kr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),re(!0)})(t,e,n),re(!1)}function Qa(t){return Js(Bt(),ee(),t)&&(wa|=1<<Math.min(Ea,31)),Ea++,Qa}function Wa(t){!function(t,e,n){if(Ea>0){const r=t.data[n];Ta(t,e,Array.isArray(r)?r:r.update,te()-Ea-1,wa)}wa=0,Ea=0}(Gt(),Bt(),t+ct)}function Ja(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ja(t[s],e,n,r,i);else{const s=Gt(),o=Bt();let a=Fs(t)?t:p(t.provide),u=Rs(t);const c=Ht(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Fs(t)||!t.multi){const r=new Ie(u,i,ro),f=tu(a,e,i?l:l+d,h);-1===f?(Be(Ve(c,o),s,a),Ya(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=tu(a,e,l+d,h),p=tu(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Be(Ve(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ie(t,n,ro);return s.multi=[],s.index=e,s.componentProviders=0,Xa(s,i,r&&!n),s}(i?nu:eu,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),Ya(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Ya(s,t,f>-1?f:p,Xa(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Ya(t,e,n,r){const i=Fs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Xa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function eu(t,e,n,r){return ru(this.multi,[])}function nu(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=We(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),ru(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ru(i,s);return s}function ru(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function iu(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Gt();if(r.firstCreatePass){const i=gt(t);Ja(n,r.data,r.blueprint,i,!0),Ja(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class su{}class ou{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let au=(()=>{class t{}return t.NULL=new ou,t})();function uu(...t){}function cu(t,e){return new hu(Nt(t,e))}const lu=function(){return cu(Ht(),Bt())};let hu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=lu,t})();function du(t){return t instanceof hu?t.nativeElement:t}class fu{}let pu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>mu(),t})();const mu=function(){const t=Bt(),e=Pt(Ht().index,t);return function(t){return t[11]}(ht(e)?e:t)};let gu=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class yu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const vu=new yu("12.0.1");class bu{constructor(){}supports(t){return $s(t)}create(t){return new wu(t)}}const _u=(t,e)=>e;class wu{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||_u}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Cu(n,r,i)?e:n,o=Cu(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!$s(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Zs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Eu(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Tu),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Eu{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Su{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Tu{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Su,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cu(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Iu{constructor(){}supports(t){return t instanceof Map||Qs(t)}create(){return new Au}}class Au{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Qs(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new xu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class xu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ku(){return new Ou([new bu])}let Ou=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ku()),deps:[[t,new kn,new xn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:ku}),t})();function Nu(){return new Du([new Iu])}let Du=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Nu()),deps:[[t,new kn,new xn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Nu}),t})();function Ru(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(kt(s)),dt(s))for(let t=lt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Ru(e[1],e,n,r)}const o=n.type;if(8&o)Ru(t,e,n.child,r);else if(32&o){const t=Nr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=ii(e,n);if(Array.isArray(t))r.push(...t);else{const n=Dr(e[16]);Ru(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Pu{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ru(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Br(t,n),dn(e,n))}this._attachedToViewContainer=!1}Gr(this._lView[1],this._lView)}onDestroy(t){Ki(this._lView[1],this._lView,null,t)}markForCheck(){ds(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Yt(!0);try{fs(t,e,n)}finally{Yt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ui(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Lu extends Pu{constructor(t){super(t),this._view=t}detectChanges(){ps(this._view)}checkNoChanges(){!function(t){Yt(!0);try{ps(t)}finally{Yt(!1)}}(this._view)}get context(){return null}}const Fu=function(t){return function(t,e,n){if(pt(t)&&!n){const n=Pt(t.index,e);return new Pu(n,n)}return 47&t.type?new Pu(e[16],e):null}(Ht(),Bt(),16==(16&t))};let Mu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fu,t})();const Vu=[new Iu],Uu=new Ou([new bu]),ju=new Du(Vu),qu=function(){return Hu(Ht(),Bt())};let Bu=(()=>{class t{}return t.__NG_ELEMENT_ID__=qu,t})();const Gu=Bu,zu=class extends Gu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Pi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Vi(e,n,t),new Pu(n)}};function Hu(t,e){return 4&t.type?new zu(e,t,cu(t,e)):null}class Zu{}class Ku{}const $u=function(){return tc(Ht(),Bt())};let Qu=(()=>{class t{}return t.__NG_ELEMENT_ID__=$u,t})();const Wu=Qu,Ju=class extends Wu{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return cu(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=qe(this._hostTNode,this._hostLView);if(De(t)){const e=Pe(t,this._hostLView),n=Re(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Yu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Zu,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ju(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=lt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-lt?(e[4]=n[i],hn(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=si(i,s),a=n[11],u=Wr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,ui(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),hn(Xu(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Yu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Br(this._lContainer,e);n&&(dn(Xu(this._lContainer),e),Gr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Br(this._lContainer,e);return n&&null!=dn(Xu(this._lContainer),e)?new Pu(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Yu(t){return t[8]}function Xu(t){return t[8]||(t[8]=[])}function tc(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Kr(n,Wr(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=as(r,e,i,t),hs(e,n)}return new Ju(n,t,e)}const ec={};class nc extends au{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new sc(e,this.ngModule)}}function rc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ic=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ar});class sc extends su{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return rc(this.componentDef.inputs)}get outputs(){return rc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,ec,i);return s!==ec||r===ec?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(fu,xt),o=i.get(gu,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):jr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ar,clean:gs,playerHandler:null,flags:0},d=Zi(0,null,null,1,0,null,null,null,null,null),f=Pi(null,d,h,l,null,null,s,a,o,i);let p,m;le(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Li(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Es(a,u,!0),null!==t&&(Ae(i,t,u),null!==a.classes&&hi(i,t,a.classes),null!==a.styles&&li(i,t,a.styles)));const c=r.createRenderer(t,e),l=Pi(n,Hi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Be(Ve(a,n),o,e.type),Xi(o,a),es(a,n.length,1)),hs(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Ae(a,c,["ng-version",vu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!vi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ae(a,c,t),e&&e.length>0&&hi(a,c,e.join(" "))}if(m=Dt(d,ct),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Ht();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ns(t,r,e,Mi(t,e,1,null),n));const i=We(e,t,r.directiveStart,r);br(i,e);const s=Nt(r,e);return s&&br(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Ht();e.contentQueries(1,o,t.directiveStart)}const a=Ht();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(a.index),Ji(n[1],a,0,a.directiveStart,a.directiveEnd,e),Yi(e,o)),o}(t,this.componentDef,f,h,[Us]),Vi(d,f,null)}finally{me()}return new oc(this.componentType,p,cu(m,f),f,m)}}class oc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Lu(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ac=new Map;class uc extends Zu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nc(this);const n=ut(t),r=t[$]||null;r&&la(r),this._bootstrapComponents=xr(n.bootstrap),this._r3Injector=Os(t,e,[{provide:Zu,useValue:this},{provide:au,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Vs.THROW_IF_NOT_FOUND,n=O.Default){return t===Vs||t===Zu||t===Ss?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class cc extends Ku{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,ac.get(i),n),ac.set(i,n));const s=xr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new uc(this.moduleType,t)}}function lc(t,e,n){const r=Xt()+t,i=Bt();return i[r]===Ti?Ws(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function hc(t,e,n,r){return mc(Bt(),Xt(),t,e,n,r)}function dc(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return Ys(t,a,i,s)?Ws(t,a+2,o?r.call(o,i,s):r(i,s)):pc(t,a+2)}(Bt(),Xt(),t,e,n,r,i)}function fc(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=Ys(t,e,n,r);return Js(t,e+2,i)||s}(t,u,i,s,o)?Ws(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):pc(t,u+3)}(Bt(),Xt(),t,e,n,r,i,s)}function pc(t,e){const n=t[e];return n===Ti?void 0:n}function mc(t,e,n,r,i,s){const o=e+n;return Js(t,o,i)?Ws(t,o+1,s?r.call(s,i):r(i)):pc(t,o+1)}function gc(t,e){const n=Gt();let r;const i=t+ct;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=yt(r.type)),o=D(ro);try{const t=Fe(!1),e=s();return Fe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Bt(),i,e),e}finally{D(o)}}function yc(t,e,n){const r=t+ct,i=Bt(),s=Rt(i,r);return function(t,e){return Ks.isWrapped(e)&&(e=Ks.unwrap(e),t[te()]=Ti),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?mc(i,Xt(),e,s.transform,n,s):s.transform(n))}function vc(t){return e=>{setTimeout(t,void 0,e)}}const bc=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=vc(u),a&&(a=vc(a)),c&&(c=vc(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function _c(){return this._results[Zs()]()}class wc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Zs(),n=wc.prototype;n[e]||(n[e]=_c)}get changes(){return this._changes||(this._changes=new bc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=cn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ec{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ec(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Sc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Mc(t,e).matches&&this.queries[e].setDirty()}}class Tc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Cc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Cc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ic{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ic(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ac(e,i)),this.matchTNodeWithReadOption(t,e,Qe(e,t,i,!1,!1))}else n===Bu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===hu||r===Qu||r===Bu&&4&e.type)this.addMatch(e.index,-2);else{const n=Qe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ac(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function xc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?cu(t,e):4&t.type?Hu(t,e):null}(e,t):-2===n?function(t,e,n){return n===hu?cu(e,t):n===Bu?Hu(e,t):n===Qu?tc(e,t):void 0}(t,e,r):We(t,t[1],n,e)}function kc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:xc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Oc(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=kc(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=lt;t<o.length;t++){const e=o[t];e[17]===e[3]&&Oc(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Oc(n[1],n,i,r)}}}}}return r}function Nc(t){const e=Bt(),n=Gt(),r=oe();ae(r+1);const i=Mc(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Oc(n,e,r,[]):kc(n,e,i,r);t.reset(s,du),t.notifyOnChanges()}return!0}return!1}function Dc(t,e,n){const r=Gt();r.firstCreatePass&&(Fc(r,new Tc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Lc(r,Bt(),e)}function Rc(t,e,n,r){const i=Gt();if(i.firstCreatePass){const s=Ht();Fc(i,new Tc(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Lc(i,Bt(),n)}function Pc(){return t=Bt(),e=oe(),t[19].queries[e].queryList;var t,e}function Lc(t,e,n){const r=new wc(4==(4&n));Ki(t,e,r,r.destroy),null===e[19]&&(e[19]=new Sc),e[19].queries.push(new Ec(r))}function Fc(t,e,n){null===t.queries&&(t.queries=new Cc),t.queries.track(new Ic(e,n))}function Mc(t,e){return t.queries.getByIndex(e)}function Vc(t,e){return Hu(t,e)}const Uc=new on("Application Initializer");let jc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=uu,this.reject=uu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(fo(e))t.push(e);else if(mo(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Tn(Uc,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const qc=new on("AppId"),Bc={provide:qc,useFactory:function(){return`${Gc()}${Gc()}${Gc()}`},deps:[]};function Gc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zc=new on("Platform Initializer"),Hc=new on("Platform ID"),Zc=new on("appBootstrapListener");let Kc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const $c=new on("LocaleId"),Qc=new on("DefaultCurrencyCode");class Wc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Jc=function(t){return new cc(t)},Yc=Jc,Xc=function(t){return Promise.resolve(Jc(t))},tl=function(t){const e=Jc(t),n=xr(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new sc(n)),t},[]);return new Wc(e,n)},el=tl,nl=function(t){return Promise.resolve(tl(t))};let rl=(()=>{class t{constructor(){this.compileModuleSync=Yc,this.compileModuleAsync=Xc,this.compileModuleAndAllComponentsSync=el,this.compileModuleAndAllComponentsAsync=nl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const il=(()=>Promise.resolve(0))();function sl(t){"undefined"==typeof Zone?il.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ol{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bc(!1),this.onMicrotaskEmpty=new bc(!1),this.onStable=new bc(!1),this.onError=new bc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,cl(t),t.isCheckStableRunning=!0,ul(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),cl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ll(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),hl(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return ll(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),hl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,cl(t),ul(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ol.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ol.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,al,uu,uu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const al={};function ul(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ll(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hl(t){t._nesting--,ul(t)}class dl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bc,this.onMicrotaskEmpty=new bc,this.onStable=new bc,this.onError=new bc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let fl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ol.assertNotInAngularZone(),sl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Tn(ol))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),pl=(()=>{class t{constructor(){this._applications=new Map,vl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return vl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class ml{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function gl(t){vl=t}let yl,vl=new ml,bl=!0,_l=!1;function wl(){return _l=!0,bl}function El(){if(_l)throw new Error("Cannot enable prod mode after platform setup.");bl=!1}const Sl=new on("AllowMultipleToken");class Tl{constructor(t,e){this.name=t,this.token=e}}function Cl(t,e,n=[]){const r=`Platform: ${e}`,i=new on(r);return(e=[])=>{let s=Il();if(!s||s.injector.get(Sl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Cs,useValue:"platform"});!function(t){if(yl&&!yl.destroyed&&!yl.injector.get(Sl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yl=t.get(Al);const e=t.get(zc,null);e&&e.forEach(t=>t())}(Vs.create({providers:t,name:r}))}return function(t){const e=Il();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Il(){return yl&&!yl.destroyed?yl:null}let Al=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new dl:("zone.js"===t?void 0:t)||new ol({enableLongStackTrace:wl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:ol,useValue:n}];return n.run(()=>{const e=Vs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Tr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Ol(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return fo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(jc);return t.runInitializers(),t.donePromise.then(()=>(la(i.injector.get($c,sa)||sa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=xl({},e);return function(t,e,n){const r=new cc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(kl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Tn(Vs))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function xl(t,e){return Array.isArray(e)?e.reduce(xl,t):Object.assign(Object.assign({},t),e)}let kl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ol.assertNotInAngularZone(),sl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ol.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(u,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof su?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Zu),i=n.create(Vs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(fl,null),a=o&&i.injector.get(pl);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Ol(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ol(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Zc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Tn(ol),Tn(Vs),Tn(Tr),Tn(au),Tn(jc))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Ol(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Nl{}class Dl{}const Rl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Pl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Rl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Ll(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ll(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Tn(rl),Tn(Dl,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Ll(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Fl=function(t){return null},Ml=Cl(null,"core",[{provide:Hc,useValue:"unknown"},{provide:Al,deps:[Vs]},{provide:pl,deps:[]},{provide:Kc,deps:[]}]),Vl=[{provide:kl,useClass:kl,deps:[ol,Vs,Tr,au,jc]},{provide:ic,deps:[ol],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:jc,useClass:jc,deps:[[new xn,Uc]]},{provide:rl,useClass:rl,deps:[]},Bc,{provide:Ou,useFactory:function(){return Uu},deps:[]},{provide:Du,useFactory:function(){return ju},deps:[]},{provide:$c,useFactory:function(t){return la(t=t||"undefined"!=typeof $localize&&$localize.locale||sa),t},deps:[[new An($c),new xn,new kn]]},{provide:Qc,useValue:"USD"}];let Ul=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Tn(kl))},t.\u0275mod=nt({type:t}),t.\u0275inj=E({providers:Vl}),t})()},2346:(t,e,n)=>{"use strict";n.d(e,{hO:()=>I,xv:()=>b,Dh:()=>v,HU:()=>f,GT:()=>y,sI:()=>T,on:()=>w,ss:()=>p,pX:()=>g,yq:()=>E});var r=n(8489),i=n(8569),s=n(4019),o=n(2893),a=n(45),u=n(5366),c=n(1858);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,s.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe((0,o.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig"),_=new u.GfV("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:w,deps:[v,u.R0b,[new u.FiY,b]]};let I=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",_.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[C]}),t})()},1062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var r,i,s=n(4762),o=n(250),a=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.LL("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,o.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,o.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,o.r3)(e,t=t||d))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&(0,o.ZB)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=(0,s.pi)((0,s.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,o.ZB)(e,t)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,o.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(_);const w=_},5119:(t,e,n)=>{"use strict";n.d(e,{wA:()=>s,H0:()=>u});var r=n(4762),i=n(250),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=(0,r.pi)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,u=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=(0,r.CR)(h.value,2),f=d[1];u===this.normalizeInstanceIdentifier(d[0])&&f.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(c,u),c},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var s=(0,r.XA)(this.onInitCallbacks),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},308:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,{in:()=>o,Yd:()=>h,Ub:()=>d,Am:()=>f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},250:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>b,r3:()=>E,Sg:()=>u,ne:()=>S,p$:()=>s,ZB:()=>o,m9:()=>I,z$:()=>c,jU:()=>d,ru:()=>f,d:()=>m,w1:()=>g,uI:()=>l,UG:()=>h,b$:()=>p,Mn:()=>y});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return c().indexOf("Electron/")>=0}function g(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return(0,r.ZT)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?_(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new v(i,a,r);return u},t}();function _(t,e){return t.replace(w,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var w=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new T(t,e);return n.subscribe.bind(n)}var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function I(t){return t&&t._delegate?t._delegate:t}},1858:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(1062);r.Z.registerVersion("firebase","8.6.2","app")},8861:(t,e,n)=>{"use strict";n.d(e,{P:()=>o});var r=n(653),i=n(878),s=n(8318);let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return t=this.error,new s.y(e=>e.error(t));case"C":return(0,r.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(6673),i=n(5331),s=n(7498),o=n(6197),a=n(3392),u=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(s.c)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>s});var r=n(1484),i=n(4294);const s={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(8318),i=n(6673),s=n(7570),o=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(7570);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(5024),i=n(7498),s=n(7570),o=n(5331),a=n(1484),u=n(4294);class c extends s.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(8470),i=n(2056),s=n(5024);const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>o,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),s=n(6015);class o extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,s.s)(t)(e)}catch(r){e.error(r)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(5959),i=n(8318),s=n(7570),o=n(1564);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t}refCount(){return(0,o.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>s});var r=n(8318);const i=new r.y(t=>t.complete());function s(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(8318),i=n(6015),s=n(7570),o=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>{const i=t[o.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>o});var r=n(8318),i=n(625),s=n(2570);function o(t,e){return e?(0,s.r)(t,e):new r.y((0,i.V)(t))}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(8318),i=n(6163),s=n(7471),o=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,s.J)(e)((0,o.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>o});var r=n(6163),i=n(9342),s=n(2570);function o(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,s.r)(t,e)):(0,i.n)(t)}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(6673);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>s});var r=n(3982),i=n(3392);function s(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>o});var r=n(9996),i=n(9764),s=n(6882);function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>(0,i.D)(t(n,s)).pipe((0,r.U)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.IY(this),n=this.destination;n.add(e);const r=(0,s.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},45:(t,e,n)=>{"use strict";n.d(e,{QV:()=>s,ht:()=>a});var r=n(6673),i=n(8861);function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.P.createNext(t))}_error(t){this.scheduleMessage(i.P.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(6673);function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},1055:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var r=n(2875),i=n(1564),s=n(5959);function o(){return new s.xQ}function a(){return t=>{return(0,i.x)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},2893:(t,e,n)=>{"use strict";n.d(e,{R:()=>g});var r=n(8318);let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(8277);class l extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n(1098);class d extends h.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n(2293);class m extends r.y{constructor(t,e=0,n=f){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,p.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new m(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(m.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function g(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}},4019:(t,e,n)=>{"use strict";n.d(e,{b:()=>o});var r=n(6673),i=n(6054),s=n(5024);function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i.Z,this._tapError=i.Z,this._tapComplete=i.Z,this._tapError=n||i.Z,this._tapComplete=r||i.Z,(0,s.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.Z,this._tapError=e.error||i.Z,this._tapComplete=e.complete||i.Z)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var r=n(8318),i=n(7570);function s(t,e){return new r.y(n=>{const r=new i.w;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>s});var r=n(7570);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},8569:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>s});var r=n(8277);const i=new(n(1098).v)(r.o),s=i},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>u,N:()=>a});var r=n(8277);class i extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n(1098);class o extends s.v{}const a=new o(i),u=a},5686:(t,e,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>i});const i=r()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},3392:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},2293:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var r=n(8470);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},2056:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},5168:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},6163:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},6054:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(625),i=n(4294),s=n(5686),o=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=t=>{if(t&&"function"==typeof t[o.L])return l=t,t=>{const e=l[o.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[s.hZ])return e=t,t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},7743:(t,e,n)=>{"use strict";var r=n(5366);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(o).location;return new b((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let b=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(g),r.LFG(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new w((0,r.LFG)(g),(0,r.LFG)(a))}function S(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.kL8;class I{}let A=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function x(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let O=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(ib){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new N(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){P("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){P("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function P(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:I,useClass:A}]}),t})();function F(t){return"server"===t}let M=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new V((0,r.LFG)(o),window)}),t})();class V{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=U(this.window.history)||U(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(ib){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ib){return!1}}}function U(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class j{}class q extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new q,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(G=G||document.querySelector("base"),G?G.getAttribute("href"):null);return null==e?null:function(t){B=B||document.createElement("a"),B.setAttribute("href",t);const e=B.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){G=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return x(document.cookie,t)}}let B,G=null;const z=new r.OlP("TRANSITION_ID"),H=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[z,o,r.zs3],multi:!0}];class Z{static init(){(0,r.VLi)(new Z)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let K=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const $=new r.OlP("EventManagerPlugins");let Q=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG($),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class W{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let J=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t extends J{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(X),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(X))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function X(t){s().remove(t)}const tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},et=/%COMP%/g;function nt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?nt(t,i,n):(i=i.replace(et,t),n.push(i))}return n}function rt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let it=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new st(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ot(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new at(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=nt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Q),r.LFG(Y),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class st{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(tt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=tt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=tt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,rt(n)):this.eventManager.addEventListener(t,e,rt(n))}}class ot extends st{constructor(t,e,n,r){super(t),this.component=n;const i=nt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(et,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(et,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class at extends st{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=nt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ut=(()=>{class t extends W{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ct=["alt","control","meta","shift"],lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},dt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ft=(()=>{class t extends W{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(ct.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ht.hasOwnProperty(e)&&(e=ht[e]))}return lt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ct.forEach(r=>{r!=n&&(0,dt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const pt=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){q.makeCurrent(),Z.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),mt=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:$,useClass:ut,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:$,useClass:ft,multi:!0,deps:[o]},[],{provide:it,useClass:it,deps:[Q,Y,r.AFp]},{provide:r.FYo,useExisting:it},{provide:J,useExisting:Y},{provide:Y,useClass:Y,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Q,useClass:Q,deps:[$,r.R0b]},{provide:j,useClass:K,deps:[]},[]];let gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:z,useExisting:r.AFp},H]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:mt,imports:[L,r.hGG]}),t})();"undefined"!=typeof window&&window;var yt=n(9764),vt=n(8318),bt=n(8470),_t=n(9996),wt=n(2056);function Et(t,e){return new vt.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=(0,yt.D)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let St=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),Tt=(()=>{class t extends St{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const Ct=new r.OlP("NgValueAccessor"),It={provide:Ct,useExisting:(0,r.Gpc)(()=>xt),multi:!0},At=new r.OlP("CompositionEventMode");let xt=(()=>{class t extends St{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(At,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([It]),r.qOj]}),t})();const kt=new r.OlP("NgValidators"),Ot=new r.OlP("NgAsyncValidators");function Nt(t){return null!=t}function Dt(t){const e=(0,r.QGY)(t)?(0,yt.D)(t):t;return(0,r.CqO)(e),e}function Rt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Pt(t,e){return e.map(e=>e(t))}function Lt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Ft(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Nt);return 0==e.length?null:function(t){return Rt(Pt(t,e))}}(Lt(t)):null}function Mt(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Nt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,bt.k)(e))return Et(e,null);if((0,wt.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Et(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Et(t=1===t.length&&(0,bt.k)(t[0])?t[0]:t,null).pipe((0,_t.U)(t=>e(...t)))}return Et(t,null)}(Pt(t,e).map(Dt)).pipe((0,_t.U)(Rt))}}(Lt(t)):null}function Vt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Ut=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ft(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),jt=(()=>{class t extends Ut{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class qt extends Ut{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Bt=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(qt,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})();function Gt(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ht(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zt="VALID",Kt="INVALID",$t="PENDING",Qt="DISABLED";function Wt(t){return(te(t)?t.validators:t)||null}function Jt(t){return Array.isArray(t)?Ft(t):t||null}function Yt(t,e){return(te(e)?e.asyncValidators:t)||null}function Xt(t){return Array.isArray(t)?Mt(t):t||null}function te(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ee{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Jt(this._rawValidators),this._composedAsyncValidatorFn=Xt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Zt}get invalid(){return this.status===Kt}get pending(){return this.status==$t}get disabled(){return this.status===Qt}get enabled(){return this.status!==Qt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Jt(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Xt(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=$t,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qt,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zt,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Zt&&this.status!==$t||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qt:Zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=$t,this._hasOwnPendingAsyncValidator=!0;const e=Dt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof re?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ie&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Qt:this.errors?Kt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($t)?$t:this._anyControlsHaveStatus(Kt)?Kt:Zt}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){te(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ne extends ee{constructor(t=null,e,n){super(Wt(e),Yt(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ht(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ht(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class re extends ee{constructor(t,e,n){super(Wt(e),Yt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ne?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ie extends ee{constructor(t,e,n){super(Wt(e),Yt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ne?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const se={provide:qt,useExisting:(0,r.Gpc)(()=>ae)},oe=(()=>Promise.resolve(null))();let ae=(()=>{class t extends qt{constructor(t,e,n,i){super(),this.control=new ne,this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===xt?n=t:Object.getPrototypeOf(t.constructor)===Tt?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Vt(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Vt(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Gt(e._rawValidators,i),Gt(e._rawAsyncValidators,i)})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&zt(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&zt(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){oe.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;oe.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(jt,9),r.Y36(kt,10),r.Y36(Ot,10),r.Y36(Ct,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([se]),r.qOj,r.TTD]}),t})(),ue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const ce=new r.OlP("NgModelWithFormControlWarning");let le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ue]]}),t})(),he=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[le]}),t})(),de=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ce,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[le]}),t})();var fe=n(878),pe=n(3982);function me(t,e){return(0,pe.zg)(t,e,1)}var ge=n(6673);function ye(t,e){return function(n){return n.lift(new ve(t,e))}}class ve{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new be(t,this.predicate,this.thisArg))}}class be extends ge.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class _e{}class we{}class Ee{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ee?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ee;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ee?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Se{encodeKey(t){return Te(t)}encodeValue(t){return Te(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Te(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Ce(t){return`${t}`}class Ie{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Se,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ie({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Ce(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(Ce(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ae{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function xe(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ke(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Oe(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ne{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ee),this.context||(this.context=new Ae),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ie,this.urlWithParams=e}serializeBody(){return null===this.body?null:xe(this.body)||ke(this.body)||Oe(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ie?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Oe(this.body)?null:ke(this.body)?this.body.type||null:xe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ie?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new Ne(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var De=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Re{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ee,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Pe extends Re{constructor(t={}){super(t),this.type=De.ResponseHeader}clone(t={}){return new Pe({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Le extends Re{constructor(t={}){super(t),this.type=De.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Le({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Fe extends Re{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Me(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ve=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Ne)r=t;else{let i,s;i=n.headers instanceof Ee?n.headers:new Ee(n.headers),n.params&&(s=n.params instanceof Ie?n.params:new Ie({fromObject:n.params})),r=new Ne(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,fe.of)(r).pipe(me(t=>this.handler.handle(t)));if(t instanceof Ne||"events"===n.observe)return i;const s=i.pipe(ye(t=>t instanceof Le));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,_t.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe((0,_t.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe((0,_t.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe((0,_t.U)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ie).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Me(n,e))}post(t,e,n={}){return this.request("POST",t,Me(n,e))}put(t,e,n={}){return this.request("PUT",t,Me(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_e))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Ue{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const je=new r.OlP("HTTP_INTERCEPTORS");let qe=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Be=/^\)\]\}',?\n/;let Ge=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vt.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Ee(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Pe({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Be,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Le({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Fe({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Fe({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:De.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:De.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:De.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(j))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ze=new r.OlP("XSRF_COOKIE_NAME"),He=new r.OlP("XSRF_HEADER_NAME");class Ze{}let Ke=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(r.Lbi),r.LFG(ze))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),$e=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ze),r.LFG(He))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Qe=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(je,[]);this.chain=t.reduceRight((t,e)=>new Ue(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(we),r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),We=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:$e,useClass:qe}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ze,useValue:e.cookieName}:[],e.headerName?{provide:He,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[$e,{provide:je,useExisting:$e,multi:!0},{provide:Ze,useClass:Ke},{provide:ze,useValue:"XSRF-TOKEN"},{provide:He,useValue:"X-XSRF-TOKEN"}]}),t})(),Je=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Ve,{provide:_e,useClass:Qe},Ge,{provide:we,useExisting:Ge}],imports:[[We.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Ye=n(5959),Xe=n(3895);class tn extends Ye.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Xe.N;return this._value}next(t){super.next(this._value=t)}}var en=n(6163);class nn extends ge.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class rn extends ge.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var sn=n(6015);function on(t,e,n,r,i=new rn(t,n,r)){if(!i.closed)return e instanceof vt.y?e.subscribe(i):(0,sn.s)(e)(i)}var an=n(9342);const un={};class cn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ln(t,this.resultSelector))}}class ln extends nn{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(un),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(on(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===un?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const hn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var dn=n(7471);function fn(...t){return(0,dn.J)(1)((0,fe.of)(...t))}var pn=n(653);function mn(t){return new vt.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,yt.D)(n):(0,pn.c)()).subscribe(e)})}var gn=n(2875),yn=n(6882);function vn(t,e){return"function"==typeof e?n=>n.pipe(vn((n,r)=>(0,yt.D)(t(n,r)).pipe((0,_t.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new bn(t))}class bn{constructor(t){this.project=t}call(t,e){return e.subscribe(new _n(t,this.project))}}class _n extends yn.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new yn.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,yn.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const wn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function En(t){return e=>0===t?(0,pn.c)():e.lift(new Sn(t))}class Sn{constructor(t){if(this.total=t,this.total<0)throw new wn}call(t,e){return e.subscribe(new Tn(t,this.total))}}class Tn extends ge.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Cn(...t){const e=t[t.length-1];return(0,en.K)(e)?(t.pop(),n=>fn(t,n,e)):e=>fn(t,e)}function In(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new An(t,e,n))}}class An{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new xn(t,this.accumulator,this.seed,this.hasSeed))}}class xn extends ge.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function kn(t){return function(e){const n=new On(t),r=e.lift(n);return n.caught=r}}class On{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Nn(t,this.selector,this.caught))}}class Nn extends yn.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new yn.IY(this);this.add(r);const i=(0,yn.ft)(n,r);i!==r&&this.add(i)}}}function Dn(t){return function(e){return 0===t?(0,pn.c)():e.lift(new Rn(t))}}class Rn{constructor(t){if(this.total=t,this.total<0)throw new wn}call(t,e){return e.subscribe(new Pn(t,this.total))}}class Pn extends ge.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ln(t=Vn){return e=>e.lift(new Fn(t))}class Fn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Mn(t,this.errorFactory))}}class Mn extends ge.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(y_){t=y_}this.destination.error(t)}}}function Vn(){return new hn}function Un(t=null){return e=>e.lift(new jn(t))}class jn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new qn(t,this.defaultValue))}}class qn extends ge.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Bn=n(3392);function Gn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ye((e,n)=>t(e,n,r)):Bn.y,En(1),n?Un(e):Ln(()=>new hn))}var zn=n(4019),Hn=n(1564),Zn=n(7570);class Kn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new $n(t,this.callback))}}class $n extends ge.L{constructor(t,e){super(t),this.add(new Zn.w(e))}}class Qn{constructor(t,e){this.id=t,this.url=e}}class Wn extends Qn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jn extends Qn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yn extends Qn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xn extends Qn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tr extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nr extends Qn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rr extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class or{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ar{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ur{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const dr="primary";class fr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pr(t){return new fr(t)}function mr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function gr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!vr(t[i],e[i]))return!1;return!0}function vr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function br(t){return Array.prototype.concat.apply([],t)}function _r(t){return t.length>0?t[t.length-1]:null}function wr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Er(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,yt.D)(Promise.resolve(t)):(0,fe.of)(t)}const Sr={exact:function t(e,n,r){if(!Dr(e.segments,n.segments))return!1;if(!xr(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Ir},Tr={exact:function(t,e){return yr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vr(t[n],e[n]))},ignored:()=>!0};function Cr(t,e,n){return Sr[n.paths](t.root,e.root,n.matrixParams)&&Tr[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Ir(t,e,n){return Ar(t,e,e.segments,n)}function Ar(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Dr(i,n)&&!e.hasChildren()&&!!xr(i,n,r)}if(t.segments.length===n.length){if(!Dr(t.segments,n))return!1;if(!xr(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ir(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!Dr(t.segments,i)&&!!xr(t.segments,i,r)&&!!t.children.primary&&Ar(t.children.primary,e,s,r)}}function xr(t,e,n){return e.every((e,r)=>Tr[n](t[r].parameters,e.parameters))}class kr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pr(this.queryParams)),this._queryParamMap}toString(){return Lr.serialize(this)}}class Or{constructor(t,e){this.segments=t,this.children=e,this.parent=null,wr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fr(this)}}class Nr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pr(this.parameters)),this._parameterMap}toString(){return Gr(this)}}function Dr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Rr{}class Pr{parse(t){const e=new $r(t);return new kr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Mr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ur(e)}=${Ur(t)}`).join("&"):`${Ur(e)}=${Ur(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Lr=new Pr;function Fr(t){return t.segments.map(t=>Gr(t)).join("/")}function Mr(t,e){if(!t.hasChildren())return Fr(t);if(e){const e=t.children.primary?Mr(t.children.primary,!1):"",n=[];return wr(t.children,(t,e)=>{e!==dr&&n.push(`${e}:${Mr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return wr(t.children,(t,r)=>{r===dr&&(n=n.concat(e(t,r)))}),wr(t.children,(t,r)=>{r!==dr&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===dr?[Mr(t.children.primary,!1)]:[`${n}:${Mr(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Fr(t)}/${e[0]}`:`${Fr(t)}/(${e.join("//")})`}}function Vr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ur(t){return Vr(t).replace(/%3B/gi,";")}function jr(t){return Vr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qr(t){return decodeURIComponent(t)}function Br(t){return qr(t.replace(/\+/g,"%20"))}function Gr(t){return`${jr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${jr(t)}=${jr(e[t])}`).join("")}`;var e}const zr=/^[^\/()?;=#]+/;function Hr(t){const e=t.match(zr);return e?e[0]:""}const Zr=/^[^=?&#]+/,Kr=/^[^?&#]+/;class $r{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Or([],{}):new Or([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Or(t,e)),n}parseSegment(){const t=Hr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Nr(qr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Hr(this.remaining);t&&(n=t,this.capture(n))}t[qr(e)]=qr(n)}parseQueryParam(t){const e=function(t){const e=t.match(Zr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Kr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Br(e),i=Br(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Hr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=dr);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Or([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Qr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Wr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Wr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Jr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Jr(t,this._root).map(t=>t.value)}}function Wr(t,e){if(t===e.value)return e;for(const n of e.children){const e=Wr(t,n);if(e)return e}return null}function Jr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Jr(t,n);if(r.length)return r.unshift(e),r}return[]}class Yr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Xr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ti extends Qr{constructor(t,e){super(t),this.snapshot=e,oi(this,t)}toString(){return this.snapshot.toString()}}function ei(t,e){const n=function(t,e){const n=new ii([],{},{},"",{},dr,e,null,t.root,-1,{});return new si("",new Yr(n,[]))}(t,e),r=new tn([new Nr("",{})]),i=new tn({}),s=new tn({}),o=new tn({}),a=new tn(""),u=new ni(r,i,o,a,s,dr,e,n.root);return u.snapshot=n.root,new ti(new Yr(u,[]),n)}class ni{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(t=>pr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(t=>pr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ri(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ii{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class si extends Qr{constructor(t,e){super(e),this.url=t,oi(this,e)}toString(){return ai(this._root)}}function oi(t,e){e.value._routerState=t,e.children.forEach(e=>oi(t,e))}function ai(t){const e=t.children.length>0?` { ${t.children.map(ai).join(", ")} } `:"";return`${t.value}${e}`}function ui(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ci(t,e){return yr(t.params,e.params)&&function(t,e){return Dr(t,e)&&t.every((t,n)=>yr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ci(t.parent,e.parent))}function li(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return li(t,e,r);return li(t,e)})}(t,e,n);return new Yr(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return hi(e,t),t}}const n=new ni(new tn((r=e.value).url),new tn(r.params),new tn(r.queryParams),new tn(r.fragment),new tn(r.data),r.outlet,r.component,r),i=e.children.map(e=>li(t,e));return new Yr(n,i)}var r}function hi(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)hi(t.children[n],e.children[n])}function di(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fi(t){return"object"==typeof t&&null!=t&&t.outlets}function pi(t,e,n,r,i){let s={};return r&&wr(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new kr(n.root===t?e:mi(n.root,t,e),s,i)}function mi(t,e,n){const r={};return wr(t.children,(t,i)=>{r[i]=t===e?n:mi(t,e,n)}),new Or(t.segments,r)}class gi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&di(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(fi);if(r&&r!==_r(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function vi(t,e,n){if(t||(t=new Or([],{})),0===t.segments.length&&t.hasChildren())return bi(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(fi(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Si(a,u,e))return s;r+=2}else{if(!Si(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Or(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Or(t.segments.slice(r.pathIndex),t.children),bi(e,0,i)}return r.match&&0===i.length?new Or(t.segments,{}):r.match&&!t.hasChildren()?_i(t,e,n):r.match?bi(t,0,i):_i(t,e,n)}function bi(t,e,n){if(0===n.length)return new Or(t.segments,{});{const r=function(t){return fi(t[0])?t[0].outlets:{[dr]:t}}(n),i={};return wr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=vi(t.children[r],e,n))}),wr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Or(t.segments,i)}}function _i(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(fi(s)){const t=wi(s.outlets);return new Or(r,t)}if(0===i&&di(n[0])){r.push(new Nr(t.segments[e].path,Ei(n[0]))),i++;continue}const o=fi(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&di(a)?(r.push(new Nr(o,Ei(a))),i+=2):(r.push(new Nr(o,{})),i++)}return new Or(r,{})}function wi(t){const e={};return wr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=_i(new Or([],{}),0,t))}),e}function Ei(t){const e={};return wr(t,(t,n)=>e[n]=`${t}`),e}function Si(t,e,n){return t==n.path&&yr(e,n.parameters)}class Ti{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ui(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Xr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),wr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Xr(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Xr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new lr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ur(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ui(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ci(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ci(t){ui(t.value),t.children.forEach(Ci)}class Ii{constructor(t,e){this.routes=t,this.module=e}}function Ai(t){return"function"==typeof t}function xi(t){return t instanceof kr}const ki=Symbol("INITIAL_VALUE");function Oi(){return vn(t=>function(...t){let e,n;return(0,en.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,bt.k)(t[0])&&(t=t[0]),(0,an.n)(t,n).lift(new cn(e))}(t.map(t=>t.pipe(En(1),Cn(ki)))).pipe(In((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ki)return t;if(r===ki&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||xi(r))return r}return t},t)},ki),ye(t=>t!==ki),(0,_t.U)(t=>xi(t)?t:!0===t),En(1)))}let Ni=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[As]},encapsulation:2}),t})();function Di(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ri(r,Pi(e,r))}}function Ri(t,e){t.children&&Di(t.children,e)}function Pi(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Li(t){const e=t.children&&t.children.map(Li),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==dr&&(n.component=Ni),n}function Fi(t){return t.outlet||dr}function Mi(t,e){const n=t.filter(t=>Fi(t)===e);return n.push(...t.filter(t=>Fi(t)!==e)),n}const Vi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ui(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Vi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||gr)(n,t,e);if(!i)return Object.assign({},Vi);const s={};wr(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ji(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>qi(t,e,n)&&Fi(n)!==dr)}(t,n,r)){const i=new Or(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Fi(s)!==dr){const n=new Or([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Fi(s)]=n}return i}(t,e,r,new Or(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qi(t,e,n))}(t,n,r)){const s=new Or(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(qi(t,n,a)&&!i[Fi(a)]){const n=new Or([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Fi(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Or(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function qi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Bi(t,e,n,r){return!!(Fi(t)===r||r!==dr&&qi(e,n,t))&&("**"===t.path||Ui(e,t,n).matched)}function Gi(t,e,n){return 0===e.length&&!t.children[n]}class zi{constructor(t){this.segmentGroup=t||null}}class Hi{constructor(t){this.urlTree=t}}function Zi(t){return new vt.y(e=>e.error(new zi(t)))}function Ki(t){return new vt.y(e=>e.error(new Hi(t)))}function $i(t){return new vt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Qi{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=ji(this.urlTree.root,[],[],this.config).segmentGroup,e=new Or(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,dr).pipe((0,_t.U)(t=>this.createUrlTree(Wi(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(kn(t=>{if(t instanceof Hi)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof zi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,dr).pipe((0,_t.U)(e=>this.createUrlTree(Wi(e),t.queryParams,t.fragment))).pipe(kn(t=>{if(t instanceof zi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Or([],{[dr]:t}):t;return new kr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,_t.U)(t=>new Or([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,yt.D)(r).pipe(me(r=>{const i=n.children[r],s=Mi(e,r);return this.expandSegmentGroup(t,s,i,r).pipe((0,_t.U)(t=>({segment:t,outlet:r})))}),In((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ye((e,n)=>t(e,n,r)):Bn.y,Dn(1),n?Un(e):Ln(()=>new hn))}())}expandSegment(t,e,n,r,i,s){return(0,yt.D)(n).pipe(me(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(kn(t=>{if(t instanceof zi)return(0,fe.of)(null);throw t}))),Gn(t=>!!t),kn((t,n)=>{if(t instanceof hn||"EmptyError"===t.name){if(Gi(e,r,i))return(0,fe.of)(new Or([],{}));throw new zi(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Bi(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Zi(e):Zi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ki(i):this.lineralizeSegments(n,i).pipe((0,pe.zg)(n=>{const i=new Or(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ui(e,r,i);if(!o)return Zi(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ki(l):this.lineralizeSegments(r,l).pipe((0,pe.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,fe.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,_t.U)(t=>(n._loadedConfig=t,new Or(r,{})))):(0,fe.of)(new Or(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Ui(e,n,r);if(!s)return Zi(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,pe.zg)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=ji(e,o,u,s),l=new Or(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,_t.U)(t=>new Or(o,t)));if(0===s.length&&0===c.length)return(0,fe.of)(new Or(o,{}));const h=Fi(n)===i;return this.expandSegment(r,l,s,c,h?dr:i,!0).pipe((0,_t.U)(t=>new Or(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,fe.of)(new Ii(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,fe.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,pe.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,_t.U)(t=>(e._loadedConfig=t,t))):function(t){return new vt.y(e=>e.error(mr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,fe.of)(new Ii([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,fe.of)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Ai(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Ai(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Er(s)});return(0,fe.of)(i).pipe(Oi(),(0,zn.b)(t=>{if(!xi(t))return;const e=mr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,_t.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,fe.of)(n);if(r.numberOfChildren>1||!r.children.primary)return $i(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new kr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return wr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return wr(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Or(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Wi(t){const e={};for(const n of Object.keys(t.children)){const r=Wi(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Or(t.segments.concat(e.segments),e.children)}return t}(new Or(t.segments,e))}class Ji{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yi{constructor(t,e){this.component=t,this.route=e}}function Xi(t,e,n){const r=t._root;return es(r,e?e._root:null,n,[r.value])}function ts(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function es(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Xr(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dr(t.url,e.url)||!yr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ci(t,e)||!yr(t.queryParams,e.queryParams);case"paramsChange":default:return!ci(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ji(r)):(s.data=o.data,s._resolvedData=o._resolvedData),es(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yi(a.outlet.component,o))}else o&&ns(e,a,i),i.canActivateChecks.push(new Ji(r)),es(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),wr(s,(t,e)=>ns(t,n.getContext(e),i)),i}function ns(t,e,n){const r=Xr(t),i=t.value;wr(r,(t,r)=>{ns(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Yi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class rs{}function is(t){return new vt.y(e=>e.error(t))}class ss{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=ji(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,dr);if(null===e)return null;const n=new ii([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},dr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Yr(n,e),i=new si(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ri(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Mi(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=as(n);return r.sort((t,e)=>t.value.outlet===dr?-1:e.value.outlet===dr?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Gi(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Bi(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?_r(n).parameters:{};i=new ii(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ls(t),Fi(t),t.component,t,us(e),cs(e)+n.length,hs(t))}else{const r=Ui(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new ii(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ls(t),Fi(t),t.component,t,us(e),cs(e)+s.length,hs(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ji(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Yr(i,t)]}if(0===a.length&&0===c.length)return[new Yr(i,[])];const l=Fi(t)===r,h=this.processSegment(a,u,c,l?dr:r);return null===h?null:[new Yr(i,h)]}}function os(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function as(t){const e=[],n=new Set;for(const r of t){if(!os(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=as(r.children);e.push(new Yr(r.value,t))}return e.filter(t=>!n.has(t))}function us(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function cs(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ls(t){return t.data||{}}function hs(t){return t.resolve||{}}function ds(t){return vn(e=>{const n=t(e);return n?(0,yt.D)(n).pipe((0,_t.U)(()=>e)):(0,fe.of)(e)})}class fs extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ps=new r.OlP("ROUTES");class ms{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,_t.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Ii(br(i.injector.get(ps,void 0,r.XFs.Self|r.XFs.Optional)).map(Li),i)}),kn(t=>{throw e._loader$=void 0,t}));return e._loader$=new gn.c(n,()=>new Ye.xQ).pipe((0,Hn.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,yt.D)(this.loader.load(t)):Er(t()).pipe((0,pe.zg)(t=>t instanceof r.YKP?(0,fe.of)(t):(0,yt.D)(this.compiler.compileModuleAsync(t))))}}class gs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ys,this.attachRef=null}}class ys{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new gs,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class vs{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function bs(t){throw t}function _s(t,e,n){return e.parse("/")}function ws(t,e){return(0,fe.of)(null)}const Es={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ss={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ts=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ye.xQ,this.errorHandler=bs,this.malformedUriErrorHandler=_s,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ws,afterPreactivation:ws},this.urlHandlingStrategy=new vs,this.routeReuseStrategy=new fs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new kr(new Or([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ms(o,a,t=>this.triggerEvent(new sr(t)),t=>this.triggerEvent(new or(t))),this.routerState=ei(this.currentUrlTree,this.rootComponentType),this.transitions=new tn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ye(t=>0!==t.id),(0,_t.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),vn(t=>{let n=!1,r=!1;return(0,fe.of)(t).pipe((0,zn.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,fe.of)(t).pipe(vn(t=>{const n=this.transitions.getValue();return e.next(new Wn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?pn.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,vn(t=>function(t,e,n,r,i){return new Qi(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe((0,_t.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,zn.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,pe.zg)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new ss(t,e,n,r,i,s).recognize();return null===o?is(new rs):(0,fe.of)(o)}catch(y_){return is(y_)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,_t.U)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,zn.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new tr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Wn(n,this.serializeUrl(r),i,s);e.next(a);const u=ei(r,this.rootComponentType).snapshot;return(0,fe.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),pn.E}),ds(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,zn.b)(t=>{const e=new er(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,_t.U)(t=>Object.assign(Object.assign({},t),{guards:Xi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,pe.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,fe.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,yt.D)(t).pipe((0,pe.zg)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,fe.of)(!0);const o=s.map(s=>{const o=ts(s,e,i);let a;if(function(t){return t&&Ai(t.canDeactivate)}(o))a=Er(o.canDeactivate(t,e,n,r));else{if(!Ai(o))throw new Error("Invalid CanDeactivate guard");a=Er(o(t,e,n,r))}return a.pipe(Gn())});return(0,fe.of)(o).pipe(Oi())}(t.component,t.route,n,e,r)),Gn(t=>!0!==t,!0))}(o,r,i,t).pipe((0,pe.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,yt.D)(e).pipe(me(e=>fn(function(t,e){return null!==t&&e&&e(new ar(t)),(0,fe.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new cr(t)),(0,fe.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>mn(()=>{const i=e.guards.map(i=>{const s=ts(i,e.node,n);let o;if(function(t){return t&&Ai(t.canActivateChild)}(s))o=Er(s.canActivateChild(r,t));else{if(!Ai(s))throw new Error("Invalid CanActivateChild guard");o=Er(s(r,t))}return o.pipe(Gn())});return(0,fe.of)(i).pipe(Oi())}));return(0,fe.of)(i).pipe(Oi())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,fe.of)(!0);const i=r.map(r=>mn(()=>{const i=ts(r,e,n);let s;if(function(t){return t&&Ai(t.canActivate)}(i))s=Er(i.canActivate(e,t));else{if(!Ai(i))throw new Error("Invalid CanActivate guard");s=Er(i(e,t))}return s.pipe(Gn())}));return(0,fe.of)(i).pipe(Oi())}(t,e.route,n))),Gn(t=>!0!==t,!0))}(r,s,t,e):(0,fe.of)(n)),(0,_t.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,zn.b)(t=>{if(xi(t.guardsResult)){const e=mr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new nr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ye(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Yn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ds(t=>{if(t.guards.canActivateChecks.length)return(0,fe.of)(t).pipe((0,zn.b)(t=>{const e=new rr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),vn(t=>{let n=!1;return(0,fe.of)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,pe.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return(0,fe.of)(t);let s=0;return(0,yt.D)(n).pipe(me(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,fe.of)({});const s={};return(0,yt.D)(i).pipe((0,pe.zg)(i=>function(t,e,n,r){const i=ts(t,e,r);return Er(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,zn.b)(t=>{s[i]=t}))),Dn(1),(0,pe.zg)(()=>Object.keys(s).length===i.length?(0,fe.of)(s):pn.E))}(t._resolve,t,e,r).pipe((0,_t.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ri(t,n).resolve),null)))}(t.route,e,r,i)),(0,zn.b)(()=>s++),Dn(1),(0,pe.zg)(e=>s===n.length?(0,fe.of)(t):pn.E))})),(0,zn.b)({next:()=>n=!0,complete:()=>{if(!n){const n=new Yn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),(0,zn.b)(t=>{const e=new ir(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ds(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,_t.U)(t=>{const e=function(t,e,n){const r=li(t,e._root,n?n._root:void 0);return new ti(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,zn.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,_t.U)(t=>(new Ti(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),(0,zn.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Yn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Kn(i))),kn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=xi(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Yn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Xn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Gh){t.reject(Gh)}}var i;return pn.E}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Di(t),this.config=t.map(Li),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return pi(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new gi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return wr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new gi(n,e,r)}(n);if(s.toRoot())return pi(e.root,new Or([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new yi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new yi(t,t===e.root,0)}const r=di(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new yi(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?bi(o.segmentGroup,o.index,s.commands):vi(o.segmentGroup,o.index,s.commands);return pi(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=xi(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(y_){e=this.malformedUriErrorHandler(y_,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},Es):!1===e?Object.assign({},Ss):e,xi(t))return Cr(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Cr(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Jn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(Rr),r.LFG(ys),r.LFG(w),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Cs=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ye.xQ,this.subscription=t.events.subscribe(t=>{t instanceof Jn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Is(this.skipLocationChange),replaceUrl:Is(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Is(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ts),r.Y36(ni),r.Y36(g))},t.\u0275dir=r.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ikx("href",e.href,r.LSH),r.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function Is(t){return""===t||!!t}let As=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||dr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new xs(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ys),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class xs{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ni?this.route:t===ys?this.childContexts:this.parent.get(t,e)}}class ks{}class Os{preload(t,e){return(0,fe.of)(null)}}let Ns=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ms(e,n,e=>t.triggerEvent(new sr(e)),e=>t.triggerEvent(new or(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ye(t=>t instanceof Jn),me(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,yt.D)(n).pipe((0,dn.J)(),(0,_t.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,fe.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,pe.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ts),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(ks))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Ds=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof hr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new hr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ts),r.LFG(M),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Rs=new r.OlP("ROUTER_CONFIGURATION"),Ps=new r.OlP("ROUTER_FORROOT_GUARD"),Ls=[w,{provide:Rr,useClass:Pr},{provide:Ts,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new Ts(null,t,e,n,r,i,s,br(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Rr,ys,w,r.zs3,r.v3s,r.Sil,ps,Rs,[class{},new r.FiY],[class{},new r.FiY]]},ys,{provide:ni,useFactory:function(t){return t.routerState.root},deps:[Ts]},{provide:r.v3s,useClass:r.EAV},Ns,Os,class{preload(t,e){return e().pipe(kn(()=>(0,fe.of)(null)))}},{provide:Rs,useValue:{enableTracing:!1}}];function Fs(){return new r.PXZ("Router",Ts)}let Ms=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ls,qs(e),{provide:Ps,useFactory:js,deps:[[Ts,new r.FiY,new r.tp0]]},{provide:Rs,useValue:n||{}},{provide:g,useFactory:Us,deps:[a,[new r.tBr(v),new r.FiY],Rs]},{provide:Ds,useFactory:Vs,deps:[Ts,M,Rs]},{provide:ks,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Os},{provide:r.PXZ,multi:!0,useFactory:Fs},[Bs,{provide:r.ip1,multi:!0,useFactory:Gs,deps:[Bs]},{provide:Hs,useFactory:zs,deps:[Bs]},{provide:r.tb,multi:!0,useExisting:Hs}]]}}static forChild(e){return{ngModule:t,providers:[qs(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ps,8),r.LFG(Ts,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function Vs(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ds(t,e,n)}function Us(t,e,n={}){return n.useHash?new _(t,e):new b(t,e)}function js(t){return"guarded"}function qs(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:ps,multi:!0,useValue:t}]}let Bs=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ye.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Ts),r=this.injector.get(Rs);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,fe.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Rs),n=this.injector.get(Ns),i=this.injector.get(Ds),s=this.injector.get(Ts),o=this.injector.get(r.z2F);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function Gs(t){return t.appInitializer.bind(t)}function zs(t){return t.bootstrapListener.bind(t)}const Hs=new r.OlP("Router Initializer"),Zs=function(){return["/first"]};let Ks=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-error"]],decls:6,vars:2,consts:[["role","main",1,"content"],[1,"card","highlight-card","card-small",2,"background-color","red"],[3,"routerLink"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"span"),r._uU(3,"404 hiba"),r.qZA(),r.qZA(),r.TgZ(4,"a",2),r._uU(5,"First"),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.Q6J("routerLink",r.DdM(1,Zs)))},directives:[Cs],styles:[""]}),t})();const $s={production:!0,custom:"This is real",serverUrl:"https://publicprogram.herokuapp.com/",firebase:{apiKey:"AIzaSyCHzDpPuh1KN9Ea-0lA-5ZYdaHLFfGyS1U",authDomain:"publicproject-42754.firebaseapp.com",projectId:"publicproject-42754",storageBucket:"publicproject-42754.appspot.com",messagingSenderId:"800346328290",appId:"1:800346328290:web:f833793c445db1cd3162bb"},collection:"StoreItems"};let Qs=(()=>{class t{constructor(t){this.http=t}greet(){return this.http.get($s.serverUrl,{responseType:"text",withCredentials:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ve))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ws=n(8569);function Js(){return t=>t.lift(new Ys)}class Ys{call(t,e){return e.subscribe(new Xs(t))}}class Xs extends ge.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class to{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new eo(t,this.compare,this.keySelector))}}class eo extends ge.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var no=n(45),ro=n(2346),io=n(1858),so=n(1062),oo=n(250),ao=n(308),uo=function(t,e){return(uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function co(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var lo,ho="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},fo=fo||{},po=ho||self;function mo(){}function go(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function yo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var vo="closure_uid_"+(1e9*Math.random()>>>0),bo=0;function _o(t,e,n){return t.call.apply(t.bind,arguments)}function wo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Eo(t,e,n){return(Eo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_o:wo).apply(null,arguments)}function So(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function To(){return Date.now()}function Co(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Io(){this.j=this.j,this.i=this.i}Io.prototype.j=!1,Io.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,vo)&&t[vo]||(t[vo]=++bo)}(this)},Io.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ao=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},xo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function ko(t){return Array.prototype.concat.apply([],arguments)}function Oo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function No(t){return/^[\s\xa0]*$/.test(t)}var Do,Ro=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Po(t,e){return-1!=t.indexOf(e)}function Lo(t,e){return t<e?-1:t>e?1:0}t:{var Fo=po.navigator;if(Fo){var Mo=Fo.userAgent;if(Mo){Do=Mo;break t}}Do=""}function Vo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Uo(t){var e={};for(var n in t)e[n]=t[n];return e}var jo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<jo.length;s++)n=jo[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bo(t){return Bo[" "](t),t}Bo[" "]=mo;var Go,zo,Ho=Po(Do,"Opera"),Zo=Po(Do,"Trident")||Po(Do,"MSIE"),Ko=Po(Do,"Edge"),$o=Ko||Zo,Qo=Po(Do,"Gecko")&&!(Po(Do.toLowerCase(),"webkit")&&!Po(Do,"Edge"))&&!(Po(Do,"Trident")||Po(Do,"MSIE"))&&!Po(Do,"Edge"),Wo=Po(Do.toLowerCase(),"webkit")&&!Po(Do,"Edge");function Jo(){var t=po.document;return t?t.documentMode:void 0}t:{var Yo="",Xo=(zo=Do,Qo?/rv:([^\);]+)(\)|;)/.exec(zo):Ko?/Edge\/([\d\.]+)/.exec(zo):Zo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zo):Wo?/WebKit\/(\S+)/.exec(zo):Ho?/(?:Version)[ \/]?(\S+)/.exec(zo):void 0);if(Xo&&(Yo=Xo?Xo[1]:""),Zo){var ta=Jo();if(null!=ta&&ta>parseFloat(Yo)){Go=String(ta);break t}}Go=Yo}var ea={};function na(t){return function(t,e){var n=ea;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ro(String(Go)).split("."),r=Ro(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Lo(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Lo(0==o[2].length,0==a[2].length)||Lo(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var ra=po.document&&Zo&&(Jo()||parseInt(Go,10))||void 0,ia=!Zo||9<=Number(ra),sa=Zo&&!na("9"),oa=function(){if(!po.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{po.addEventListener("test",mo,e),po.removeEventListener("test",mo,e)}catch(n){}return t}();function aa(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ua(t,e){if(aa.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Qo){t:{try{Bo(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ca[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}aa.prototype.b=function(){this.defaultPrevented=!0},Co(ua,aa);var ca={2:"touch",3:"pen",4:"mouse"};ua.prototype.b=function(){ua.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,sa)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var la="closure_listenable_"+(1e6*Math.random()|0),ha=0;function da(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ha,this.Y=this.Z=!1}function fa(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function pa(t){this.src=t,this.a={},this.b=0}function ma(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Ao(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(fa(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ga(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}pa.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ga(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new da(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var ya="closure_lm_"+(1e6*Math.random()|0),va={};function ba(t,e,n,r,i){if(r&&r.once)return wa(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ba(t,e[s],n,r,i);return null}return n=ka(n),t&&t[la]?t.va(e,n,yo(r)?!!r.capture:!!r,i):_a(t,e,n,!1,r,i)}function _a(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=yo(i)?!!i.capture:!!i;if(o&&!ia)return null;var a=Aa(t);if(a||(t[ya]=a=new pa(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Ia,e=ia?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)oa||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ta(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wa(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wa(t,e[s],n,r,i);return null}return n=ka(n),t&&t[la]?t.wa(e,n,yo(r)?!!r.capture:!!r,i):_a(t,e,n,!0,r,i)}function Ea(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ea(t,e[s],n,r,i);else r=yo(r)?!!r.capture:!!r,n=ka(n),t&&t[la]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ga(s=t.a[e],n,r,i))&&(fa(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Aa(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ga(e,n,r,i)),(n=-1<t?e[t]:null)&&Sa(n))}function Sa(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[la])ma(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ta(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Aa(e))?(ma(n,t),0==n.b&&(n.src=null,e[ya]=null)):fa(t)}}}function Ta(t){return t in va?va[t]:va[t]="on"+t}function Ca(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Sa(t),n.call(r,e)}function Ia(t,e){if(t.Y)return!0;if(!ia){if(!e)t:{e=["window","event"];for(var n=po,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ca(t,e=new ua(e,this))}return Ca(t,new ua(e,this))}function Aa(t){return(t=t[ya])instanceof pa?t:null}var xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function ka(t){return"function"==typeof t?t:(t[xa]||(t[xa]=function(e){return t.handleEvent(e)}),t[xa])}function Oa(){Io.call(this),this.c=new pa(this),this.J=this,this.C=null}function Na(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new aa(e,t);else if(e instanceof aa)e.target=e.target||t;else{var i=e;qo(e=new aa(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Da(o,r,!0,e)&&i}if(i=Da(o=e.a=t,r,!0,e)&&i,i=Da(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Da(o=e.a=n[s],r,!1,e)&&i}function Da(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&ma(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Co(Oa,Io),Oa.prototype[la]=!0,(lo=Oa.prototype).addEventListener=function(t,e,n,r){ba(this,t,e,n,r)},lo.removeEventListener=function(t,e,n,r){Ea(this,t,e,n,r)},lo.G=function(){if(Oa.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)fa(n[r]);delete e.a[t],e.b--}}this.C=null},lo.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},lo.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ra=po.JSON.stringify;function Pa(){this.b=this.a=null}var La,Fa=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Va},function(t){t.reset()});function Ma(){var t=Ba,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Va(){this.next=this.b=this.a=null}function Ua(t){po.setTimeout(function(){throw t},0)}function ja(t,e){La||function(){var t=po.Promise.resolve(void 0);La=function(){t.then(Ga)}}(),qa||(La(),qa=!0),Ba.add(t,e)}Pa.prototype.add=function(t,e){var n=Fa.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Va.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Va.prototype.reset=function(){this.next=this.b=this.a=null};var qa=!1,Ba=new Pa;function Ga(){for(var t;t=Ma();){try{t.a.call(t.b)}catch(n){Ua(n)}var e=Fa;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}qa=!1}function za(t,e){Oa.call(this),this.b=t||1,this.a=e||po,this.f=Eo(this.Za,this),this.g=To()}function Ha(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Za(t,e,n){if("function"==typeof t)n&&(t=Eo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Eo(t.handleEvent,t)}return 2147483647<Number(e)?-1:po.setTimeout(t,e||0)}function Ka(t){t.a=Za(function(){t.a=null,t.c&&(t.c=!1,Ka(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Co(za,Oa),(lo=za.prototype).aa=!1,lo.M=null,lo.Za=function(){if(this.aa){var t=To()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Na(this,"tick"),this.aa&&(Ha(this),this.start()))}},lo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=To())},lo.G=function(){za.X.G.call(this),Ha(this),delete this.a};var $a=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}uo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ka(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(po.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Io);function Qa(t){Io.call(this),this.b=t,this.a={}}Co(Qa,Io);var Wa=[];function Ja(t,e,n,r){Array.isArray(n)||(n&&(Wa[0]=n.toString()),n=Wa);for(var i=0;i<n.length;i++){var s=ba(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Ya(t){Vo(t.a,function(t,e){this.a.hasOwnProperty(e)&&Sa(t)},t),t.a={}}function Xa(){this.a=!0}function tu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ra(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Qa.prototype.G=function(){Qa.X.G.call(this),Ya(this)},Qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xa.prototype.info=function(){};var eu={},nu=null;function ru(){return nu=nu||new Oa}function iu(t){aa.call(this,eu.Fa,t)}function su(t){var e=ru();Na(e,new iu(e,t))}function ou(t,e){aa.call(this,eu.STAT_EVENT,t),this.stat=e}function au(t){var e=ru();Na(e,new ou(e,t))}function uu(t){aa.call(this,eu.Ga,t)}function cu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return po.setTimeout(function(){t()},e)}eu.Fa="serverreachability",Co(iu,aa),eu.STAT_EVENT="statevent",Co(ou,aa),eu.Ga="timingevent",Co(uu,aa);var lu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},hu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function du(){}function fu(){}du.prototype.a=null;var pu,mu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function gu(){aa.call(this,"d")}function yu(){aa.call(this,"c")}function vu(){}function bu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Qa(this),this.P=_u,this.R=new za(t=$o?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Co(gu,aa),Co(yu,aa),Co(vu,du),pu=new vu;var _u=45e3,wu={},Eu={};function Su(t,e,n){t.H=1,t.i=Hu(Uu(e)),t.j=n,t.I=!0,Tu(t,null)}function Tu(t,e){t.u=To(),Au(t),t.l=Uu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ic(n.b,"t",r),t.D=0,t.a=Yc(t.g,t.g.C?e:null),0<t.O&&(t.F=new $a(Eo(t.Ca,t,t.a),t.O)),Ja(t.J,t.a,"readystatechange",t.Xa),e=t.B?Uo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),su(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Cu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Iu(t,n);if(i==Eu){4==e&&(t.h=4,au(14),r=!1),tu(t.c,t.f,null,"[Incomplete Response]");break}if(i==wu){t.h=4,au(15),tu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}tu(t.c,t.f,i,null),Du(t,i)}4==e&&0==n.length&&(t.h=1,au(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),zc(e),e.F=!0,au(11))):(tu(t.c,t.f,n,"[Invalid Chunked Response]"),Nu(t),Ou(t))}function Iu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Eu:(n=Number(e.substring(n,r)),isNaN(n)?wu:(r+=1)+n>e.length?Eu:(e=e.substr(r,n),t.D=r+n,e))}function Au(t){t.T=To()+t.P,xu(t,t.P)}function xu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=cu(Eo(t.Va,t),e)}function ku(t){t.o&&(po.clearTimeout(t.o),t.o=null)}function Ou(t){0==t.g.v||t.A||Kc(t.g,t)}function Nu(t){ku(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ha(t.R),Ya(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Du(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||hc(n.b,t)))if(n.I=t.N,!t.C&&hc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Pb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Zc(n),Lc(n)}Gc(n),au(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=cu(Eo(n.Sa,n),6e3));if(1>=lc(n.b)&&n.ea){try{n.ea()}catch(Pb){}n.ea=void 0}}else Qc(n,11)}else if((t.C||n.a==t)&&Zc(n),!No(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Po(l,"spdy")||Po(l,"quic")||Po(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(dc(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,zu(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=To()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=Jc(u,u.C?u.ga:null,u.fa),f.C){fc(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(ku(p),Au(p)),u.a=f}else Bc(u);0<n.g.length&&Vc(n)}else"stop"!=i[0]&&"close"!=i[0]||Qc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Qc(n,7):Pc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);su(4)}catch(Pb){}}function Ru(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(go(t)||"string"==typeof t)xo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(go(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(go(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Pu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Lu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Fu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Fu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Fu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(lo=bu.prototype).setTimeout=function(t){this.P=t},lo.Xa=function(t){t=t.target;var e=this.F;e&&3==Oc(t)?e.f():this.Ca(t)},lo.Ca=function(t){try{if(t==this.a)t:{var e=Oc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!$o&&!this.a.$())){this.A||4!=e||7==n||su(8==n||0>=r?3:2),ku(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!No(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,au(12),Nu(this),Ou(this);break t}tu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Du(this,u)}this.I?(Cu(this,e,s),$o&&this.b&&3==e&&(Ja(this.J,this.R,"tick",this.Wa),this.R.start())):(tu(this.c,this.f,s,null),Du(this,s)),4==e&&Nu(this),this.b&&!this.A&&(4==e?Kc(this.g,this):(this.b=!1,Au(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,au(12)):(this.h=0,au(13)),Nu(this),Ou(this)}}}catch(c){}},lo.Wa=function(){if(this.a){var t=Oc(this.a),e=this.a.$();this.D<e.length&&(ku(this),Cu(this,t,e),this.b&&4!=t&&Au(this))}},lo.cancel=function(){this.A=!0,Nu(this)},lo.Va=function(){this.o=null;var t=To();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(su(3),au(17)),Nu(this),this.h=2,Ou(this)):xu(this,this.T-t)},(lo=Pu.prototype).K=function(){Lu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},lo.L=function(){return Lu(this),this.a.concat()},lo.get=function(t,e){return Fu(this.b,t)?this.b[t]:e},lo.set=function(t,e){Fu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},lo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Mu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Vu){this.a=void 0!==e?e:t.a,ju(this,t.f),this.j=t.j,qu(this,t.c),Bu(this,t.h),this.g=t.g,e=t.b;var n=new tc;n.c=e.c,e.a&&(n.a=new Pu(e.a),n.b=e.b),Gu(this,n),this.i=t.i}else t&&(n=String(t).match(Mu))?(this.a=!!e,ju(this,n[1]||"",!0),this.j=Zu(n[2]||""),qu(this,n[3]||"",!0),Bu(this,n[4]),this.g=Zu(n[5]||"",!0),Gu(this,n[6]||"",!0),this.i=Zu(n[7]||"")):(this.a=!!e,this.b=new tc(null,this.a))}function Uu(t){return new Vu(t)}function ju(t,e,n){t.f=n?Zu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function qu(t,e,n){t.c=n?Zu(e,!0):e}function Bu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Gu(t,e,n){e instanceof tc?(t.b=e,function(t,e){e&&!t.f&&(ec(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(nc(this,e),ic(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ku(e,Yu)),t.b=new tc(e,t.a))}function zu(t,e,n){t.b.set(e,n)}function Hu(t){return zu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^To()).toString(36)),t}function Zu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ku(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,$u),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $u(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Vu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ku(e,Qu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ku(e,Qu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ku(n,"/"==n.charAt(0)?Ju:Wu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ku(n,Xu)),t.join("")};var Qu=/[#\/\?@]/g,Wu=/[#\?:]/g,Ju=/[#\?]/g,Yu=/[#\?@]/g,Xu=/#/g;function tc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ec(t){t.a||(t.a=new Pu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function nc(t,e){ec(t),e=sc(t,e),Fu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Fu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Lu(t)))}function rc(t,e){return ec(t),e=sc(t,e),Fu(t.a.b,e)}function ic(t,e,n){nc(t,e),0<n.length&&(t.c=null,t.a.set(sc(t,e),Oo(n)),t.b+=n.length)}function sc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(lo=tc.prototype).add=function(t,e){ec(this),this.c=null,t=sc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},lo.forEach=function(t,e){ec(this),this.a.forEach(function(n,r){xo(n,function(n){t.call(e,n,r,this)},this)},this)},lo.L=function(){ec(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},lo.K=function(t){ec(this);var e=[];if("string"==typeof t)rc(this,t)&&(e=ko(e,this.a.get(sc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ko(e,t[n])}return e},lo.set=function(t,e){return ec(this),this.c=null,rc(this,t=sc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},lo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},lo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var oc=function(){return function(t,e){this.b=t,this.a=e}}();function ac(t){this.g=t||uc,t=po.PerformanceNavigationTiming?0<(t=po.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(po.ia&&po.ia.ya&&po.ia.ya()&&po.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var uc=10;function cc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function lc(t){return t.b?1:t.a?t.a.size:0}function hc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function dc(t,e){t.a?t.a.add(e):t.b=e}function fc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function pc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=co(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Oo(t.c)}function mc(){}function gc(){this.a=new mc}function yc(t,e,n){var r=n||"";try{Ru(t,function(t,n){var i=t;yo(t)&&(i=Ra(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(y_){throw e.push(r+"type="+encodeURIComponent("_badmap")),y_}}function vc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}ac.prototype.cancel=function(){var t,e;if(this.c=pc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=co(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},mc.prototype.stringify=function(t){return po.JSON.stringify(t,void 0)},mc.prototype.parse=function(t){return po.JSON.parse(t,void 0)};var bc=po.JSON.parse;function _c(t){Oa.call(this),this.headers=new Pu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=wc,this.D=this.F=!1}Co(_c,Oa);var wc="",Ec=/^https?$/i,Sc=["POST","PUT"];function Tc(t){return"content-type"==t.toLowerCase()}function Cc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ic(t),xc(t)}function Ic(t){t.u||(t.u=!0,Na(t,"complete"),Na(t,"error"))}function Ac(t){if(t.b&&void 0!==fo&&(!t.s[1]||4!=Oc(t)||2!=t.W()))if(t.l&&4==Oc(t))Za(t.za,0,t);else if(Na(t,"readystatechange"),4==Oc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Mu)[1]||null;if(!s&&po.self&&po.self.location){var o=po.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ec.test(s?s.toLowerCase():"")}e=i}if(e)Na(t,"complete"),Na(t,"success");else{t.h=6;try{var a=2<Oc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ic(t)}}finally{xc(t)}}}function xc(t,e){if(t.a){kc(t);var n=t.a,r=t.s[0]?mo:null;t.a=null,t.s=null,e||Na(t,"ready");try{n.onreadystatechange=r}catch(y_){}}}function kc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(po.clearTimeout(t.m),t.m=null)}function Oc(t){return t.a?t.a.readyState:0}function Nc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Vo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):zu(t,e,n))}function Dc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Rc(t){this.pa=0,this.g=[],this.c=new Xa,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Dc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Dc("baseRetryDelayMs",5e3,t),this.Ra=Dc("retryDelaySeedMs",1e4,t),this.Ma=Dc("forwardChannelMaxRetries",2,t),this.ma=Dc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ac(t&&t.concurrentRequestLimit),this.ka=new gc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Pc(t){if(Fc(t),3==t.v){var e=t.R++,n=Uu(t.B);zu(n,"SID",t.J),zu(n,"RID",e),zu(n,"TYPE","terminate"),jc(t,n),(e=new bu(t,t.c,e,void 0)).H=2,e.i=Hu(Uu(n)),n=!1,po.navigator&&po.navigator.sendBeacon&&(n=po.navigator.sendBeacon(e.i.toString(),"")),!n&&po.Image&&((new Image).src=e.i,n=!0),n||(e.a=Yc(e.g,null),e.a.ba(e.i)),e.u=To(),Au(e)}Wc(t)}function Lc(t){t.a&&(zc(t),t.a.cancel(),t.a=null)}function Fc(t){Lc(t),t.j&&(po.clearTimeout(t.j),t.j=null),Zc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&po.clearTimeout(t.h),t.h=null)}function Mc(t,e){t.g.push(new oc(t.Oa++,e)),3==t.v&&Vc(t)}function Vc(t){cc(t.b)||t.h||(t.h=!0,ja(t.Ba,t),t.u=0)}function Uc(t,e){var n;n=e?e.f:t.R++;var r=Uu(t.B);zu(r,"SID",t.J),zu(r,"RID",n),zu(r,"AID",t.P),jc(t,r),t.i&&t.l&&Nc(r,t.i,t.l),n=new bu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=qc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),dc(t.b,n),Su(n,r,e)}function jc(t,e){t.f&&Ru({},function(t,n){zu(e,n,t)})}function qc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Eo(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{yc(l,o,"req"+c+"_")}catch(kl){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Bc(t){t.a||t.j||(t.T=1,ja(t.Aa,t),t.o=0)}function Gc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=cu(Eo(t.Aa,t),$c(t,t.o)),t.o++,0))}function zc(t){null!=t.s&&(po.clearTimeout(t.s),t.s=null)}function Hc(t){t.a=new bu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Uu(t.la);zu(e,"RID","rpc"),zu(e,"SID",t.J),zu(e,"CI",t.H?"0":"1"),zu(e,"AID",t.P),jc(t,e),zu(e,"TYPE","xmlhttp"),t.i&&t.l&&Nc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Hu(Uu(e)),n.j=null,n.I=!0,Tu(n,t)}function Zc(t){null!=t.m&&(po.clearTimeout(t.m),t.m=null)}function Kc(t,e){var n=null;if(t.a==e){Zc(t),zc(t),t.a=null;var r=2}else{if(!hc(t.b,e))return;n=e.s,fc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=To()-e.u;var i=t.u;Na(r=ru(),new uu(r,n,e,i)),Vc(t)}else Bc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(lc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=cu(Eo(t.Ba,t,e),$c(t,t.u)),t.u++,0)))}(t,e)||2==r&&Gc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Qc(t,5);break;case 4:Qc(t,10);break;case 3:Qc(t,6);break;default:Qc(t,2)}}function $c(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Qc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Eo(t.Ya,t);n||(n=new Vu("//www.google.com/images/cleardot.gif"),po.location&&"http"==po.location.protocol||ju(n,"https"),Hu(n)),function(t,e){var n=new Xa;if(po.Image){var r=new Image;r.onload=So(vc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=So(vc,n,r,"TestLoadImage: error",!1,e),r.onabort=So(vc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=So(vc,n,r,"TestLoadImage: timeout",!1,e),po.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else au(2);t.v=0,t.f&&t.f.ra(e),Wc(t),Fc(t)}function Wc(t){t.v=0,t.I=-1,t.f&&(0==pc(t.b).length&&0==t.g.length||(t.b.c.length=0,Oo(t.g),t.g.length=0),t.f.qa())}function Jc(t,e,n){var r=function(t){return t instanceof Vu?Uu(t):new Vu(t,void 0)}(n);if(""!=r.c)e&&qu(r,e+"."+r.c),Bu(r,r.h);else{var i=po.location;r=function(t,e,n,r){var i=new Vu(null,void 0);return t&&ju(i,t),e&&qu(i,e),n&&Bu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Vo(t.V,function(t,e){zu(r,e,t)}),n=t.na,(e=t.A)&&n&&zu(r,e,n),zu(r,"VER",t.ha),jc(t,r),r}function Yc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _c(t.Na)).F=t.C,e}function Xc(){}function tl(){if(Zo&&!(10<=Number(ra)))throw Error("Environmental error: no available transport.")}function el(t,e){Oa.call(this),this.a=new Rc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!No(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!No(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new il(this)}function nl(t){gu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function rl(){yu.call(this),this.status=1}function il(t){this.a=t}(lo=_c.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:pu),this.a.onreadystatechange=Eo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Cc(this,s)}t=n||"";var i=new Pu(this.headers);r&&Ru(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Tc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=po.FormData&&t instanceof po.FormData,!(0<=Ao(Sc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{kc(this),0<this.o&&((this.D=function(t){return Zo&&na(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Eo(this.xa,this)):this.m=Za(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Cc(this,s)}},lo.xa=function(){void 0!==fo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Na(this,"timeout"),this.abort(8))},lo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Na(this,"complete"),Na(this,"abort"),xc(this))},lo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),xc(this,!0)),_c.X.G.call(this)},lo.za=function(){this.j||(this.A||this.l||this.g?Ac(this):this.Ua())},lo.Ua=function(){Ac(this)},lo.W=function(){try{return 2<Oc(this)?this.a.status:-1}catch(zo){return-1}},lo.$=function(){try{return this.a?this.a.responseText:""}catch(zo){return""}},lo.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),bc(e)}},lo.ua=function(){return this.h},lo.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(lo=Rc.prototype).ha=8,lo.v=1,lo.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new bu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?qo(r=Uo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=qc(this,n,e),zu(i=Uu(this.B),"RID",t),zu(i,"CVER",22),this.A&&zu(i,"X-HTTP-Session-Id",this.A),jc(this,i),this.i&&r&&Nc(i,this.i,r),dc(this.b,n),this.Ia&&zu(i,"TYPE","init"),this.da?(zu(i,"$req",e),zu(i,"SID","null"),n.U=!0,Su(n,i,null)):Su(n,i,e),this.v=2}}else 3==this.v&&(t?Uc(this,t):0==this.g.length||cc(this.b)||Uc(this))},lo.Aa=function(){if(this.j=null,Hc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=cu(Eo(this.Ta,this),t)}},lo.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,au(10),Lc(this),Hc(this))},lo.Sa=function(){null!=this.m&&(this.m=null,Lc(this),Gc(this),au(19))},lo.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),au(2)):(this.c.info("Failed to ping google.com"),au(1))},(lo=Xc.prototype).ta=function(){},lo.sa=function(){},lo.ra=function(){},lo.qa=function(){},lo.Ja=function(){},tl.prototype.a=function(t,e){return new el(t,e)},Co(el,Oa),el.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;au(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Jc(t,null,t.fa),Vc(t)},el.prototype.close=function(){Pc(this.a)},el.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Mc(this.a,e)}else this.l?((e={}).__data__=Ra(t),Mc(this.a,e)):Mc(this.a,t)},el.prototype.G=function(){this.a.f=null,delete this.f,Pc(this.a),delete this.a,el.X.G.call(this)},Co(nl,gu),Co(rl,yu),Co(il,Xc),il.prototype.ta=function(){Na(this.a,"a")},il.prototype.sa=function(t){Na(this.a,new nl(t))},il.prototype.ra=function(t){Na(this.a,new rl(t))},il.prototype.qa=function(){Na(this.a,"b")},tl.prototype.createWebChannel=tl.prototype.a,el.prototype.send=el.prototype.h,el.prototype.open=el.prototype.g,el.prototype.close=el.prototype.close,lu.NO_ERROR=0,lu.TIMEOUT=8,lu.HTTP_ERROR=6,hu.COMPLETE="complete",fu.EventType=mu,mu.OPEN="a",mu.CLOSE="b",mu.ERROR="c",mu.MESSAGE="d",Oa.prototype.listen=Oa.prototype.va,_c.prototype.listenOnce=_c.prototype.wa,_c.prototype.getLastError=_c.prototype.Qa,_c.prototype.getLastErrorCode=_c.prototype.ua,_c.prototype.getStatus=_c.prototype.W,_c.prototype.getResponseJson=_c.prototype.Pa,_c.prototype.getResponseText=_c.prototype.$,_c.prototype.send=_c.prototype.ba;var sl=lu,ol=hu,al=eu,ul=fu,cl=_c,ll=n(4762),hl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();hl.o=-1;var dl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,ll.ZT)(e,t),e}(Error),pl=new ao.Yd("@firebase/firestore");function ml(){return pl.logLevel}function gl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pl.logLevel<=ao.in.DEBUG){var r=e.map(bl);pl.debug.apply(pl,(0,ll.ev)(["Firestore (8.6.2): "+t],r))}}function yl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pl.logLevel<=ao.in.ERROR){var r=e.map(bl);pl.error.apply(pl,(0,ll.ev)(["Firestore (8.6.2): "+t],r))}}function vl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pl.logLevel<=ao.in.WARN){var r=e.map(bl);pl.warn.apply(pl,(0,ll.ev)(["Firestore (8.6.2): "+t],r))}}function bl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(y_){return t}}function _l(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+t;throw yl(e),new Error(e)}function wl(t,e){t||_l()}function El(t,e){return t}function Sl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Tl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Sl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Cl(t,e){return t<e?-1:t>e?1:0}function Il(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Al(t){return t+"\0"}var xl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new fl(dl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new fl(dl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new fl(dl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fl(dl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Cl(this.nanoseconds,t.nanoseconds):Cl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),kl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new xl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Ol(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Dl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Rl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&_l(),void 0===n?n=t.length-e:n>t.length-e&&_l(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ll.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new fl(dl.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Rl),Ll=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ll.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ll.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new fl(dl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new fl(dl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new fl(dl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new fl(dl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Rl),Ml=function(){function t(t){this.fields=t,t.sort(Fl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Il(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Vl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Cl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Vl.EMPTY_BYTE_STRING=new Vl("");var Ul=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jl(t){if(wl(!!t),"string"==typeof t){var e=0,n=Ul.exec(t);if(wl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ql(t.seconds),nanos:ql(t.nanos)}}function ql(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Bl(t){return"string"==typeof t?Vl.fromBase64String(t):Vl.fromUint8Array(t)}function Gl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zl(t){var e=t.mapValue.fields.__previous_value__;return Gl(e)?zl(e):e}function Hl(t){var e=jl(t.mapValue.fields.__local_write_time__.timestampValue);return new xl(e.seconds,e.nanos)}function Zl(t){return null==t}function Kl(t){return 0===t&&1/t==-1/0}function $l(t){return"number"==typeof t&&Number.isInteger(t)&&!Kl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ql=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Pl.fromString(e))},t.fromName=function(e){return new t(Pl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Pl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Pl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Pl(e.slice()))},t}();function Wl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gl(t)?4:10:_l()}function Jl(t,e){var n=Wl(t);if(n!==Wl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hl(t).isEqual(Hl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jl(t.timestampValue),r=jl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Bl(t.bytesValue).isEqual(Bl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ql(t.geoPointValue.latitude)===ql(e.geoPointValue.latitude)&&ql(t.geoPointValue.longitude)===ql(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ql(t.integerValue)===ql(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ql(t.doubleValue),r=ql(e.doubleValue);return n===r?Kl(n)===Kl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],Jl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ol(n)!==Ol(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Jl(n[i],r[i])))return!1;return!0}(t,e);default:return _l()}}function Yl(t,e){return void 0!==(t.values||[]).find(function(t){return Jl(t,e)})}function Xl(t,e){var n=Wl(t),r=Wl(e);if(n!==r)return Cl(n,r);switch(n){case 0:return 0;case 1:return Cl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ql(t.integerValue||t.doubleValue),r=ql(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return th(t.timestampValue,e.timestampValue);case 4:return th(Hl(t),Hl(e));case 5:return Cl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Bl(t),r=Bl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Cl(n[i],r[i]);if(0!==s)return s}return Cl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Cl(ql(t.latitude),ql(e.latitude));return 0!==n?n:Cl(ql(t.longitude),ql(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Xl(n[i],r[i]);if(s)return s}return Cl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Cl(r[o],s[o]);if(0!==a)return a;var u=Xl(n[r[o]],i[s[o]]);if(0!==u)return u}return Cl(r.length,s.length)}(t.mapValue,e.mapValue);default:throw _l()}}function th(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Cl(t,e);var n=jl(t),r=jl(e),i=Cl(n.seconds,r.seconds);return 0!==i?i:Cl(n.nanos,r.nanos)}function eh(t){return nh(t)}function nh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=jl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Bl(t.bytesValue).toBase64():"referenceValue"in t?Ql.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=nh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+nh(t.fields[s])}return e+"}"}(t.mapValue):_l();var e}function rh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ih(t){return!!t&&"integerValue"in t}function sh(t){return!!t&&"arrayValue"in t}function oh(t){return!!t&&"nullValue"in t}function ah(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uh(t){return!!t&&"mapValue"in t}var ch=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Fl.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Jl(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Wl(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=uh(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Fl.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!uh(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function lh(t){var e=[];return Nl(t.fields||{},function(t,n){var r=new Fl([t]);if(uh(n)){var i=lh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Ml(e)}var hh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,kl.min(),ch.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ch.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ch.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ch.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ch.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),dh=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function fh(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new dh(t,e,n,r,i,s,o)}function ph(t){var e=El(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+eh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Zl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ah(e.startAt)),e.endAt&&(n+="|ub:",n+=Ah(e.endAt)),e.h=n}return e.h}function mh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!kh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Jl(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nh(t.startAt,e.startAt)&&Nh(t.endAt,e.endAt)}function gh(t){return Ql.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var yh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,ll.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new vh(t,n,r):"array-contains"===n?new Eh(t,r):"in"===n?new Sh(t,r):"not-in"===n?new Th(t,r):"array-contains-any"===n?new Ch(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new bh(t,n):new _h(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Xl(e,this.value)):null!==e&&Wl(this.value)===Wl(e)&&this.m(Xl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return _l()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),vh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ql.fromName(r.referenceValue),i}return(0,ll.ZT)(e,t),e.prototype.matches=function(t){var e=Ql.comparator(t.key,this.key);return this.m(e)},e}(yh),bh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=wh(0,n),r}return(0,ll.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(yh),_h=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=wh(0,n),r}return(0,ll.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(yh);function wh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Ql.fromName(t.referenceValue)})}var Eh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,ll.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return sh(e)&&Yl(e.arrayValue,this.value)},e}(yh),Sh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,ll.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Yl(this.value.arrayValue,e)},e}(yh),Th=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,ll.ZT)(e,t),e.prototype.matches=function(t){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Yl(this.value.arrayValue,e)},e}(yh),Ch=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,ll.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!sh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Yl(e.value.arrayValue,t)})},e}(yh),Ih=function(t,e){this.position=t,this.before=e};function Ah(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return eh(t)}).join(",")}var xh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function kh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Oh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Ql.comparator(Ql.fromName(o.referenceValue),n.key):Xl(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Nh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Jl(t.position[n],e.position[n]))return!1;return!0}var Dh=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function Rh(t,e,n,r,i,s,o,a){return new Dh(t,e,n,r,i,s,o,a)}function Ph(t){return new Dh(t)}function Lh(t){return!Zl(t.limit)&&"F"===t.limitType}function Fh(t){return!Zl(t.limit)&&"L"===t.limitType}function Mh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Vh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Uh(t){return null!==t.collectionGroup}function jh(t){var e=El(t);if(null===e.p){e.p=[];var n=Vh(e),r=Mh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new xh(n)),e.p.push(new xh(Fl.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new xh(Fl.keyField(),u))}}}return e.p}function qh(t){var e=El(t);if(!e.T)if("F"===e.limitType)e.T=fh(e.path,e.collectionGroup,jh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=jh(e);r<i.length;r++){var s=i[r];n.push(new xh(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Ih(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Ih(e.startAt.position,!e.startAt.before):null;e.T=fh(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Bh(t,e,n){return new Dh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gh(t,e){return mh(qh(t),qh(e))&&t.limitType===e.limitType}function zh(t){return ph(qh(t))+"|lt:"+t.limitType}function Hh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+eh(e.value);var e}).join(", ")+"]"),Zl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ah(t.startAt)),t.endAt&&(e+=", endAt: "+Ah(t.endAt)),"Target("+e+")"}(qh(t))+"; limitType="+t.limitType+")"}function Zh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ql.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Oh(t.startAt,jh(t),e)||t.endAt&&Oh(t.endAt,jh(t),e))}(t,e)}function Kh(t){return function(e,n){for(var r=!1,i=0,s=jh(t);i<s.length;i++){var o=s[i],a=$h(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function $h(t,e,n){var r=t.field.isKeyField()?Ql.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Xl(r,i):_l()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _l()}}function Qh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kl(e)?"-0":e}}function Wh(t){return{integerValue:""+t}}function Jh(t,e){return $l(e)?Wh(e):Qh(t,e)}var Yh=function(){this._=void 0};function Xh(t,e,n){return t instanceof nd?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof rd?id(t,e):t instanceof sd?od(t,e):function(t,e){var n=ed(t,e),r=ud(n)+ud(t.A);return ih(n)&&ih(t.A)?Wh(r):Qh(t.R,r)}(t,e)}function td(t,e,n){return t instanceof rd?id(t,e):t instanceof sd?od(t,e):n}function ed(t,e){return t instanceof ad?ih(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var nd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ll.ZT)(e,t),e}(Yh),rd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,ll.ZT)(e,t),e}(Yh);function id(t,e){for(var n=cd(e),r=function(t){n.some(function(e){return Jl(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var sd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,ll.ZT)(e,t),e}(Yh);function od(t,e){for(var n=cd(e),r=function(t){n=n.filter(function(e){return!Jl(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,ll.ZT)(e,t),e}(Yh);function ud(t){return ql(t.integerValue||t.doubleValue)}function cd(t){return sh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ld=function(t,e){this.field=t,this.transform=e},hd=function(t,e){this.version=t,this.transformResults=e},dd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function fd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var pd=function(){};function md(t,e,n){t instanceof _d?function(t,e,n){var r=t.value.clone(),i=Sd(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof wd?function(t,e,n){if(fd(t.precondition,e)){var r=Sd(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ed(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function gd(t,e,n){t instanceof _d?function(t,e,n){if(fd(t.precondition,e)){var r=t.value.clone(),i=Td(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(bd(e),r).setHasLocalMutations()}}(t,e,n):t instanceof wd?function(t,e,n){if(fd(t.precondition,e)){var r=Td(t.fieldTransforms,n,e),i=e.data;i.setAll(Ed(t)),i.setAll(r),e.convertToFoundDocument(bd(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){fd(t.precondition,e)&&e.convertToNoDocument(kl.min())}(t,e)}function yd(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=ed(s.transform,o||null);null!=a&&(null==n&&(n=ch.empty()),n.set(s.field,a))}return n||null}function vd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Il(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof rd&&e instanceof rd||t instanceof sd&&e instanceof sd?Il(t.elements,e.elements,Jl):t instanceof ad&&e instanceof ad?Jl(t.A,e.A):t instanceof nd&&e instanceof nd}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function bd(t){return t.isFoundDocument()?t.version:kl.min()}var _d=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return(0,ll.ZT)(e,t),e}(pd),wd=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return(0,ll.ZT)(e,t),e}(pd);function Ed(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Sd(t,e,n){var r=new Map;wl(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,td(o,a,n[i]))}return r}function Td(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,Xh(a,u,e))}return r}var Cd,Id,Ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,ll.ZT)(e,t),e}(pd),xd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,ll.ZT)(e,t),e}(pd),kd=function(t){this.count=t};function Od(t){switch(t){case dl.OK:return _l();case dl.CANCELLED:case dl.UNKNOWN:case dl.DEADLINE_EXCEEDED:case dl.RESOURCE_EXHAUSTED:case dl.INTERNAL:case dl.UNAVAILABLE:case dl.UNAUTHENTICATED:return!1;case dl.INVALID_ARGUMENT:case dl.NOT_FOUND:case dl.ALREADY_EXISTS:case dl.PERMISSION_DENIED:case dl.FAILED_PRECONDITION:case dl.ABORTED:case dl.OUT_OF_RANGE:case dl.UNIMPLEMENTED:case dl.DATA_LOSS:return!0;default:return _l()}}function Nd(t){if(void 0===t)return yl("GRPC error has no .code"),dl.UNKNOWN;switch(t){case Cd.OK:return dl.OK;case Cd.CANCELLED:return dl.CANCELLED;case Cd.UNKNOWN:return dl.UNKNOWN;case Cd.DEADLINE_EXCEEDED:return dl.DEADLINE_EXCEEDED;case Cd.RESOURCE_EXHAUSTED:return dl.RESOURCE_EXHAUSTED;case Cd.INTERNAL:return dl.INTERNAL;case Cd.UNAVAILABLE:return dl.UNAVAILABLE;case Cd.UNAUTHENTICATED:return dl.UNAUTHENTICATED;case Cd.INVALID_ARGUMENT:return dl.INVALID_ARGUMENT;case Cd.NOT_FOUND:return dl.NOT_FOUND;case Cd.ALREADY_EXISTS:return dl.ALREADY_EXISTS;case Cd.PERMISSION_DENIED:return dl.PERMISSION_DENIED;case Cd.FAILED_PRECONDITION:return dl.FAILED_PRECONDITION;case Cd.ABORTED:return dl.ABORTED;case Cd.OUT_OF_RANGE:return dl.OUT_OF_RANGE;case Cd.UNIMPLEMENTED:return dl.UNIMPLEMENTED;case Cd.DATA_LOSS:return dl.DATA_LOSS;default:return _l()}}(Id=Cd||(Cd={}))[Id.OK=0]="OK",Id[Id.CANCELLED=1]="CANCELLED",Id[Id.UNKNOWN=2]="UNKNOWN",Id[Id.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Id[Id.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Id[Id.NOT_FOUND=5]="NOT_FOUND",Id[Id.ALREADY_EXISTS=6]="ALREADY_EXISTS",Id[Id.PERMISSION_DENIED=7]="PERMISSION_DENIED",Id[Id.UNAUTHENTICATED=16]="UNAUTHENTICATED",Id[Id.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Id[Id.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Id[Id.ABORTED=10]="ABORTED",Id[Id.OUT_OF_RANGE=11]="OUT_OF_RANGE",Id[Id.UNIMPLEMENTED=12]="UNIMPLEMENTED",Id[Id.INTERNAL=13]="INTERNAL",Id[Id.UNAVAILABLE=14]="UNAVAILABLE",Id[Id.DATA_LOSS=15]="DATA_LOSS";var Dd=function(){function t(t,e){this.comparator=t,this.root=e||Pd.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pd.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pd.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Rd(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Rd(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Rd(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Rd(this.root,t,this.comparator,!0)},t}(),Rd=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Pd=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw _l();if(this.right.isRed())throw _l();var t=this.left.check();if(t!==this.right.check())throw _l();return t+(this.isRed()?0:1)},t}();Pd.EMPTY=null,Pd.RED=!0,Pd.BLACK=!1,Pd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw _l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw _l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw _l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw _l()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw _l()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Pd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Ld=function(){function t(t){this.comparator=t,this.data=new Dd(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Fd(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Fd(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Fd=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Md=new Dd(Ql.comparator);function Vd(){return Md}var Ud=new Dd(Ql.comparator);function jd(){return Ud}var qd=new Dd(Ql.comparator);function Bd(){return qd}var Gd=new Ld(Ql.comparator);function zd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Gd,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Hd=new Ld(Cl);function Zd(){return Hd}var Kd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(kl.min(),r,Zd(),Vd(),zd())},t}(),$d=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Vl.EMPTY_BYTE_STRING,n,zd(),zd(),zd())},t}(),Qd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Wd=function(t,e){this.targetId=t,this.V=e},Jd=function(t,e,n,r){void 0===n&&(n=Vl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Yd=function(){function t(){this.S=0,this.D=ef(),this.C=Vl.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=zd(),e=zd(),n=zd();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:_l()}}),new $d(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=ef()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Xd=function(){function t(t){this.W=t,this.G=new Map,this.H=Vd(),this.J=tf(),this.Y=new Ld(Cl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:_l()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(gh(i))if(0===n){var s=new Ql(i.path);this.tt(e,s,hh.newNoDocument(s,kl.min()))}else wl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.at=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&gh(s.target)){var o=new Ql(s.target.path);null!==e.H.get(o)||e.ut(i,o)||e.tt(i,o,hh.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=zd();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Kd(t,n,this.Y,this.H,r);return this.H=Vd(),this.J=tf(),this.Y=new Ld(Cl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.ut(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.ut(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Yd,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Ld(Cl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||gl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Yd),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.ut=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function tf(){return new Dd(Ql.comparator)}function ef(){return new Dd(Ql.comparator)}var nf={asc:"ASCENDING",desc:"DESCENDING"},rf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sf=function(t,e){this.databaseId=t,this.I=e};function of(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function af(t,e){return t.I?e.toBase64():e.toUint8Array()}function uf(t,e){return of(t,e.toTimestamp())}function cf(t){return wl(!!t),kl.fromTimestamp(function(t){var e=jl(t);return new xl(e.seconds,e.nanos)}(t))}function lf(t,e){return function(t){return new Pl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function hf(t){var e=Pl.fromString(t);return wl(Lf(e)),e}function df(t,e){return lf(t.databaseId,e.path)}function ff(t,e){var n=hf(e);if(n.get(1)!==t.databaseId.projectId)throw new fl(dl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fl(dl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ql(yf(n))}function pf(t,e){return lf(t.databaseId,e)}function mf(t){var e=hf(t);return 4===e.length?Pl.emptyPath():yf(e)}function gf(t){return new Pl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yf(t){return wl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function vf(t,e,n){return{name:df(t,e),fields:n.toProto().mapValue.fields}}function bf(t,e,n){var r=ff(t,e.name),i=cf(e.updateTime),s=new ch({mapValue:{fields:e.fields}}),o=hh.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function _f(t,e){var n;if(e instanceof _d)n={update:vf(t,e.key,e.value)};else if(e instanceof Ad)n={delete:df(t,e.key)};else if(e instanceof wd)n={update:vf(t,e.key,e.data),updateMask:Pf(e.fieldMask)};else{if(!(e instanceof xd))return _l();n={verify:df(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof nd)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rd)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sd)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ad)return{fieldPath:e.field.canonicalString(),increment:n.A};throw _l()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:uf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:_l()}(t,e.precondition)),n}function wf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?dd.updateTime(cf(t.updateTime)):void 0!==t.exists?dd.exists(t.exists):dd.none()}(e.currentDocument):dd.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(wl("REQUEST_TIME"===e.setToServerValue),n=new nd):"appendMissingElements"in e?n=new rd(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new sd(e.removeAllFromArray.values||[]):"increment"in e?n=new ad(t,e.increment):_l();var r=Fl.fromServerFormat(e.fieldPath);return new ld(r,n)}(t,e)}):[];if(e.update){var i=ff(t,e.update.name),s=new ch({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Ml((t.fieldPaths||[]).map(function(t){return Fl.fromServerFormat(t)}))}(e.updateMask);return new wd(i,s,o,n,r)}return new _d(i,s,n,r)}if(e.delete){var a=ff(t,e.delete);return new Ad(a,n)}if(e.verify){var u=ff(t,e.verify);return new xd(u,n)}return _l()}function Ef(t,e){return{documents:[pf(t,e.path)]}}function Sf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=pf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=pf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(ah(t.value))return{unaryFilter:{field:Of(t.field),op:"IS_NAN"}};if(oh(t.value))return{unaryFilter:{field:Of(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ah(t.value))return{unaryFilter:{field:Of(t.field),op:"IS_NOT_NAN"}};if(oh(t.value))return{unaryFilter:{field:Of(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Of(t.field),op:kf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Of(t.field),direction:xf(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Zl(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=If(e.startAt)),e.endAt&&(n.structuredQuery.endAt=If(e.endAt)),n}function Tf(t){var e=mf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wl(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Cf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new xh(Nf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Zl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Af(n.startAt));var l=null;return n.endAt&&(l=Af(n.endAt)),Rh(e,i,a,o,u,"F",c,l)}function Cf(t){return t?void 0!==t.unaryFilter?[Rf(t)]:void 0!==t.fieldFilter?[Df(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Cf(t)}).reduce(function(t,e){return t.concat(e)}):_l():[]}function If(t){return{before:t.before,values:t.position}}function Af(t){return new Ih(t.values||[],!!t.before)}function xf(t){return nf[t]}function kf(t){return rf[t]}function Of(t){return{fieldPath:t.canonicalString()}}function Nf(t){return Fl.fromServerFormat(t.fieldPath)}function Df(t){return yh.create(Nf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return _l()}}(t.fieldFilter.op),t.fieldFilter.value)}function Rf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Nf(t.unaryFilter.field);return yh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Nf(t.unaryFilter.field);return yh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Nf(t.unaryFilter.field);return yh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Nf(t.unaryFilter.field);return yh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return _l()}}function Pf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Lf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ff(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Vf(e)),e=Mf(t.get(n),e);return Vf(e)}function Mf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Vf(t){return t+"\x01\x01"}function Uf(t){var e=t.length;if(wl(e>=2),2===e)return wl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Pl.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&_l(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:_l()}s=o+2}return new Pl(r)}var jf=function(t,e){this.seconds=t,this.nanoseconds=e},qf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};qf.store="owner",qf.key="owner";var Bf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Bf.store="mutationQueues",Bf.keyPath="userId";var Gf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Gf.store="mutations",Gf.keyPath="batchId",Gf.userMutationsIndex="userMutationsIndex",Gf.userMutationsKeyPath=["userId","batchId"];var zf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ff(e)]},t.key=function(t,e,n){return[t,Ff(e),n]},t}();zf.store="documentMutations",zf.PLACEHOLDER=new zf;var Hf=function(t,e){this.path=t,this.readTime=e},Zf=function(t,e){this.path=t,this.version=e},Kf=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Kf.store="remoteDocuments",Kf.readTimeIndex="readTimeIndex",Kf.readTimeIndexPath="readTime",Kf.collectionReadTimeIndex="collectionReadTimeIndex",Kf.collectionReadTimeIndexPath=["parentPath","readTime"];var $f=function(t){this.byteSize=t};$f.store="remoteDocumentGlobal",$f.key="remoteDocumentGlobalKey";var Qf=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Qf.store="targets",Qf.keyPath="targetId",Qf.queryTargetsIndexName="queryTargetsIndex",Qf.queryTargetsKeyPath=["canonicalId","targetId"];var Wf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Wf.store="targetDocuments",Wf.keyPath=["targetId","path"],Wf.documentTargetsIndex="documentTargetsIndex",Wf.documentTargetsKeyPath=["path","targetId"];var Jf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Jf.key="targetGlobalKey",Jf.store="targetGlobal";var Yf=function(t,e){this.collectionId=t,this.parent=e};Yf.store="collectionParents",Yf.keyPath=["collectionId","parent"];var Xf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Xf.store="clientMetadata",Xf.keyPath="clientId";var tp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};tp.store="bundles",tp.keyPath="bundleId";var ep=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ep.store="namedQueries",ep.keyPath="name";var np=(0,ll.ev)((0,ll.ev)([],(0,ll.ev)((0,ll.ev)([],(0,ll.ev)((0,ll.ev)([],(0,ll.ev)((0,ll.ev)([],[Bf.store,Gf.store,zf.store,Kf.store,Qf.store,qf.store,Jf.store,Wf.store]),[Xf.store])),[$f.store])),[Yf.store])),[tp.store,ep.store]),rp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ip=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),sp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},op=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&_l(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),ap=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new sp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new lp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=mp(e.target.error);n.ft.reject(new lp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new lp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(gl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new dp(e)},t}(),up=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,oo.z$)())&&yl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return gl("SimpleDb","Removing database:",t),fp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,oo.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,ll.mG)(this,void 0,void 0,function(){var e,n=this;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(gl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new lp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new fl(dl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new lp(t,n))},i.onupgradeneeded=function(t){gl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){gl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,ll.mG)(this,void 0,void 0,function(){var i,s,o,a,u;return(0,ll.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return(0,ll.Jh)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=ap.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),op.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return gl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),cp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return fp(this.Pt.delete())},t}(),lp=function(t){function e(e,n){var r=this;return(r=t.call(this,dl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,ll.ZT)(e,t),e}(fl);function hp(t){return"IndexedDbTransactionError"===t.name}var dp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(gl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(gl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),fp(n)},t.prototype.add=function(t){return gl("SimpleDb","ADD",this.store.name,t,t),fp(this.store.add(t))},t.prototype.get=function(t){var e=this;return fp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),gl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return gl("SimpleDb","DELETE",this.store.name,t),fp(this.store.delete(t))},t.prototype.count=function(){return gl("SimpleDb","COUNT",this.store.name),fp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){gl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new op(function(n,r){e.onerror=function(t){var e=mp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new op(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new cp(i),o=e(i.primaryKey,i.value,s);if(o instanceof op){var a=o.catch(function(t){return s.done(),op.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return op.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function fp(t){return new op(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=mp(t.target.error);n(e)}})}var pp=!1;function mp(t){var e=up._t((0,oo.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new fl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return pp||(pp=!0,setTimeout(function(){throw r},0)),r}}return t}var gp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,ll.ZT)(e,t),e}(ip);function yp(t,e){var n=El(t);return up.It(n.Mt,e)}var vp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&md(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&gd(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&gd(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(kl.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},zd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Il(this.mutations,t.mutations,function(t,e){return vd(t,e)})&&Il(this.baseMutations,t.baseMutations,function(t,e){return vd(t,e)})},t}(),bp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){wl(e.mutations.length===r.length);for(var i=Bd(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),_p=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=kl.min()),void 0===s&&(s=kl.min()),void 0===o&&(o=Vl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),wp=function(t){this.Lt=t};function Ep(t,e){if(e.document)return bf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ql.fromSegments(e.noDocument.path),r=Ap(e.noDocument.readTime),i=hh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=Ql.fromSegments(e.unknownDocument.path);return r=Ap(e.unknownDocument.version),hh.newUnknownDocument(s,r)}return _l()}function Sp(t,e,n){var r=Tp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:df(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:of(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new Kf(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Ip(e.version);return o=e.hasCommittedMutations,new Kf(null,new Hf(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Ip(e.version);return new Kf(new Zf(c,l),null,null,!0,r,i)}return _l()}function Tp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Cp(t){var e=new xl(t[0],t[1]);return kl.fromTimestamp(e)}function Ip(t){var e=t.toTimestamp();return new jf(e.seconds,e.nanoseconds)}function Ap(t){var e=new xl(t.seconds,t.nanoseconds);return kl.fromTimestamp(e)}function xp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return wf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return wf(t.Lt,e)}),s=xl.fromMillis(e.localWriteTimeMs);return new vp(e.batchId,s,n,i)}function kp(t){var e,n,r=Ap(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ap(t.lastLimboFreeSnapshotVersion):kl.min();return void 0!==t.query.documents?(wl(1===(n=t.query).documents.length),e=qh(Ph(mf(n.documents[0])))):e=function(t){return qh(Tf(t))}(t.query),new _p(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Vl.fromBase64String(t.resumeToken))}function Op(t,e){var n,r=Ip(e.snapshotVersion),i=Ip(e.lastLimboFreeSnapshotVersion);n=gh(e.target)?Ef(t.Lt,e.target):Sf(t.Lt,e.target);var s=e.resumeToken.toBase64();return new Qf(e.targetId,ph(e.target),r,s,e.sequenceNumber,i,n)}function Np(t){var e=Tf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Bh(e,e.limit,"L"):e}var Dp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Rp(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Ap(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Rp(t).put({bundleId:(n=e).id,createTime:Ip(cf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Pp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Np(e.bundledQuery),readTime:Ap(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Pp(t).put(function(t){return{name:t.name,readTime:Ip(cf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Rp(t){return yp(t,tp.store)}function Pp(t){return yp(t,ep.store)}var Lp=function(){function t(){this.Bt=new Fp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),op.resolve()},t.prototype.getCollectionParents=function(t,e){return op.resolve(this.Bt.getEntries(e))},t}(),Fp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ld(Pl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ld(Pl.comparator)).toArray()},t}(),Mp=function(){function t(){this.qt=new Fp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:Ff(i)};return Vp(t).put(s)}return op.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Al(e),""],!1,!0);return Vp(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Uf(s.parent))}return n})},t}();function Vp(t){return yp(t,Yf.store)}var Up={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function qp(t,e,n){var r=t.store(Gf.store),i=t.store(zf.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){wl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=zf.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return op.waitFor(s).next(function(){return c})}function Bp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _l();e=t.noDocument}return JSON.stringify(e).length}jp.DEFAULT_COLLECTION_PERCENTILE=10,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jp.DEFAULT=new jp(41943040,jp.DEFAULT_COLLECTION_PERCENTILE,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jp.DISABLED=new jp(-1,0,0);var Gp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return wl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hp(t).Ot({index:Gf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Zp(t),o=Hp(t);return o.add({}).next(function(a){wl("number"==typeof a);for(var u=new vp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return _f(t.Lt,e)}),i=n.mutations.map(function(e){return _f(t.Lt,e)});return new Gf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Ld(function(t,e){return Cl(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=zf.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(m,zf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),op.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Hp(t).get(e).next(function(t){return t?(wl(t.userId===n.userId),xp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?op.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Hp(t).Ot({index:Gf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(wl(e.batchId>=r),s=xp(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Hp(t).Ot({index:Gf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hp(t).Nt(Gf.userMutationsIndex,n).next(function(t){return t.map(function(t){return xp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=zf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Zp(t).Ot({range:i},function(r,i,o){var a=r[0],u=r[2],c=Uf(r[1]);if(a===n.userId&&e.path.isEqual(c))return Hp(t).get(u).next(function(t){if(!t)throw _l();wl(t.userId===n.userId),s.push(xp(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ld(Cl),i=[];return e.forEach(function(e){var s=zf.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Zp(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],u=Uf(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),op.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=zf.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ld(Cl);return Zp(t).Ot({range:o},function(t,e,s){var o=t[0],u=t[2],c=Uf(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Hp(t).get(e).next(function(t){if(null===t)throw _l();wl(t.userId===n.userId),r.push(xp(n.R,t))}))}),op.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return qp(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),op.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return op.resolve();var r=IDBKeyRange.lowerBound(zf.prefixForUser(e.userId)),i=[];return Zp(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=Uf(t[1]);i.push(s)}else r.done()}).next(function(){wl(0===i.length)})})},t.prototype.containsKey=function(t,e){return zp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Kp(t).get(this.userId).next(function(t){return t||new Bf(e.userId,-1,"")})},t}();function zp(t,e,n){var r=zf.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Zp(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Hp(t){return yp(t,Gf.store)}function Zp(t){return yp(t,zf.store)}function Kp(t){return yp(t,Bf.store)}var $p=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Qp=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new $p(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return kl.fromTimestamp(new xl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Wp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return wl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Wp(t).Ot(function(o,a){var u=kp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return op.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Wp(t).Ot(function(t,n){var r=kp(n);e(r)})},t.prototype.Xt=function(t){return Jp(t).get(Jf.key).next(function(t){return wl(null!==t),t})},t.prototype.Zt=function(t,e){return Jp(t).put(Jf.key,e)},t.prototype.te=function(t,e){return Wp(t).put(Op(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=ph(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Wp(t).Ot({range:r,index:Qf.queryTargetsIndexName},function(t,n,r){var s=kp(n);mh(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Yp(t);return e.forEach(function(e){var o=Ff(e.path);i.push(s.put(new Wf(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),op.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Yp(t);return op.forEach(e,function(e){var s=Ff(e.path);return op.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Yp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Yp(t),i=zd();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Uf(t[1]),s=new Ql(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Ff(e.path),r=IDBKeyRange.bound([n],[Al(n)],!1,!0),i=0;return Yp(t).Ot({index:Wf.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Wp(t).get(e).next(function(t){return t?kp(t):null})},t}();function Wp(t){return yp(t,Qf.store)}function Jp(t){return yp(t,Jf.store)}function Yp(t){return yp(t,Wf.store)}function Xp(t){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){if(t.code!==dl.FAILED_PRECONDITION||t.message!==rp)throw t;return gl("LocalStore","Unexpectedly lost primary lease"),[2]})})}function tm(t,e){var n=t[1],r=e[1],i=Cl(t[0],e[0]);return 0===i?Cl(n,r):i}var em=function(){function t(t){this.ne=t,this.buffer=new Ld(tm),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();tm(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),nm=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ae(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ae=function(t){var e=this,n=this.oe?3e5:6e4;gl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,ll.mG)(e,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return hp(e=n.sent())?(gl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Xp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ae(t)];case 8:return n.sent(),[2]}})})})},t}(),rm=function(){function t(t,e){this.ue=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ue.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return op.resolve(hl.o);var r=new em(e);return this.ue.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ue.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ue.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ue.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(gl("LruGarbageCollector","Garbage collection skipped; disabled"),op.resolve(Up)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(gl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Up):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ue.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(gl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),ml()<=ao.in.DEBUG&&gl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),op.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),im=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new rm(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return sm(t,n)},t.prototype.removeReference=function(t,e,n){return sm(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return sm(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Kp(t).$t(function(r){return zp(t,r,e).next(function(t){return t&&(n=!0),op.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Yp(t).delete([0,Ff(o.path)])})});i.push(u)}}).next(function(){return op.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return sm(t,e)},t.prototype.we=function(t,e){var n,r=Yp(t),i=hl.o;return r.Ot({index:Wf.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==hl.o&&e(new Ql(Uf(n)),i),i=o,n=s):i=hl.o}).next(function(){i!==hl.o&&e(new Ql(Uf(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function sm(t,e){return Yp(t).put(function(t,e){return new Wf(0,Ff(t.path),e)}(e,t.currentSequenceNumber))}var om=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Nl(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return Dl(this.inner)},t}(),am=function(){function t(){this.changes=new om(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:kl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:hh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?op.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),um=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return hm(t).put(dm(e),n)},t.prototype.removeEntry=function(t,e){var n=hm(t),r=dm(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return hm(t).get(dm(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return hm(t).get(dm(e)).next(function(t){return{document:n.ye(e,t),size:Bp(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Vd();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Vd(),i=new Dd(Ql.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,Bp(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return op.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return hm(t).Ot({range:r},function(t,e,r){for(var o=Ql.fromSegments(t);s&&Ql.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Vd(),s=e.path.length+1,o={};if(n.isEqual(kl.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Tp(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Kf.collectionReadTimeIndex}return hm(t).Ot(o,function(t,n,o){if(t.length===s){var a=Ep(r.R,n);e.path.isPrefixOf(a.key.path)?Zh(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new cm(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return lm(t).get($f.key).next(function(t){return wl(!!t),t})},t.prototype.me=function(t,e){return lm(t).put($f.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ep(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(kl.min()))return n}return hh.newInvalidDocument(t)},t}(),cm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new om(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,ll.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Ld(function(t,e){return Cl(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=Sp(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=Bp(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=Sp(e.Ie.R,hh.newNoDocument(s,kl.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),op.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(am);function lm(t){return yp(t,$f.store)}function hm(t){return yp(t,Kf.store)}function dm(t){return t.path.toArray()}var fm=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;wl(n<r&&n>=0&&r<=11);var s=new ap("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(qf.store)}(t),function(t){t.createObjectStore(Bf.store,{keyPath:Bf.keyPath}),t.createObjectStore(Gf.store,{keyPath:Gf.keyPath,autoIncrement:!0}).createIndex(Gf.userMutationsIndex,Gf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(zf.store)}(t),pm(t),function(t){t.createObjectStore(Kf.store)}(t));var o=op.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Wf.store),t.deleteObjectStore(Qf.store),t.deleteObjectStore(Jf.store)}(t),pm(t)),o=o.next(function(){return function(t){var e=t.store(Jf.store),n=new Jf(0,0,kl.min().toTimestamp(),0);return e.put(Jf.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Gf.store).Nt().next(function(n){t.deleteObjectStore(Gf.store),t.createObjectStore(Gf.store,{keyPath:Gf.keyPath,autoIncrement:!0}).createIndex(Gf.userMutationsIndex,Gf.userMutationsKeyPath,{unique:!0});var r=e.store(Gf.store),i=n.map(function(t){return r.put(t)});return op.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Xf.store,{keyPath:Xf.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore($f.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Kf.store);e.createIndex(Kf.readTimeIndex,Kf.readTimeIndexPath,{unique:!1}),e.createIndex(Kf.collectionReadTimeIndex,Kf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(tp.store,{keyPath:tp.keyPath})}(t),function(t){t.createObjectStore(ep.store,{keyPath:ep.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(Kf.store).Ot(function(t,n){e+=Bp(n)}).next(function(){var n=new $f(e);return t.store($f.store).put($f.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Bf.store),r=t.store(Gf.store);return n.Nt().next(function(n){return op.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Gf.userMutationsIndex,i).next(function(r){return op.forEach(r,function(r){wl(r.userId===n.userId);var i=xp(e.R,r);return qp(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Wf.store),n=t.store(Kf.store);return t.store(Jf.store).get(Jf.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new Pl(n),o=function(t){return[0,Ff(t)]}(s);r.push(e.get(o).next(function(n){return n?op.resolve():function(n){return e.put(new Wf(0,Ff(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return op.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Yf.store,{keyPath:Yf.keyPath});var n=e.store(Yf.store),r=new Fp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Ff(i)})}};return e.store(Kf.store).Ot({kt:!0},function(t,e){var n=new Pl(t);return i(n.popLast())}).next(function(){return e.store(zf.store).Ot({kt:!0},function(t,e){var n=Uf(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Qf.store);return n.Ot(function(t,r){var i=kp(r),s=Op(e.R,i);return n.put(s)})},t}();function pm(t){t.createObjectStore(Wf.store,{keyPath:Wf.keyPath}).createIndex(Wf.documentTargetsIndex,Wf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Qf.store,{keyPath:Qf.keyPath}).createIndex(Qf.queryTargetsIndexName,Qf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Jf.store)}var mm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gm=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new fl(dl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new im(this,i),this.Le=n+"main",this.R=new wp(u),this.Be=new up(this.Le,11,new fm(this.R)),this.qe=new Qp(this.referenceDelegate,this.R),this.Ut=new Mp,this.Ue=function(t,e){return new um(t,e)}(this.R,this.Ut),this.Qe=new Dp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&yl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new fl(dl.FAILED_PRECONDITION,mm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new hl(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,ll.mG)(e,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,ll.mG)(e,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,ll.mG)(e,void 0,void 0,function(){return(0,ll.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return vm(e).put(new Xf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(hp(e))return gl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return gl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return ym(t).get(qf.key).next(function(t){return op.resolve(e.tn(t))})},t.prototype.en=function(t){return vm(t).delete(this.clientId)},t.prototype.nn=function(){return(0,ll.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=yp(t,Xf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return op.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?op.resolve(!0):ym(t).get(qf.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new fl(dl.FAILED_PRECONDITION,mm);return!1}}return!(!e.networkEnabled||!e.inForeground)||vm(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&gl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,ll.mG)(this,void 0,void 0,function(){var t=this;return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[qf.store,Xf.store],function(e){var n=new gp(e,hl.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return vm(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Gp.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return gl("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",np,function(s){return r=new gp(s,i.Ne?i.Ne.next():hl.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw yl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new fl(dl.FAILED_PRECONDITION,rp);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return ym(t).get(qf.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new fl(dl.FAILED_PRECONDITION,mm)})},t.prototype.Ze=function(t){var e=new qf(this.clientId,this.allowTabSynchronization,Date.now());return ym(t).put(qf.key,e)},t.yt=function(){return up.yt()},t.prototype.Xe=function(t){var e=this,n=ym(t);return n.get(qf.key).next(function(t){return e.tn(t)?(gl("IndexedDbPersistence","Releasing primary lease."),n.delete(qf.key)):op.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(yl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.an(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return gl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return yl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){yl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ym(t){return yp(t,qf.store)}function vm(t){return yp(t,Xf.store)}function bm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var _m=function(t,e){this.progress=t,this.wn=e},wm=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Ql.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Uh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Ql(e)).next(function(t){var e=jd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=jd();return this.Ut.getCollectionParents(t,i).next(function(o){return op.forEach(o,function(o){var a=function(t,e){return new Dh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=hh.newInvalidDocument(c),r=r.insert(c,l)),gd(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Zh(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=zd(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof wd&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Em=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=zd(),i=zd(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Sm=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(kl.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(Lh(e)||Fh(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(ml()<=ao.in.DEBUG&&gl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Hh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Ld(Kh(t));return e.forEach(function(e,r){Zh(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return ml()<=ao.in.DEBUG&&gl("QueryEngine","Using full collection scan to execute query:",Hh(e)),this.Sn.getDocumentsMatchingQuery(t,e,kl.min())},t}(),Tm=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Dd(Cl),this.kn=new om(function(t){return ph(t)},mh),this.On=kl.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new wm(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Cm(t,e,n,r){return new Tm(t,e,n,r)}function Im(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i,s;return(0,ll.Jh)(this,function(o){switch(o.label){case 0:return n=El(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new wm(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=zd(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Am(t,e){var n=El(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=op.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);wl(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function xm(t){var e=El(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function km(t,e){var n=El(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return wl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=Vd();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Om(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(kl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return op.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Om(t,e,n,r,i){var s=zd();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Vd();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(kl.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):gl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Nm(t,e){var n=El(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Dm(t,e){var n=El(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?op.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new _p(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Rm(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,ll.Jh)(this,function(a){switch(a.label){case 0:r=El(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!hp(o=a.sent()))throw o;return gl("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Pm(t,e,n){var r=El(t),i=kl.min(),s=zd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=El(t),i=r.kn.get(n);return void 0!==i?op.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,qh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:kl.min(),n?s:zd())}).next(function(t){return{documents:t,Bn:s}})})}function Lm(t,e){var n=El(t),r=El(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Fm(t){var e=El(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=El(t),i=Vd(),s=Tp(n),o=hm(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:Kf.readTimeIndex,range:a},function(t,e){var n=Ep(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Cp(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function Mm(t){return(0,ll.mG)(this,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(n){return[2,(e=El(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=hm(t),n=kl.min();return e.Ot({index:Kf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Cp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Vm(t,e,n,r){return(0,ll.mG)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,d,f;return(0,ll.Jh)(this,function(p){switch(p.label){case 0:for(i=El(t),s=zd(),o=Vd(),a=Bd(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Dm(i,function(t){return qh(Ph(Pl.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Om(t,d,o,kl.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Um(t,e,n){return void 0===n&&(n=zd()),(0,ll.mG)(this,void 0,void 0,function(){var r,i;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:return[4,Dm(t,qh(Np(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=El(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=cf(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(Vl.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var jm=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return op.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:cf(n.createTime)}),op.resolve()},t.prototype.getNamedQuery=function(t,e){return op.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Np(t.bundledQuery),readTime:cf(t.readTime)}}(e)),op.resolve()},t}(),qm=function(){function t(){this.Wn=new Ld(Bm.Gn),this.zn=new Ld(Bm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Bm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Bm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Ql(new Pl([])),r=new Bm(n,t),i=new Bm(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Ql(new Pl([])),n=new Bm(e,t),r=new Bm(e,t+1),i=zd();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Bm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Bm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Ql.comparator(t.key,e.key)||Cl(t.ns,e.ns)},t.Hn=function(t,e){return Cl(t.ns,e.ns)||Ql.comparator(t.key,e.key)},t}(),Gm=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Ld(Bm.Gn)}return t.prototype.checkEmpty=function(t){return op.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new vp(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new Bm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return op.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return op.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return op.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return op.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return op.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Bm(e,0),i=new Bm(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),op.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ld(Cl);return e.forEach(function(t){var e=new Bm(t,0),i=new Bm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),op.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ql.isDocumentKey(i)||(i=i.child(""));var s=new Bm(new Ql(i),0),o=new Ld(Cl);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),op.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;wl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return op.forEach(e.mutations,function(i){var s=new Bm(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Bm(e,0),r=this.rs.firstAfterOrEqual(n);return op.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return op.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),zm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Dd(Ql.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return op.resolve(n?n.document.clone():hh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Vd();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():hh.newInvalidDocument(t))}),op.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Vd(),i=new Ql(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||Zh(e,u)&&(r=r.insert(u.key,u.clone()))}return op.resolve(r)},t.prototype.fs=function(t,e){return op.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Hm(this)},t.prototype.getSize=function(t){return op.resolve(this.size)},t}(),Hm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,ll.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),op.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(am),Zm=function(){function t(t){this.persistence=t,this.ds=new om(function(t){return ph(t)},mh),this.lastRemoteSnapshotVersion=kl.min(),this.highestTargetId=0,this.ws=0,this._s=new qm,this.targetCount=0,this.ys=$p.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),op.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return op.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return op.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),op.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),op.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new $p(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,op.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),op.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,op.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),op.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return op.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return op.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),op.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),op.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),op.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return op.resolve(n)},t.prototype.containsKey=function(t,e){return op.resolve(this._s.containsKey(e))},t}(),Km=function(){function t(t,e){var n=this;this.gs={},this.Ne=new hl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Zm(this),this.Ut=new Lp,this.Ue=function(t,e){return new zm(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new wp(e),this.Qe=new jm(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Gm(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;gl("MemoryPersistence","Starting transaction:",t);var i=new $m(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return op.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),$m=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,ll.ZT)(e,t),e}(ip),Qm=function(){function t(t){this.persistence=t,this.As=new qm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw _l()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),op.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),op.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),op.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return op.forEach(this.vs,function(r){var i=Ql.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return op.or([function(){return op.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Wm=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Jm(t,e){return"firestore_clients_"+t+"_"+e}function Ym(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Xm(t,e){return"firestore_targets_"+t+"_"+e}Wm.UNAUTHENTICATED=new Wm(null),Wm.GOOGLE_CREDENTIALS=new Wm("google-credentials-uid"),Wm.FIRST_PARTY=new Wm("first-party-uid");var tg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new fl(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(yl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),eg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new fl(i.error.code,i.error.message)),s?new t(e,i.state,r):(yl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ng=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Zd(),o=0;i&&o<r.activeTargetIds.length;++o)i=$l(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(yl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),rg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(yl("SharedClientState","Failed to parse online state: "+e),null)},t}(),ig=function(){function t(){this.activeTargetIds=Zd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),sg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Dd(Cl),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Jm(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ig),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,ll.mG)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return(0,ll.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Jm(this.persistenceKey,r)))&&(s=ng.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Xm(this.persistenceKey,t));if(n){var r=eg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Xm(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return gl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){gl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){gl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(gl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void yl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,ll.mG)(e,void 0,void 0,function(){var t,e,r,i,s,o;return(0,ll.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=hl.o;if(null!=t)try{var n=JSON.parse(t);wl("number"==typeof n),e=n}catch(t){yl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==hl.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new tg(this.currentUser,t,e,n),i=Ym(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Ym(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Xm(this.persistenceKey,t),i=new eg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return ng.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return tg.Vs(new Wm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return eg.Vs(r,e)},t.prototype.js=function(t){return rg.Vs(t)},t.prototype.ii=function(t){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(t.batchId,t.state,t.error)]:(gl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ui(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Zd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),og=function(){function t(){this.li=new ig,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new ig,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),ag=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),ug=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){gl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){gl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),cg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},lg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),hg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return(0,ll.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new cl;o.listenOnce(ol.COMPLETE,function(){try{switch(o.getLastErrorCode()){case sl.NO_ERROR:var e=o.getResponseJson();gl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case sl.TIMEOUT:gl("Connection",'RPC "'+t+'" timed out'),s(new fl(dl.DEADLINE_EXCEEDED,"Request time out"));break;case sl.HTTP_ERROR:var n=o.getStatus();if(gl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(dl).indexOf(e)>=0?e:dl.UNKNOWN}(r.status);s(new fl(a,r.message))}else s(new fl(dl.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new fl(dl.UNAVAILABLE,"Connection failed."));break;default:_l()}}finally{gl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new tl,i=ru(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),(0,oo.uI)()||(0,oo.b$)()||(0,oo.d)()||(0,oo.w1)()||(0,oo.Mn)()||(0,oo.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");gl("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new lg({Ei:function(t){c?gl("Connection","Not sending because WebChannel is closed:",t):(u||(gl("Connection","Opening WebChannel transport."),a.open(),u=!0),gl("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,ul.EventType.OPEN,function(){c||gl("Connection","WebChannel transport opened.")}),h(a,ul.EventType.CLOSE,function(){c||(c=!0,gl("Connection","WebChannel transport closed"),l.Vi())}),h(a,ul.EventType.ERROR,function(t){c||(c=!0,vl("Connection","WebChannel transport errored:",t),l.Vi(new fl(dl.UNAVAILABLE,"The operation could not be completed")))}),h(a,ul.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];wl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){gl("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Cd[t];if(void 0!==e)return Nd(e)}(i),o=r.message;void 0===s&&(s=dl.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new fl(s,o)),a.close()}else gl("Connection","WebChannel received:",n),l.Si(n)}}),h(i,al.STAT_EVENT,function(t){10===t.stat?gl("Connection","Detected buffering proxy"):11===t.stat&&gl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);gl("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return gl("RestConnection","Received: ",t),t},function(e){throw vl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+cg[t]},t}());function dg(){return"undefined"!=typeof window?window:null}function fg(){return"undefined"!=typeof document?document:null}function pg(t){return new sf(t,!0)}var mg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&gl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),gg=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new mg(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ar(),this.stream.send(t)},t.prototype.rr=function(){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===dl.RESOURCE_EXHAUSTED?(yl(e.toString()),yl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===dl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ur(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ur=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new fl(dl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,ll.mG)(t,void 0,void 0,function(){return(0,ll.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return gl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(gl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),yg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return(0,ll.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:_l()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(wl(void 0===e||"string"==typeof e),Vl.fromBase64String(e||"")):(wl(void 0===e||e instanceof Uint8Array),Vl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?dl.UNKNOWN:Nd(t.code);return new fl(e,t.message||"")}(a);n=new Jd(r,i,s,o||null)}else if("documentChange"in e){i=ff(t,(r=e.documentChange).document.name),s=cf(r.document.updateTime);var a=new ch({mapValue:{fields:r.document.fields}}),u=(o=hh.newFoundDocument(i,s,a),r.targetIds||[]);n=new Qd(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=ff(t,(r=e.documentDelete).document),s=r.readTime?cf(r.readTime):kl.min(),a=hh.newNoDocument(i,s),n=new Qd([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=ff(t,(r=e.documentRemove).document),n=new Qd([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return _l();var c=e.filter;i=new kd(r=c.count||0),n=new Wd(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return kl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?kl.min():e.readTime?cf(e.readTime):kl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=gf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=gh(r)?{documents:Ef(t,r)}:{query:Sf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=af(t,e.resumeToken):e.snapshotVersion.compareTo(kl.min())>0&&(n.readTime=of(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _l()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=gf(this.R),e.removeTarget=t,this.cr(e)},e}(gg),vg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return(0,ll.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ur=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(wl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(wl(void 0!==e),t.map(function(t){return function(t,e){var n=cf(t.updateTime?t.updateTime:e);return n.isEqual(kl.min())&&(n=cf(e)),new hd(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=cf(t.commitTime);return this.listener.Tr(n,e)}return wl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=gf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return _f(e.R,t)})};this.cr(n)},e}(gg),bg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,ll.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new fl(dl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===dl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new fl(dl.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===dl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new fl(dl.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),_g=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(yl(e),this.Vr=!1):gl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),wg=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,ll.mG)(s,void 0,void 0,function(){return(0,ll.Jh)(this,function(t){switch(t.label){case 0:return Og(this)?(gl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,ll.mG)(this,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return(e=El(t)).$r.add(4),[4,Sg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Eg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new _g(n,r)};function Eg(t){return(0,ll.mG)(this,void 0,void 0,function(){var e,n;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:if(!Og(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Sg(t){return(0,ll.mG)(this,void 0,void 0,function(){var e,n;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Tg(t,e){var n=El(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),kg(n)?xg(n):Hg(n).er()&&Ig(n,e))}function Cg(t,e){var n=El(t),r=Hg(n);n.Or.delete(e),r.er()&&Ag(n,e),0===n.Or.size&&(r.er()?r.ir():Og(n)&&n.Br.set("Unknown"))}function Ig(t,e){t.qr.U(e.targetId),Hg(t).mr(e)}function Ag(t,e){t.qr.U(e),Hg(t).yr(e)}function xg(t){t.qr=new Xd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Hg(t).start(),t.Br.Sr()}function kg(t){return Og(t)&&!Hg(t).tr()&&t.Or.size>0}function Og(t){return 0===El(t).$r.size}function Ng(t){t.qr=void 0}function Dg(t){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){return t.Or.forEach(function(e,n){Ig(t,e)}),[2]})})}function Rg(t,e){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(n){return Ng(t),kg(t)?(t.Br.Nr(e),xg(t)):t.Br.set("Unknown"),[2]})})}function Pg(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var r,i,s;return(0,ll.Jh)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Jd&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i,s;return(0,ll.Jh)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),gl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Lg(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Qd?t.qr.X(e):e instanceof Wd?t.qr.rt(e):t.qr.et(e),n.isEqual(kl.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,xm(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.at(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Vl.EMPTY_BYTE_STRING,n.snapshotVersion)),Ag(t,e);var r=new _p(n.target,e,1,n.sequenceNumber);Ig(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return gl("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Lg(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Lg(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var r=this;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:if(!hp(e))throw e;return t.$r.add(1),[4,Sg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return xm(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,ll.mG)(r,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return gl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Eg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Fg(t,e){return e().catch(function(n){return Lg(t,n,e)})}function Mg(t){return(0,ll.mG)(this,void 0,void 0,function(){var e,n,r,i,s;return(0,ll.Jh)(this,function(o){switch(o.label){case 0:e=El(t),n=Zg(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Og(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Nm(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Zg(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Lg(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Vg(e)&&Ug(e),[2]}})})}function Vg(t){return Og(t)&&!Zg(t).tr()&&t.kr.length>0}function Ug(t){Zg(t).start()}function jg(t){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){return Zg(t).Ar(),[2]})})}function qg(t){return(0,ll.mG)(this,void 0,void 0,function(){var e,n,r;return(0,ll.Jh)(this,function(i){for(e=Zg(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Bg(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var r,i;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=bp.from(r,e,n),[4,Fg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Mg(t)];case 2:return s.sent(),[2]}})})}function Gg(t,e){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return e&&Zg(t).pr?[4,function(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:return Od(r=e.code)&&r!==dl.ABORTED?(n=t.kr.shift(),Zg(t).sr(),[4,Fg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Mg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Vg(t)&&Ug(t),[2]}})})}function zg(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:return n=El(t),e?(n.$r.delete(2),[4,Eg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Sg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Hg(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=El(t);return r.br(),new yg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Dg.bind(null,t),Ri:Rg.bind(null,t),_r:Pg.bind(null,t)}),t.Mr.push(function(n){return(0,ll.mG)(e,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),kg(t)?xg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Ng(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Zg(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=El(t);return r.br(),new vg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:jg.bind(null,t),Ri:Gg.bind(null,t),Ir:qg.bind(null,t),Tr:Bg.bind(null,t)}),t.Mr.push(function(n){return(0,ll.mG)(e,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Mg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(gl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Kg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new sp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fl(dl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function $g(t,e){if(yl("AsyncQueue",e+": "+t),hp(t))return new fl(dl.UNAVAILABLE,e+": "+t);throw t}var Qg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ql.comparator(e.key,n.key)}:function(t,e){return Ql.comparator(t.key,e.key)},this.keyedMap=jd(),this.sortedSet=new Dd(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Wg=function(){function t(){this.Kr=new Dd(Ql.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):_l():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Jg=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Qg.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Yg=function(){this.Wr=void 0,this.listeners=[]},Xg=function(){this.queries=new om(function(t){return zh(t)},Gh),this.onlineState="Unknown",this.Gr=new Set};function ty(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return(0,ll.Jh)(this,function(c){switch(c.label){case 0:if(n=El(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Yg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=$g(a,"Initialization of query '"+Hh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&iy(n),[2]}})})}function ey(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,ll.Jh)(this,function(a){return n=El(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function ny(t,e){for(var n=El(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&iy(n)}function ry(t,e,n){var r=El(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function iy(t){t.Gr.forEach(function(t){t.next()})}var sy=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Jg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Jg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),oy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ay=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return ff(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?bf(this.R,t.document,!1):hh.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return cf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ay(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||zd()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,ll.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:return[4,Vm(this.localStore,new ay(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Um(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new _m(Object.assign({},this.progress),t))]}})})}}();var uy=function(t){this.key=t},cy=function(t){this.key=t},ly=function(){function t(t,e){this.query=t,this.ao=e,this.uo=null,this.current=!1,this.ho=zd(),this.mutatedKeys=zd(),this.lo=Kh(t),this.fo=new Qg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Wg,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=Lh(this.query)&&i.size===this.query.limit?i.last():null,c=Fh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Zh(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Lh(this.query)||Fh(this.query))for(;o.size>this.query.limit;){var l=Lh(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _l()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.uo;return this.uo=a,0!==s.length||u?{snapshot:new Jg(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Wg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.ao.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.ao=e.ao.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.ao=e.ao.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=zd(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new cy(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new uy(t))}),n},t.prototype.Ao=function(t){this.ao=t.Bn,this.ho=zd();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Jg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.uo)},t}(),hy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},dy=function(t){this.key=t,this.bo=!1},fy=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new om(function(t){return zh(t)},Gh),this.Vo=new Map,this.So=new Set,this.Do=new Dd(Ql.comparator),this.Co=new Map,this.No=new qm,this.xo={},this.Fo=new Map,this.ko=$p.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function py(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,ll.Jh)(this,function(a){switch(a.label){case 0:return n=Gy(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Dm(n.localStore,qh(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,my(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&Tg(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function my(t,e,n,r){return(0,ll.mG)(this,void 0,void 0,function(){var i,s,o,a,u,c;return(0,ll.Jh)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return(0,ll.mG)(this,void 0,void 0,function(){var i,s,o;return(0,ll.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Pm(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(xy(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,Pm(t.localStore,e,!0)];case 1:return i=l.sent(),s=new ly(e,i.Bn),o=s._o(i.documents),a=$d.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),xy(t,n,u.To),c=new hy(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function gy(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:return n=El(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Gh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Rm(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Cg(n.remoteStore,r.targetId),Iy(n,r.targetId)}).catch(Xp)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Iy(n,r.targetId),[4,Rm(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function yy(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,ll.Jh)(this,function(a){switch(a.label){case 0:r=zy(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=El(t),i=xl.now(),s=e.reduce(function(t,e){return t.add(e.key)},zd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=yd(c,n.get(c.key));null!=l&&o.push(new wd(c.key,l,lh(l.toProto().mapValue),dd.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Dd(Cl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ny(r,i.changes)];case 3:return a.sent(),[4,Mg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=$g(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function vy(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:n=El(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,km(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(wl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?wl(r.bo):t.removedDocuments.size>0&&(wl(r.bo),r.bo=!1))}),[4,Ny(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Xp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function by(t,e,n){var r=El(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=El(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&iy(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _y(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var r,i,s,o,a,u;return(0,ll.Jh)(this,function(c){switch(c.label){case 0:return(r=El(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Dd(Ql.comparator)).insert(s,hh.newNoDocument(s,kl.min())),a=zd().add(s),u=new Kd(kl.min(),new Map,new Ld(Cl),o,a),[4,vy(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Oy(r),[3,4];case 2:return[4,Rm(r.localStore,e,!1).then(function(){return Iy(r,e,n)}).catch(Xp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function wy(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:n=El(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Am(n.localStore,e)];case 2:return i=s.sent(),Cy(n,r,null),Ty(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ny(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Xp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Ey(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var r,i;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:r=El(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=El(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return wl(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),Cy(r,e,n),Ty(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ny(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Xp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Sy(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,ll.Jh)(this,function(a){switch(a.label){case 0:Og((n=El(t)).remoteStore)||gl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=El(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=$g(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Ty(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Cy(t,e,n){var r=El(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Iy(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Ay(t,e)})}function Ay(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Cg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Oy(t))}function xy(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof uy?(t.No.addReference(s.key,e),ky(t,s)):s instanceof cy?(gl("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Ay(t,s.key)):_l()}}function ky(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(gl("SyncEngine","New document in limbo: "+n),t.So.add(r),Oy(t))}function Oy(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Ql(Pl.fromString(e)),r=t.ko.next();t.Co.set(r,new dy(n)),t.Do=t.Do.insert(n,r),Tg(t.remoteStore,new _p(qh(Ph(n.path)),r,2,hl.o))}}function Ny(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,ll.Jh)(this,function(a){switch(a.label){case 0:return r=El(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Em.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return(0,ll.Jh)(this,function(l){switch(l.label){case 0:n=El(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return op.forEach(e,function(e){return op.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return op.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!hp(r=l.sent()))throw r;return gl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Dy(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:return(n=El(t)).currentUser.isEqual(e)?[3,3]:(gl("SyncEngine","User change. New user:",e.toKey()),[4,Im(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new fl(dl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ny(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Ry(t,e){var n=El(t),r=n.Co.get(e);if(r&&r.bo)return zd().add(r.key);var i=zd(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function Py(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:return[4,Pm((n=El(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&xy(n,e.targetId,i.To),i)]}})})}function Ly(t){return(0,ll.mG)(this,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(n){return[2,Fm((e=El(t)).localStore).then(function(t){return Ny(e,t)})]})})}function Fy(t,e,n,r){return(0,ll.mG)(this,void 0,void 0,function(){var i,s;return(0,ll.Jh)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=El(t),r=El(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):op.resolve(null)})})}((i=El(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Mg(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Cy(i,e,r||null),Ty(i,e),function(t,e){El(El(t)._n).Gt(e)}(i.localStore,e)):_l(),o.label=4;case 4:return[4,Ny(i,s)];case 5:return o.sent(),[3,7];case 6:gl("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function My(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return(0,ll.Jh)(this,function(c){switch(c.label){case 0:return Gy(n=El(t)),zy(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Vy(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,zg(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Tg(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Iy(n,e),Rm(n.localStore,e,!0)}),Cg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Vy(n,a)];case 5:return c.sent(),function(t){var e=El(t);e.Co.forEach(function(t,n){Cg(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Dd(Ql.comparator)}(n),n.Oo=!1,[4,zg(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Vy(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return(0,ll.Jh)(this,function(m){switch(m.label){case 0:n=El(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,Dm(n.localStore,qh(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Py(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Lm(n.localStore,a)];case 8:return p=m.sent(),[4,Dm(n.localStore,p)];case 9:return u=m.sent(),[4,my(n,Uy(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Uy(t){return Rh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function jy(t){var e=El(t);return El(El(e.localStore).persistence).fn()}function qy(t,e,n,r){return(0,ll.mG)(this,void 0,void 0,function(){var i,s,o;return(0,ll.Jh)(this,function(a){switch(a.label){case 0:return(i=El(t)).Oo?(gl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Fm(i.localStore)];case 3:return s=a.sent(),o=Kd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ny(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Rm(i.localStore,e,!0)];case 6:return a.sent(),Iy(i,e,r),[3,8];case 7:_l(),a.label=8;case 8:return[2]}})})}function By(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return(0,ll.Jh)(this,function(d){switch(d.label){case 0:if(!(r=Gy(t)).Oo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(gl("SyncEngine","Adding an already active target "+o),[3,5]):[4,Lm(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,Dm(r.localStore,a)];case 3:return u=d.sent(),[4,my(r,Uy(a),u.targetId,!1)];case 4:d.sent(),Tg(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Rm(r.localStore,t,!1).then(function(){Cg(r.remoteStore,t),Iy(r,t)}).catch(Xp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Gy(t){var e=El(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ry.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_y.bind(null,e),e.vo._r=ny.bind(null,e.eventManager),e.vo.Mo=ry.bind(null,e.eventManager),e}function zy(t){var e=El(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ey.bind(null,e),e}var Hy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return this.R=pg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Cm(this.persistence,new Sm,t.initialUser,this.R)},t.prototype.qo=function(t){return new Km(Qm.bs,this.R)},t.prototype.Bo=function(t){return new og},t.prototype.terminate=function(){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Zy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,ll.ZT)(e,t),e.prototype.initialize=function(e){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Mm(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,zy(this.Ko.syncEngine)];case 4:return n.sent(),[4,Mg(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Cm(this.persistence,new Sm,t.initialUser,this.R)},e.prototype.Uo=function(t){return new nm(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=bm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jp.withCacheSize(this.cacheSizeBytes):jp.DEFAULT;return new gm(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,dg(),fg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new og},e}(Hy),Ky=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,ll.ZT)(e,t),e.prototype.initialize=function(e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r=this;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof sg?(this.sharedClientState.syncEngine={ai:Fy.bind(null,n),ui:qy.bind(null,n),hi:By.bind(null,n),fn:jy.bind(null,n),ci:Ly.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,ll.mG)(r,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return[4,My(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=dg();if(!sg.yt(e))throw new fl(dl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=bm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new sg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Zy),$y=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n=this;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return by(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Dy.bind(null,this.syncEngine),[4,zg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Xg},t.prototype.createDatastore=function(t){var e=pg(t.databaseInfo.databaseId),n=new hg(t.databaseInfo);return function(t,e,n){return new bg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return by(o.syncEngine,t,0)},s=ug.yt()?new ug:new ag,new wg(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new fy(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,ll.mG)(this,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return e=El(t),gl("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Sg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Qy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Wy=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new sp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,ll.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new oy(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,ll.mG)(this,void 0,void 0,function(){var t,e;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,ll.mG)(this,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,ll.mG)(this,void 0,void 0,function(){var t,e;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,ll.mG)(this,void 0,void 0,function(){var e,n=this;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new fl(dl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a;return(0,ll.Jh)(this,function(u){switch(u.label){case 0:return n=El(t),r=gf(n.R)+"/documents",i={documents:e.map(function(t){return df(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){wl(!!e.found);var n=ff(t,e.found.name),r=cf(e.found.updateTime),i=new ch({mapValue:{fields:e.found.fields}});return hh.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){wl(!!e.missing),wl(!!e.readTime);var n=ff(t,e.missing),r=cf(e.readTime);return hh.newNoDocument(n,r)}(t,e):_l()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());wl(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ad(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,ll.mG)(this,void 0,void 0,function(){var t,e=this;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Ql.fromPath(n);e.mutations.push(new xd(r,e.precondition(r)))}),[4,function(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:return n=El(t),r=gf(n.R)+"/documents",i={writes:e.map(function(t){return _f(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw _l();e=kl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new fl(dl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?dd.updateTime(e):dd.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(kl.min()))throw new fl(dl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dd.updateTime(e)}return dd.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Jy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new mg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,ll.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,ll.Jh)(this,function(r){return t=new Wy(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Zl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Od(e)}return!1},t}(),Yy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Wm.UNAUTHENTICATED,this.clientId=Tl.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,ll.mG)(r,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return gl("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new fl(dl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new sp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,ll.mG)(t,void 0,void 0,function(){var t,n;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=$g(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Xy(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),gl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,ll.mG)(i,void 0,void 0,function(){return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Im(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function tv(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ev(t)];case 1:return n=i.sent(),gl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,ll.mG)(this,void 0,void 0,function(){var n,r;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:return(n=El(t)).asyncQueue.verifyOperationInProgress(),gl("RemoteStore","RemoteStore received new credentials"),r=Og(n),n.$r.add(3),[4,Sg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Eg(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function ev(t){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(gl("FirestoreClient","Using default OfflineComponentProvider"),[4,Xy(t,new Hy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function nv(t){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(gl("FirestoreClient","Using default OnlineComponentProvider"),[4,tv(t,new $y)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function rv(t){return ev(t).then(function(t){return t.persistence})}function iv(t){return ev(t).then(function(t){return t.localStore})}function sv(t){return nv(t).then(function(t){return t.remoteStore})}function ov(t){return nv(t).then(function(t){return t.syncEngine})}function av(t){return(0,ll.mG)(this,void 0,void 0,function(){var e,n;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:return[4,nv(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=py.bind(null,e.syncEngine),n.onUnlisten=gy.bind(null,e.syncEngine),n)]}})})}function uv(t,e,n){var r=this;void 0===n&&(n={});var i=new sp;return t.asyncQueue.enqueueAndForget(function(){return(0,ll.mG)(r,void 0,void 0,function(){var r;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Qy({next:function(s){e.enqueueAndForget(function(){return ey(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new fl(dl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new fl(dl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new sy(Ph(n.path),s,{includeMetadataChanges:!0,so:!0});return ty(t,o)},[4,av(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function cv(t,e,n){var r=this;void 0===n&&(n={});var i=new sp;return t.asyncQueue.enqueueAndForget(function(){return(0,ll.mG)(r,void 0,void 0,function(){var r;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Qy({next:function(n){e.enqueueAndForget(function(){return ey(t,o)}),n.fromCache&&"server"===r.source?i.reject(new fl(dl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new sy(n,s,{includeMetadataChanges:!0,so:!0});return ty(t,o)},[4,av(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var lv=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},hv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),dv=new Map,fv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},pv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Wm.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),mv=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),gv=function(){function t(t){var e=this;this.currentUser=Wm.UNAUTHENTICATED,this.oc=new sp,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.ac&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){gl("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.ac&&(gl("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)}))}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(gl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(wl("string"==typeof n.accessToken),new fv(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.ac=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return wl(null===t||"string"==typeof t),new Wm(t)},t.prototype.lc=function(){var t=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable(function(){return(0,ll.mG)(t,void 0,void 0,function(){return(0,ll.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.ac=!0,[2]}})})}))},t}(),yv=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Wm.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),vv=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new yv(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Wm.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function bv(t,e,n){if(!n)throw new fl(dl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function _v(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new fl(dl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function wv(t,e,n,r){if(!0===e&&!0===r)throw new fl(dl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ev(t){if(!Ql.isDocumentKey(t))throw new fl(dl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Sv(t){if(Ql.isDocumentKey(t))throw new fl(dl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Tv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":_l()}function Cv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fl(dl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Tv(t);throw new fl(dl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Iv(t,e){if(e<=0)throw new fl(dl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Av=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new fl(dl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new fl(dl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,wv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),xv=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,t instanceof hv?(this._databaseId=t,this._credentials=new pv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fl(dl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hv(t.options.projectId)}(t),this._credentials=new gv(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new fl(dl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new fl(dl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new pv;switch(t.type){case"gapi":var e=t.client;return wl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new vv(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new fl(dl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=dv.get(this))&&(gl("ComponentProvider","Removing Datastore"),dv.delete(this),t.terminate()),Promise.resolve();var t},t}(),kv=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Nv(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ov=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Nv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ph(r))||this)._path=r,i.type="collection",i}return(0,ll.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new kv(this.firestore,null,new Ql(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Ov);function Dv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,oo.m9)(t),bv("collection","path",e),t instanceof xv)return Sv(n=Pl.fromString.apply(Pl,(0,ll.ev)([e],r))),new Nv(t,null,n);if(!(t instanceof kv||t instanceof Nv))throw new fl(dl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sv(n=Pl.fromString.apply(Pl,(0,ll.ev)([t.path],r)).child(Pl.fromString(e))),new Nv(t.firestore,null,n)}function Rv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,oo.m9)(t),1===arguments.length&&(e=Tl.u()),bv("doc","path",e),t instanceof xv)return Ev(n=Pl.fromString.apply(Pl,(0,ll.ev)([e],r))),new kv(t,null,new Ql(n));if(!(t instanceof kv||t instanceof Nv))throw new fl(dl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ev(n=t._path.child(Pl.fromString.apply(Pl,(0,ll.ev)([e],r)))),new kv(t.firestore,t instanceof Nv?t.converter:null,new Ql(n))}function Pv(t,e){return t=(0,oo.m9)(t),e=(0,oo.m9)(e),(t instanceof kv||t instanceof Nv)&&(e instanceof kv||e instanceof Nv)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Lv(t,e){return t=(0,oo.m9)(t),e=(0,oo.m9)(e),t instanceof Ov&&e instanceof Ov&&t.firestore===e.firestore&&Gh(t._query,e._query)&&t.converter===e.converter}var Fv=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new mg(this,"async_queue_retry"),this.Ac=function(){var e=fg();e&&gl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=fg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=fg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},t.prototype.vc=function(){return(0,ll.mG)(this,void 0,void 0,function(){var t,e=this;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!hp(t=n.sent()))throw t;return gl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},t.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,yl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Tc=!1,t})});return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=Kg.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&_l()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return(0,ll.mG)(this,void 0,void 0,function(){var t;return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function Mv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new sp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Vv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Fv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,ll.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||jv(this),this._firestoreClient.terminate()},e}(xv);function Uv(t){return t._firestoreClient||jv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new lv(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Yy(t._credentials,t._queue,r)}function qv(t,e,n){var r=this,i=new sp;return t.asyncQueue.enqueue(function(){return(0,ll.mG)(r,void 0,void 0,function(){var r;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Xy(t,n)];case 1:return s.sent(),[4,tv(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===dl.FAILED_PRECONDITION||t.code===dl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Bv(t){if(t._initialized||t._terminated)throw new fl(dl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Gv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new fl(dl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),zv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Vl.fromBase64String(e))}catch(e){throw new fl(dl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Vl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Hv=function(t){this._methodName=t},Zv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new fl(dl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new fl(dl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Cl(this._lat,t._lat)||Cl(this._long,t._long)},t}(),Kv=/^__.*__$/,$v=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new wd(t,this.data,this.fieldMask,e,this.fieldTransforms):new _d(t,this.data,e,this.fieldTransforms)},t}(),Qv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new wd(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Wv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _l()}}var Jv=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.$c(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,Oc:!0})},t.prototype.Bc=function(t){return yb(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Wv(this.xc)&&Kv.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Yv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||pg(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Jv({xc:t,methodName:e,Uc:n,path:Fl.emptyPath(),Oc:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Xv(t){var e=t._freezeSettings(),n=pg(t._databaseId);return new Yv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tb(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Qc(s.merge||s.mergeFields?2:0,e,n,i);fb("Data must be an object, but it was:",o,r);var a,u,c=hb(r,o);if(s.merge)a=new Ml(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=pb(e,d[h],n);if(!o.contains(f))throw new fl(dl.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");vb(l,f)||l.push(f)}a=new Ml(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new $v(new ch(c),a,u)}var eb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ll.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Hv);function nb(t,e,n){return new Jv({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ll.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new ld(t.path,new nd)},e.prototype.isEqual=function(t){return t instanceof e},e}(Hv),ib=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,ll.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=nb(this,t,!0),n=this.Kc.map(function(t){return lb(t,e)}),r=new rd(n);return new ld(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hv),sb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,ll.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=nb(this,t,!0),n=this.Kc.map(function(t){return lb(t,e)}),r=new sd(n);return new ld(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hv),ob=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return(0,ll.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new ad(t.R,Jh(t.R,this.jc));return new ld(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Hv);function ab(t,e,n,r){var i=t.Qc(1,e,n);fb("Data must be an object, but it was:",i,r);var s=[],o=ch.empty();Nl(r,function(t,r){var a=gb(e,t,n);r=(0,oo.m9)(r);var u=i.Mc(a);if(r instanceof eb)s.push(a);else{var c=lb(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Ml(s);return new Qv(o,a,i.fieldTransforms)}function ub(t,e,n,r,i,s){var o=t.Qc(1,e,n),a=[pb(e,r,n)],u=[i];if(s.length%2!=0)throw new fl(dl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(pb(e,s[c])),u.push(s[c+1]);for(var l=[],h=ch.empty(),d=a.length-1;d>=0;--d)if(!vb(l,a[d])){var f=a[d],p=u[d];p=(0,oo.m9)(p);var m=o.Mc(f);if(p instanceof eb)l.push(f);else{var g=lb(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new Ml(l);return new Qv(h,y,o.fieldTransforms)}function cb(t,e,n,r){return void 0===r&&(r=!1),lb(n,t.Qc(r?4:3,e))}function lb(t,e){if(db(t=(0,oo.m9)(t)))return fb("Unsupported field value:",e,t),hb(t,e);if(t instanceof Hv)return function(t,e){if(!Wv(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oc&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=lb(s[i],e.Lc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,oo.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Jh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=xl.fromDate(t);return{timestampValue:of(e.R,n)}}if(t instanceof xl)return n=new xl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:of(e.R,n)};if(t instanceof Zv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zv)return{bytesValue:af(e.R,t._byteString)};if(t instanceof kv){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:lf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+Tv(t))}(t,e)}function hb(t,e){var n={};return Dl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nl(t,function(t,r){var i=lb(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function db(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof xl||t instanceof Zv||t instanceof zv||t instanceof kv||t instanceof Hv)}function fb(t,e,n){if(!db(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Tv(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function pb(t,e,n){if((e=(0,oo.m9)(e))instanceof Gv)return e._internalPath;if("string"==typeof e)return gb(t,e);throw yb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var mb=new RegExp("[~\\*/\\[\\]]");function gb(t,e,n){if(e.search(mb)>=0)throw yb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Gv.bind.apply(Gv,(0,ll.ev)([void 0],e.split(".")))))._internalPath}catch(Co){throw yb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function yb(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new fl(dl.INVALID_ARGUMENT,(a+=". ")+t+u)}function vb(t,e){return t.some(function(t){return t.isEqual(e)})}var bb=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new kv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new _b(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(wb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),_b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ll.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(bb);function wb(t,e){return"string"==typeof e?gb(t,e):e instanceof Gv?e._internalPath:e._delegate._internalPath}var Eb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Sb=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return(0,ll.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Tb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(wb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(bb),Tb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ll.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Sb),Cb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Eb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Tb(n._firestore,n._userDataWriter,r.key,r,new Eb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new fl(dl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Tb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Eb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Tb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Eb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Ib(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Ib(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _l()}}function Ab(t,e){return t instanceof Sb&&e instanceof Sb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Cb&&e instanceof Cb&&t._firestore===e._firestore&&Lv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function xb(t){if(Fh(t)&&0===t.explicitOrderBy.length)throw new fl(dl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kb=function(){};function Ob(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Nb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return(0,ll.ZT)(e,t),e.prototype._apply=function(t){var e=Xv(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new fl(dl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Vb(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Mb(r,t,l[c]));a={arrayValue:{values:u}}}else a=Mb(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Vb(o,s),a=cb(n,"where",o,"in"===s||"not-in"===s);var h=yh.create(i,s,a);return function(t,e){if(e.g()){var n=Vh(t);if(null!==n&&!n.isEqual(e.field))throw new fl(dl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Mh(t);null!==r&&Ub(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new fl(dl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new Ov(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Dh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(kb),Db=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return(0,ll.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new fl(dl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new fl(dl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xh(e,n);return function(t,e){if(null===Mh(t)){var n=Vh(t);null!==n&&Ub(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new Ov(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Dh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(kb),Rb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,ll.ZT)(e,t),e.prototype._apply=function(t){return new Ov(t.firestore,t.converter,Bh(t._query,this.Jc,this.Yc))},e}(kb),Pb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return(0,ll.ZT)(e,t),e.prototype._apply=function(t){var e=Fb(t,this.type,this.Xc,this.Zc);return new Ov(t.firestore,t.converter,function(t,e){return new Dh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(kb),Lb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return(0,ll.ZT)(e,t),e.prototype._apply=function(t){var e=Fb(t,this.type,this.Xc,this.Zc);return new Ov(t.firestore,t.converter,function(t,e){return new Dh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(kb);function Fb(t,e,n,r){if(n[0]=(0,oo.m9)(n[0]),n[0]instanceof bb)return function(t,e,n,r,i){if(!r)throw new fl(dl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=jh(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(rh(e,r.key));else{var c=r.data.field(u.field);if(Gl(c))throw new fl(dl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new fl(dl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Ih(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Xv(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new fl(dl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new fl(dl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Uh(t)&&-1!==c.indexOf("/"))throw new fl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Pl.fromString(c));if(!Ql.isDocumentKey(l))throw new fl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ql(l);a.push(rh(e,h))}else{var d=cb(n,r,c);a.push(d)}}return new Ih(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function Mb(t,e,n){if("string"==typeof(n=(0,oo.m9)(n))){if(""===n)throw new fl(dl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uh(e)&&-1!==n.indexOf("/"))throw new fl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Pl.fromString(n));if(!Ql.isDocumentKey(r))throw new fl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return rh(t,new Ql(r))}if(n instanceof kv)return rh(t,n._key);throw new fl(dl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Tv(n)+".")}function Vb(t,e){if(!Array.isArray(t)||0===t.length)throw new fl(dl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new fl(dl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ub(t,e,n){if(!n.isEqual(e))throw new fl(dl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var jb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Wl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ql(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Bl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw _l()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Nl(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Zv(ql(t.latitude),ql(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=zl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Hl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=jl(t);return new xl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Pl.fromString(t);wl(Lf(n));var r=new hv(n.get(1),n.get(3)),i=new Ql(n.popFirst(5));return r.isEqual(e)||yl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function qb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Bb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,ll.ZT)(e,t),e.prototype.convertBytes=function(t){return new zv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new kv(this.firestore,null,e)},e}(jb),Gb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Xv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=zb(t,this._firestore),i=qb(r.converter,e,n),s=tb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,dd.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=zb(t,this._firestore);return s="string"==typeof(e=(0,oo.m9)(e))||e instanceof Gv?ub(this._dataReader,"WriteBatch.update",o._key,e,n,r):ab(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,dd.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=zb(t,this._firestore);return this._mutations=this._mutations.concat(new Ad(e._key,dd.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new fl(dl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function zb(t,e){if((t=(0,oo.m9)(t)).firestore!==e)throw new fl(dl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Hb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,ll.ZT)(e,t),e.prototype.convertBytes=function(t){return new zv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new kv(this.firestore,null,e)},e}(jb);function Zb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Cv(t,kv);var s=Cv(t.firestore,Vv),o=Xv(s);return $b(s,[("string"==typeof(e=(0,oo.m9)(e))||e instanceof Gv?ub(o,"updateDoc",t._key,e,n,r):ab(o,"updateDoc",t._key,e)).toMutation(t._key,dd.exists(!0))])}function Kb(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=(0,oo.m9)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Mv(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Mv(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof kv)c=Cv(t.firestore,Vv),l=Ph(t._key.path),u={next:function(e){i[a]&&i[a](Qb(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Cv(t,Ov);c=Cv(f.firestore,Vv),l=f._query;var p=new Hb(c);u={next:function(t){i[a]&&i[a](new Cb(c,p,f,t))},error:i[a+1],complete:i[a+2]},xb(t._query)}return function(t,e,n,r){var i=this,s=new Qy(r),o=new sy(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return(0,ll.mG)(i,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return e=ty,[4,av(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,ll.mG)(i,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return e=ey,[4,av(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Uv(c),l,h,u)}function $b(t,e){return function(t,e){var n=this,r=new sp;return t.asyncQueue.enqueueAndForget(function(){return(0,ll.mG)(n,void 0,void 0,function(){var n;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:return n=yy,[4,ov(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Uv(t),e)}function Qb(t,e,n){var r=n.docs.get(e._key),i=new Hb(t);return new Sb(t,i,e._key,r,new Eb(n.hasPendingWrites,n.fromCache),e.converter)}var Wb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,ll.ZT)(e,t),e.prototype.get=function(e){var n=this,r=zb(e,this._firestore),i=new Hb(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Sb(n._firestore,i,r._key,t._document,new Eb(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Xv(t)}return t.prototype.get=function(t){var e=this,n=zb(t,this._firestore),r=new Bb(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return _l();var i=t[0];if(i.isFoundDocument())return new bb(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new bb(e._firestore,r,n._key,null,n.converter);throw _l()})},t.prototype.set=function(t,e,n){var r=zb(t,this._firestore),i=qb(r.converter,e,n),s=tb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=zb(t,this._firestore);return s="string"==typeof(e=(0,oo.m9)(e))||e instanceof Gv?ub(this._dataReader,"Transaction.update",o._key,e,n,r):ab(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=zb(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Jb(){if("undefined"==typeof Uint8Array)throw new fl(dl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Yb(){if("undefined"==typeof atob)throw new fl(dl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Xb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Yb(),new t(zv.fromBase64String(e))},t.fromUint8Array=function(e){return Jb(),new t(zv.fromUint8Array(e))},t.prototype.toBase64=function(){return Yb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Jb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),t_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Bv(t=Cv(t,Vv));var n=Uv(t),r=t._freezeSettings(),i=new $y;return qv(n,i,new Zy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Bv(t=Cv(t,Vv));var e=Uv(t),n=t._freezeSettings(),r=new $y;return qv(e,r,new Ky(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new fl(dl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new sp;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,ll.mG)(e,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,ll.mG)(this,void 0,void 0,function(){return(0,ll.Jh)(this,function(e){switch(e.label){case 0:return up.yt()?[4,up.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(bm(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),e_=function(){function t(t,e,n){var r=this;this._delegate=e,this.ta=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof hv||(this.ea=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Cv(t,xv))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&vl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=(0,oo.Sg)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new fl(dl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new mv(new fv(s,new Wm(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,ll.mG)(e,void 0,void 0,function(){var e,n;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:return[4,rv(t)];case 1:return e=r.sent(),[4,sv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=El(t);return e.$r.delete(0),Eg(e)}(n))]}})})})}(Uv(Cv(this._delegate,Vv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,ll.mG)(e,void 0,void 0,function(){var e,n;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:return[4,rv(t)];case 1:return e=r.sent(),[4,sv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,ll.mG)(this,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return(e=El(t)).$r.add(0),[4,Sg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Uv(Cv(this._delegate,Vv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&wv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new sp;return t.asyncQueue.enqueueAndForget(function(){return(0,ll.mG)(e,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(r){switch(r.label){case 0:return e=Sy,[4,ov(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Uv(Cv(this._delegate,Vv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Qy(e);return t.asyncQueue.enqueueAndForget(function(){return(0,ll.mG)(n,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){El(t).Gr.add(e),e.next()},[4,av(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,ll.mG)(n,void 0,void 0,function(){var e;return(0,ll.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){El(t).Gr.delete(e)},[4,av(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Uv(t=Cv(t,Vv)),Mv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ea)throw new fl(dl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new m_(this,Dv(this._delegate,t))}catch(t){throw a_(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new o_(this,Rv(this._delegate,t))}catch(t){throw a_(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new d_(this,function(t,e){if(t=Cv(t,xv),bv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fl(dl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ov(t,null,function(t){return new Dh(Pl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw a_(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new sp;return t.asyncQueue.enqueueAndForget(function(){return(0,ll.mG)(n,void 0,void 0,function(){var n;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return nv(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Jy(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Uv(t),function(n){return e(new Wb(t,n))})}(this._delegate,function(n){return t(new r_(e,n))})},t.prototype.batch=function(){var t=this;return Uv(this._delegate),new i_(new Gb(this._delegate,function(e){return $b(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new fl(dl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new fl(dl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),n_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,ll.ZT)(e,t),e.prototype.convertBytes=function(t){return new Xb(new zv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return o_.na(e,this.firestore,null)},e}(jb),r_=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new n_(t)}return t.prototype.get=function(t){var e=this,n=g_(t);return this._delegate.get(n).then(function(t){return new l_(e._firestore,new Sb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=g_(t);return n?(_v("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=g_(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,(0,ll.ev)([o,e,n],i)),this},t.prototype.delete=function(t){var e=g_(t);return this._delegate.delete(e),this},t}(),i_=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=g_(t);return n?(_v("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=g_(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,(0,ll.ev)([o,e,n],i)),this},t.prototype.delete=function(t){var e=g_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),s_=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Tb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new h_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.sa=function(e,n){var r=t.ia,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new n_(e),n),i.set(n,s)),s},t}();s_.ia=new WeakMap;var o_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new n_(t)}return t.ra=function(e,n,r){if(e.length%2!=0)throw new fl(dl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new kv(n._delegate,r,new Ql(e)))},t.na=function(e,n,r){return new t(n,new kv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new m_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new m_(this.firestore,Dv(this._delegate,t))}catch(t){throw a_(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,oo.m9)(t))instanceof kv&&Pv(this._delegate,t)},t.prototype.set=function(t,e){e=_v("DocumentReference.set",e);try{return function(t,e,n){t=Cv(t,kv);var r=Cv(t.firestore,Vv),i=qb(t.converter,e,n);return $b(r,[tb(Xv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,dd.none())])}(this._delegate,t,e)}catch(t){throw a_(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Zb(this._delegate,t):Zb.apply(void 0,(0,ll.ev)([this._delegate,t,e],n))}catch(t){throw a_(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return $b(Cv((t=this._delegate).firestore,Vv),[new Ad(t._key,dd.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=u_(e),i=c_(e,function(e){return new l_(t.firestore,new Sb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Kb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Cv(t,kv);var e=Cv(t.firestore,Vv),n=Uv(e),r=new Hb(e);return function(t,e){var n=this,r=new sp;return t.asyncQueue.enqueueAndForget(function(){return(0,ll.mG)(n,void 0,void 0,function(){var n;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var r,i;return(0,ll.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=El(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new fl(dl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=$g(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,iv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Sb(e,r,t._key,n,new Eb(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Cv(t,kv);var e=Cv(t.firestore,Vv);return uv(Uv(e),t._key,{source:"server"}).then(function(n){return Qb(e,t,n)})}(this._delegate):function(t){t=Cv(t,kv);var e=Cv(t.firestore,Vv);return uv(Uv(e),t._key).then(function(n){return Qb(e,t,n)})}(this._delegate)).then(function(t){return new l_(e.firestore,new Sb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?s_.sa(this.firestore,e):null))},t}();function a_(t,e,n){return t.message=t.message.replace(e,n),t}function u_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Mv(r))return r}return{}}function c_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Mv(t[0])?t[0]:Mv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var l_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new o_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Ab(this._delegate,t._delegate)},t}(),h_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ll.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(l_),d_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new n_(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Ob(this._delegate,function(t,e,n){var r=e,i=wb("where",t);return new Nb(i,r,n)}(e,n,r)))}catch(e){throw a_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Ob(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=wb("orderBy",t);return new Db(r,n)}(e,n)))}catch(e){throw a_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Ob(this._delegate,function(t){return Iv("limit",t),new Rb("limit",t,"F")}(e)))}catch(e){throw a_(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Ob(this._delegate,function(t){return Iv("limitToLast",t),new Rb("limitToLast",t,"L")}(e)))}catch(e){throw a_(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ob(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Pb("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw a_(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ob(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Pb("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw a_(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ob(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lb("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw a_(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ob(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lb("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw a_(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Lv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Cv(t,Ov);var e=Cv(t.firestore,Vv),n=Uv(e),r=new Hb(e);return function(t,e){var n=this,r=new sp;return t.asyncQueue.enqueueAndForget(function(){return(0,ll.mG)(n,void 0,void 0,function(){var n;return(0,ll.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,ll.mG)(this,void 0,void 0,function(){var r,i,s,o,a;return(0,ll.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Pm(t,e,!0)];case 1:return a=u.sent(),r=new ly(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=$g(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,iv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Cb(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Cv(t,Ov);var e=Cv(t.firestore,Vv),n=Uv(e),r=new Hb(e);return cv(n,t._query,{source:"server"}).then(function(n){return new Cb(e,r,t,n)})}(this._delegate):function(t){t=Cv(t,Ov);var e=Cv(t.firestore,Vv),n=Uv(e),r=new Hb(e);return xb(t._query),cv(n,t._query).then(function(n){return new Cb(e,r,t,n)})}(this._delegate)).then(function(t){return new p_(e.firestore,new Cb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=u_(e),i=c_(e,function(e){return new p_(t.firestore,new Cb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Kb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?s_.sa(this.firestore,e):null))},t}(),f_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new h_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),p_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new d_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new h_(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new f_(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new h_(n._firestore,r))})},t.prototype.isEqual=function(t){return Ab(this._delegate,t._delegate)},t}(),m_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,ll.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new o_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new o_(this.firestore,void 0===t?Rv(this._delegate):Rv(this._delegate,t))}catch(t){throw a_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Cv(t.firestore,Vv),r=Rv(t),i=qb(t.converter,e);return $b(n,[tb(Xv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,dd.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new o_(e.firestore,t)})},e.prototype.isEqual=function(t){return Pv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?s_.sa(this.firestore,t):null))},e}(d_);function g_(t){return Cv(t,kv)}var y_,v_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Gv.bind.apply(Gv,(0,ll.ev)([void 0],t)))}return t.documentId=function(){return new t(Fl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,oo.m9)(t))instanceof Gv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),b_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new rb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new eb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ib("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sb("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new ob("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),__=n(5119),w_={Firestore:e_,GeoPoint:Zv,Timestamp:xl,Blob:Xb,Transaction:r_,WriteBatch:i_,DocumentReference:o_,DocumentSnapshot:l_,Query:d_,QueryDocumentSnapshot:h_,QuerySnapshot:p_,CollectionReference:m_,FieldPath:v_,FieldValue:b_,setLogLevel:function(t){pl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new __.wA("firestore",function(t){return function(t,e){return new e_(t,new Vv(t,e),new t_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},w_)))})(y_=so.Z),y_.registerVersion("@firebase/firestore","2.3.1");var E_=n(1906),S_=n(8489),T_=n(9291);class C_ extends Ye.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new I_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Xe.N;if(this.isStopped||this.hasError?s=Zn.w.EMPTY:(this.observers.push(t),s=new T_.W(this,t)),r&&t.add(t=new no.ht(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||S_.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class I_{constructor(t,e){this.time=t,this.value=e}}function A_(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new C_(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function x_(t,e){return e?vn(()=>t,e):vn(()=>t)}var k_=n(2893);const O_=new r.OlP("angularfire2.auth.use-emulator"),N_=new r.OlP("angularfire2.auth.settings"),D_=new r.OlP("angularfire2.auth.tenant-id"),R_=new r.OlP("angularfire2.auth.langugage-code"),P_=new r.OlP("angularfire2.auth.use-device-language"),L_=new r.OlP("angularfire.auth.persistence");let F_=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new ro.HU(i),d=(0,ro.ss)(h),f=new Ye.xQ,p=(0,fe.of)(void 0).pipe((0,no.QV)(h.outsideAngular),vn(()=>i.runOutsideAngular(()=>n.e(420).then(n.bind(n,7420)))),(0,_t.U)(()=>(0,ro.on)(t,i,e)),(0,_t.U)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return(0,ro.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),A_({bufferSize:1,refCount:!1}));if(F(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,fe.of)(null);else{p.pipe(Gn()).subscribe();const t=p.pipe(vn(t=>t.getRedirectResult().then(t=>t,()=>null)),d,A_({bufferSize:1,refCount:!1})),e=t=>new vt.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(vn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(vn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(x_(n),(0,k_.R)(h.outsideAngular),(0,no.QV)(h.insideAngular)),this.user=t.pipe(x_(r),(0,k_.R)(h.outsideAngular),(0,no.QV)(h.insideAngular)),this.idToken=this.user.pipe(vn(t=>t?(0,yt.D)(t.getIdToken()):(0,fe.of)(null))),this.idTokenResult=this.user.pipe(vn(t=>t?(0,yt.D)(t.getIdTokenResult()):(0,fe.of)(null))),this.credential=(0,E_.T)(t,f,this.authState.pipe(ye(t=>!t))).pipe((0,_t.U)(t=>(null==t?void 0:t.user)?t:null),(0,k_.R)(h.outsideAngular),(0,no.QV)(h.insideAngular))}return(0,ro.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ro.Dh),r.LFG(ro.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(O_,8),r.LFG(N_,8),r.LFG(D_,8),r.LFG(R_,8),r.LFG(P_,8),r.LFG(L_,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(ro.Dh),r.LFG(ro.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(O_,8),r.LFG(N_,8),r.LFG(D_,8),r.LFG(R_,8),r.LFG(P_,8),r.LFG(L_,8))},token:t,providedIn:"any"}),t})();function M_(t,e){return function(t,e=Ws.z){return new vt.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function V_(t,e){return M_(t,e).pipe((0,_t.U)(t=>({payload:t,type:"query"})))}function U_(t,e){return V_(t,e).pipe(Cn(void 0),Js(),(0,_t.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function j_(t,e,n){return U_(t,n).pipe(In((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return q_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return q_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return q_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new to(void 0,void 0)),(0,_t.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function q_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function B_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(0,ro.GT)(F_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class G_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=U_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,_t.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Cn(void 0),Js(),ye(([t,e])=>e.length>0||!t),(0,_t.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(In((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=B_(t);return j_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return V_(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,yt.D)(this.query.get(t)).pipe((0,no.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new z_(this.ref.doc(t),this.afs)}}class z_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=W_(n,e);return new G_(r,i,this.afs)}snapshotChanges(){return M_(this.ref,this.afs.schedulers.outsideAngular).pipe(Cn(void 0),Js(),(0,_t.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,_t.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,yt.D)(this.ref.get(t)).pipe((0,no.QV)(this.afs.schedulers.insideAngular))}}class H_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?U_(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ye(t=>t.length>0),this.afs.keepUnstableUntilFirst):U_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(In((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=B_(t);return j_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return V_(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,yt.D)(this.query.get(t)).pipe((0,no.QV)(this.afs.schedulers.insideAngular))}}const Z_=new r.OlP("angularfire2.enableFirestorePersistence"),K_=new r.OlP("angularfire2.firestore.persistenceSettings"),$_=new r.OlP("angularfire2.firestore.settings"),Q_=new r.OlP("angularfire2.firestore.use-emulator");function W_(t,e=(t=>t)){return{query:e(t),ref:t}}let J_=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new ro.HU(s),this.keepUnstableUntilFirst=(0,ro.ss)(this.schedulers);const c=(0,ro.on)(t,s,e);!io.Z.auth&&u&&(0,ro.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,ro.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!F(i)){const e=()=>{try{return(0,yt.D)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(y_){return"undefined"!=typeof console&&console.warn(y_),(0,fe.of)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,(0,fe.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=W_(n,e),s=this.schedulers.ngZone.run(()=>r);return new G_(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new H_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new z_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ro.Dh),r.LFG(ro.xv,8),r.LFG(Z_,8),r.LFG($_,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(K_,8),r.LFG(Q_,8),r.LFG(O_,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(ro.Dh),r.LFG(ro.xv,8),r.LFG(Z_,8),r.LFG($_,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(K_,8),r.LFG(Q_,8),r.LFG(O_,8))},token:t,providedIn:"any"}),t})();const Y_=function(){return["/store"]},X_=function(){return["/second"]},tw=function(){return["/login"]};let ew=(()=>{class t{constructor(t,e,n){this.connectionService=t,this.router=e,this.afs=n,this.title="PRF",this.cloudId="",this.value="",this.example=["1_elem"],this.dataObserver=null,console.log($s),this.cloudElements=[]}goToSecond(){this.router.navigate(["/second","PRF",{message:this.title}])}hello(){console.log("Hello World!"),this.title="PRF"===this.title?"NOT PRF":"PRF",this.example.push(Math.floor(100*Math.random())+"_elem")}helloFrom(t){console.log("Hello from "+t)}saveData(){this.afs.collection("Examples-023").add({id:this.cloudId,value:this.value}).then(t=>{console.log("save successful",t),this.cloudId="",this.value="",this.refreshDb()}).catch(t=>{console.log("save error",t)})}refreshDb(){this.cloudElements=[],this.afs.collection("Examples-023",t=>t.where("id","==","valami").orderBy("value","desc")).get().subscribe(t=>{t.docs.forEach(t=>{const e=t.data();this.cloudElements.push("Id: "+e.id+", Value: "+e.value)})})}ngOnInit(){this.refreshDb()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Qs),r.Y36(Ts),r.Y36(J_))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-first"]],decls:17,vars:6,consts:[["role","main",1,"content"],["role","alert",1,"alert","alert-success"],[3,"routerLink"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h1"),r.TgZ(2,"div",1),r._uU(3," \xdcdv\xf6zz\xf6lek! "),r.qZA(),r.qZA(),r.TgZ(4,"h2"),r._uU(5," V\xe1s\xe1rolni szeretn\xe9l? : "),r.qZA(),r.TgZ(6,"h1"),r.TgZ(7,"a",2),r._uU(8,"Bolt"),r.qZA(),r.qZA(),r.TgZ(9,"h2"),r._uU(10," Esetleg kihaszn\xe1ln\xe1d az exkl\xfaz\xedv tags\xe1gi funkci\xf3t? : "),r.qZA(),r.TgZ(11,"h1"),r.TgZ(12,"a",2),r._uU(13,"Vip r\xe9szleg"),r.qZA(),r.qZA(),r.TgZ(14,"h2"),r.TgZ(15,"a",2),r._uU(16,"Kil\xe9p\xe9s"),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(7),r.Q6J("routerLink",r.DdM(3,Y_)),r.xp6(5),r.Q6J("routerLink",r.DdM(4,X_)),r.xp6(3),r.Q6J("routerLink",r.DdM(5,tw)))},directives:[Cs],styles:[""]}),t})(),nw=(()=>{class t{constructor(t){this.router=t}canActivate(t,e){return!!localStorage.getItem("user")||(this.router.navigate(["/login"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ts))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rw=(()=>{class t{constructor(t,e){this.http=t,this.auth=e}login(t,e){return this.auth.signInWithEmailAndPassword(t,e)}logout(){return this.auth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ve),r.LFG(F_))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),iw=(()=>{class t{constructor(t,e){this.loginService=t,this.router=e,this.email="",this.password=""}login(){""!=this.email&&""!=this.password&&this.loginService.login(this.email,this.password).then(t=>{console.log(t),localStorage.setItem("user",t.user.uid),localStorage.setItem("useremail",this.email),this.router.navigate(["/first"])}).catch(t=>{console.log("login error",t)})}ngOnInit(){localStorage.getItem("user")&&(localStorage.removeItem("user"),localStorage.removeItem("useremail"),this.loginService.logout().then(()=>{console.log("logout sikeres")}).catch(t=>{console.log("logout error",t)}))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(rw),r.Y36(Ts))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:13,vars:2,consts:[["role","main",1,"content"],["type","email","id","email",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h2"),r._uU(2,"Login"),r.qZA(),r.TgZ(3,"div"),r.TgZ(4,"label"),r._uU(5,"Email"),r.qZA(),r.TgZ(6,"input",1),r.NdJ("ngModelChange",function(t){return e.email=t}),r.qZA(),r.qZA(),r.TgZ(7,"div"),r.TgZ(8,"label"),r._uU(9,"Password"),r.qZA(),r.TgZ(10,"input",2),r.NdJ("ngModelChange",function(t){return e.password=t}),r.qZA(),r.qZA(),r.TgZ(11,"button",3),r.NdJ("click",function(){return e.login()}),r._uU(12,"Login"),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.Q6J("ngModel",e.email),r.xp6(4),r.Q6J("ngModel",e.password))},directives:[xt,Bt,ae],styles:[""]}),t})(),sw=(()=>{class t{constructor(t){this.route=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ni))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-second"]],decls:5,vars:0,consts:[["role","main",1,"content"],[1,"card","highlight-card","card-small"],["src","https://placedog.net/640/480?random","id","randomdogimage","alt","Random dog"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h2"),r._uU(2,"Kutya a usereknek"),r.qZA(),r._UZ(3,"div",1),r._UZ(4,"img",2),r.qZA())},styles:[""]}),t})(),ow=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-home"]],decls:7,vars:0,consts:[["role","main",1,"content"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h2"),r._uU(2,"Programrendszerek fejleszt\xe9se beadand\xf3"),r.qZA(),r.TgZ(3,"h3"),r._uU(4,"Sors \xc1d\xe1m "),r._UZ(5,"br"),r._uU(6," Neptun k\xf3d: LT8VR3"),r.qZA(),r.qZA())},styles:[""]}),t})();var aw=n(5024);function uw(t,e,n,r){return(0,aw.m)(n)&&(r=n,n=void 0),r?uw(t,e,n).pipe((0,_t.U)(t=>(0,bt.k)(t)?r(...t):r(t))):new vt.y(r=>{cw(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function cw(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)cw(t[s],e,n,r,i)}r.add(s)}var lw=n(2293);function hw(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class dw{call(t,e){return e.subscribe(new fw(t))}}class fw extends nn{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=on(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n(6054);var pw=n(5686);function mw(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),(0,an.n)(t,void 0).lift(new gw(e))}class gw{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new yw(t,this.resultSelector))}}class yw extends ge.L{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,bt.k)(t)?e.push(new bw(t)):e.push("function"==typeof t[pw.hZ]?new vw(t[pw.hZ]()):new _w(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class vw{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class bw{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[pw.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class _w extends yn.Ds{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[pw.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,yn.ft)(this.observable,new yn.IY(this))}}function ww(t){return e=>e.lift(new Ew(t))}class Ew{constructor(t){this.notifier=t}call(t,e){const n=new Sw(t),r=(0,yn.ft)(this.notifier,new yn.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Sw extends yn.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Tw(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Cw(t,n))}}class Cw{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Iw(t,this.observables,this.project))}}class Iw extends nn{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(on(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n(8861),n(1055);const Aw=["*"],xw=["dialog"];function kw(t){return null!=t}function Ow(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Nw={animation:!0,transitionTimerDelayMs:5};let Dw=(()=>{class t{constructor(){this.animation=Nw.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Rw=()=>{},{transitionTimerDelayMs:Pw}=Nw,Lw=new Map,Fw=(t,e,n,r)=>{let i=r.context||{};const s=Lw.get(e);if(s)switch(r.runningTransition){case"continue":return pn.E;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),Lw.delete(e)}const o=n(e,r.animation,i)||Rw;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),(0,fe.of)(void 0).pipe(function(t){return e=>new vt.y(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new Ye.xQ,u=new Ye.xQ,c=a.pipe(function(...t){return e=>fn(e,(0,fe.of)(...t))}(!0));Lw.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=uw(e,"transitionend").pipe(ww(c),ye(({target:t})=>t===e));(function(...t){if(1===t.length){if(!(0,bt.k)(t[0]))return t[0];t=t[0]}return(0,an.n)(t,void 0).lift(new dw)})(function(t=0,e,n){let r=-1;return(0,lw.k)(e)?r=Number(e)<1?1:Number(e):(0,en.K)(e)&&(n=e),(0,en.K)(n)||(n=Ws.P),new vt.y(e=>{const i=(0,lw.k)(t)?t:+t-n.now();return n.schedule(hw,i,{index:0,period:r,subscriber:e})})}(l+Pw).pipe(ww(c)),n,u).pipe(ww(c)).subscribe(()=>{Lw.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var Mw=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Vw=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Uw(t){const e=Array.from(t.querySelectorAll(Vw)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,f=0;switch(i){case"top":d=o.top-(e.offsetHeight+u+c);break;case"bottom":d=o.top+o.height;break;case"left":f=o.left-(e.offsetWidth+l+h);break;case"right":f=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":f=o.left;break;case"right":f=o.left+o.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?f=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(f)}px, ${Math.round(d)}px)`;const p=e.getBoundingClientRect(),m=document.documentElement,g=window.innerHeight||m.clientHeight,y=window.innerWidth||m.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=g}},new Date(1882,10,12),new Date(2174,10,25);let jw=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Dw))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(Dw))},token:t,providedIn:"root"}),t})();class qw{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const Bw=()=>{};let Gw=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Bw}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(o))},token:t,providedIn:"root"}),t})(),zw=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(En(1)).subscribe(()=>{Fw(this._zone,this._el.nativeElement,(t,e)=>{e&&Ow(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Fw(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Tol("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.ekj("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Hw{close(t){}dismiss(t){}}class Zw{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Ye.xQ,this._dismissed=new Ye.xQ,this._hidden=new Ye.xQ,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ww(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ww(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),mw(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Kw=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let $w=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Ye.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.vpe,this.shown=new Ye.xQ,this.hidden=new Ye.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(En(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=mw(Fw(this._zone,t,()=>t.classList.remove("show"),e),Fw(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};mw(Fw(this._zone,this._elRef.nativeElement,(t,e)=>{e&&Ow(t),t.classList.add("show")},t),Fw(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{uw(t,"keydown").pipe(ww(this._closed$),ye(t=>t.which===Mw.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Kw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;uw(this._dialogEl.nativeElement,"mousedown").pipe(ww(this._closed$),(0,zn.b)(()=>e=!1),vn(()=>uw(t,"mouseup").pipe(ww(this._closed$),En(1))),ye(({target:e})=>t===e)).subscribe(()=>{e=!0}),uw(t,"click").pipe(ww(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(Kw.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Uw(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Fw(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(o),r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Gf(xw,7),2&t){let t;r.iGM(t=r.CRH())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Tol("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.ekj("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Aw,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.Hsn(3),r.qZA(),r.qZA()),2&t&&r.Tol("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Qw=(()=>{class t{constructor(t,e,n,i,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new Ye.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=uw(e,"focusin").pipe(ww(n),(0,_t.U)(t=>t.target));uw(e,"keydown").pipe(ww(n),ye(t=>t.which===Mw.Tab),Tw(t)).subscribe(([t,n])=>{const[r,i]=Uw(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&uw(e,"click").pipe(ww(n),Tw(t),(0,_t.U)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:kw(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new Hw,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),d=new Zw(h,c,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),u.close=t=>{d.close(t)},u.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,r),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(zw).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory($w).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{kw(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{kw(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,s){return n?n instanceof r.Rgc?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,s):new qw([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new qw([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new qw([[e]])}_createFromComponent(t,e,n,i,s){const o=t.resolveComponentFactory(n),a=r.zs3.create({providers:[{provide:Hw,useValue:i}],parent:e}),u=o.create(a),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new qw([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.z2F),r.LFG(r.zs3),r.LFG(o),r.LFG(Gw),r.LFG(r.FYo),r.LFG(r.R0b))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(r.z2F),(0,r.LFG)(r.gxx),(0,r.LFG)(o),(0,r.LFG)(Gw),(0,r.LFG)(r.FYo),(0,r.LFG)(r.R0b))},token:t,providedIn:"root"}),t})(),Ww=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(Qw),r.LFG(jw))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(r._Vd),(0,r.LFG)(r.gxx),(0,r.LFG)(Qw),(0,r.LFG)(jw))},token:t,providedIn:"root"}),t})();function Jw(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",6),r.NdJ("click",function(){r.CHM(t);const e=r.oxw(),n=r.MAs(7);return e.openPanel(n)}),r._uU(1,"Term\xe9k hozz\xe1ad\xe1s"),r.qZA()}}function Yw(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",6),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().purchase(e)}),r._uU(1,"V\xe1s\xe1rl\xe1s"),r.qZA()}}function Xw(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",6),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit,n=r.oxw(),i=r.MAs(9);return n.modifyItemPanel(e,i)}),r._uU(1,"M\xf3dos\xedt\xe1s"),r.qZA()}}function tE(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",6),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().removeItem(e.docname)}),r._uU(1,"Elt\xe1vol\xedt\xe1s"),r.qZA()}}function eE(t,e){if(1&t&&(r.TgZ(0,"div",7),r.TgZ(1,"div",8),r._UZ(2,"img",9),r.TgZ(3,"div",10),r.TgZ(4,"h2",11),r.TgZ(5,"a",12),r._uU(6),r.qZA(),r.qZA(),r.TgZ(7,"h3"),r._uU(8),r.qZA(),r.YNc(9,Yw,2,0,"button",0),r.YNc(10,Xw,2,0,"button",0),r.YNc(11,tE,2,0,"button",0),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(2),r.s9C("src",t.imageurl,r.LSH),r.xp6(4),r.Oqu(t.name),r.xp6(2),r.hij("\xc1r : ",t.price," ft"),r.xp6(1),r.Q6J("ngIf",n.isAdmin),r.xp6(1),r.Q6J("ngIf",n.isAdmin),r.xp6(1),r.Q6J("ngIf",n.isAdmin)}}function nE(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"h4",14),r._uU(2,"Term\xe9k hozz\xe1ad\xe1sa"),r.qZA(),r.TgZ(3,"button",15),r.NdJ("click",function(){return e.$implicit.dismiss("Cross click")}),r.TgZ(4,"span",16),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",17),r.TgZ(7,"div",18),r.TgZ(8,"label",19),r._uU(9,"Term\xe9k neve"),r.qZA(),r._UZ(10,"input",20),r.qZA(),r.TgZ(11,"div",18),r.TgZ(12,"label",21),r._uU(13,"Term\xe9k \xe1ra"),r.qZA(),r._UZ(14,"input",22),r.qZA(),r.TgZ(15,"div",18),r.TgZ(16,"label",23),r._uU(17,"K\xe9p a term\xe9kr\u0151l"),r.qZA(),r._UZ(18,"input",24),r.qZA(),r.qZA(),r.TgZ(19,"div",25),r.TgZ(20,"button",26),r.NdJ("click",function(){return e.$implicit.close("Close click")}),r._uU(21,"Bez\xe1r"),r.qZA(),r.TgZ(22,"button",27),r.NdJ("click",function(){return r.CHM(t),r.oxw().uploadItem()}),r._uU(23,"Felt\xf6lt\xe9s"),r.qZA(),r.qZA()}}function rE(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"h4",14),r._uU(2,"Term\xe9k m\xf3dos\xedt\xe1sa"),r.qZA(),r.TgZ(3,"button",15),r.NdJ("click",function(){return e.$implicit.dismiss("Cross click")}),r.TgZ(4,"span",16),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",17),r.TgZ(7,"div",18),r.TgZ(8,"label",28),r._uU(9,"Term\xe9k neve"),r.qZA(),r._UZ(10,"input",29),r.qZA(),r.TgZ(11,"div",18),r.TgZ(12,"label",30),r._uU(13,"Term\xe9k \xe1ra"),r.qZA(),r._UZ(14,"input",31),r.qZA(),r.TgZ(15,"div",18),r.TgZ(16,"label",32),r._uU(17,"K\xe9p a term\xe9kr\u0151l"),r.qZA(),r._UZ(18,"input",33),r.qZA(),r.qZA(),r.TgZ(19,"div",25),r.TgZ(20,"button",26),r.NdJ("click",function(){return e.$implicit.close("Close click")}),r._uU(21,"Bez\xe1r"),r.qZA(),r.TgZ(22,"button",27),r.NdJ("click",function(){return r.CHM(t),r.oxw().modifyItem()}),r._uU(23,"M\xf3dos\xedt\xe1s"),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(10),r.s9C("placeholder",t.selectedItem.name),r.xp6(4),r.s9C("placeholder",t.selectedItem.price),r.xp6(4),r.s9C("placeholder",t.selectedItem.imageurl)}}new r.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});const iE=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:ow},{path:"login",component:iw},{path:"first",component:ew,canActivate:[nw]},{path:"second",component:sw,canActivate:[nw]},{path:"store",component:(()=>{class t{constructor(t,e){this.afs=t,this.modalService=e}ngOnInit(){this.checkAdminPrivilege(),this.refreshDb()}getItems(){return this.afs.collection($s.collection).snapshotChanges()}purchase(t){console.log(t.name+"")}uploadItem(){let t=document.getElementById("itemNameInput").value,e=document.getElementById("priceInput").value,n=document.getElementById("imageUrlInput").value;this.afs.collection($s.collection).doc("item"+new Date).set({name:t,price:e,imageurl:n}).then(()=>{console.log("Item successfully uploaded!")}).catch(t=>{console.error("Error uploading item: ",t)})}modifyItemPanel(t,e){this.selectedItem=t,this.openPanel(e)}modifyItem(){let t=document.getElementById("itemName2Input").value,e=document.getElementById("price2Input").value,n=document.getElementById("imageUrl2Input").value;this.afs.collection($s.collection).doc(this.selectedItem.docname).set({name:t,price:e,imageurl:n}).then(()=>{console.log("Item successfully modified!")}).catch(t=>{console.error("Error modifying item: ",t)})}openPanel(t){this.modalService.open(t,{backdropClass:"light-blue-backdrop"})}refreshDb(){this.items=[],this.afs.collection($s.collection,t=>t.orderBy("price","desc")).get().subscribe(t=>{t.docs.forEach(t=>{const e=t.data();this.items.push({docname:t.id,name:e.name,price:e.price,imageurl:e.imageurl})})})}removeItem(t){this.afs.collection($s.collection).doc(t).delete().then(()=>{console.log("Item successfully deleted!")}).catch(t=>{console.error("Error removing item: ",t)}),this.items.forEach((e,n)=>{e.name==t&&this.items.splice(n,1)})}checkAdminPrivilege(){this.isAdmin=!1,this.afs.collection("AdminUsers",t=>t.where("email","==",localStorage.getItem("useremail"))).get().subscribe(t=>{t.docs.forEach(t=>{this.isAdmin=!0})})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(J_),r.Y36(Ww))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-store"]],decls:10,vars:2,consts:[["class","btn btn-lg btn-outline-primary",3,"click",4,"ngIf"],[1,"container"],[1,"row"],["class","col-lg-4 col-md-6 mb-4",4,"ngFor","ngForOf"],["addItemContent",""],["modifyItemContent",""],[1,"btn","btn-lg","btn-outline-primary",3,"click"],[1,"col-lg-4","col-md-6","mb-4"],[1,"card","h-100"],["alt","",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],["href","#"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["for","itemname"],["id","itemNameInput","type","text","aria-describedby","usernameHelp","placeholder","N\xe9v",1,"form-control"],["for","price"],["id","priceInput","type","text","placeholder","\xc1r",1,"form-control"],["for","imageurl"],["id","imageUrlInput","type","text","placeholder","(url)",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["for","itemname2"],["id","itemName2Input","type","text","aria-describedby","usernameHelp",1,"form-control",3,"placeholder"],["for","price2"],["id","price2Input","type","text",1,"form-control",3,"placeholder"],["for","imageurl2"],["id","imageUrl2Input","type","text",1,"form-control",3,"placeholder"]],template:function(t,e){1&t&&(r.TgZ(0,"h2"),r._uU(1,"V\xe1s\xe1rl\xe1s"),r.qZA(),r.YNc(2,Jw,2,0,"button",0),r.TgZ(3,"div",1),r.TgZ(4,"div",2),r.YNc(5,eE,12,6,"div",3),r.qZA(),r.qZA(),r.YNc(6,nE,24,0,"ng-template",null,4,r.W1O),r.YNc(8,rE,24,3,"ng-template",null,5,r.W1O)),2&t&&(r.xp6(2),r.Q6J("ngIf",e.isAdmin),r.xp6(3),r.Q6J("ngForOf",e.items))},directives:[D,O],styles:[""]}),t})(),canActivate:[nw]},{path:"**",component:Ks}];let sE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ms.forRoot(iE)],Ms]}),t})();function oE(t,e){1&t&&(r.TgZ(0,"div",20),r.TgZ(1,"a",21),r._uU(2,"My account"),r.qZA(),r.TgZ(3,"a",21),r._uU(4,"Log out"),r.qZA(),r.qZA())}const aE=function(){return["/home"]},uE=function(){return["/login"]},cE=function(){return["/first"]},lE=function(){return["/store"]},hE=function(){return["/second"]};let dE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:36,vars:10,consts:[["id","wrapper",1,"d-flex"],["id","sidebar-wrapper",1,"bg-light","border-right"],[1,"sidebar-heading"],[1,"list-group","list-group-flush"],[1,"list-group-item","list-group-item-action","bg-light",3,"routerLink"],["id","page-content-wrapper"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light","border-bottom"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto","mt-2","mt-lg-0"],[1,"nav-item","active"],["href","#!",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["dropdown","",1,"nav-item","dropdown"],["dropdownToggle","","mdbWavesEffect","","type","button","mdbWavesEffect","",1,"nav-link","dropdown-toggle","waves-light"],[1,"caret"],["class","dropdown-menu dropdown-menu-right dropdown dropdown-primary","role","menu",4,"dropdownMenu"],[1,"container-fluid"],["role","menu",1,"dropdown-menu","dropdown-menu-right","dropdown","dropdown-primary"],["mdbWavesEffect","","href","#",1,"dropdown-item","waves-light"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._uU(3,"Public oldal"),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"a",4),r._uU(6,"Home"),r.qZA(),r.TgZ(7,"a",4),r._uU(8,"Login"),r.qZA(),r.TgZ(9,"a",4),r._uU(10,"Lobby"),r.qZA(),r.TgZ(11,"a",4),r._uU(12,"Store"),r.qZA(),r.TgZ(13,"a",4),r._uU(14,"User Privilige"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",5),r.TgZ(16,"nav",6),r.TgZ(17,"button",7),r._UZ(18,"span",8),r.qZA(),r.TgZ(19,"div",9),r.TgZ(20,"ul",10),r.TgZ(21,"li",11),r.TgZ(22,"a",12),r._uU(23," Home "),r.TgZ(24,"span",13),r._uU(25,"(current)"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(26,"li",14),r.TgZ(27,"a",12),r._uU(28,"Link"),r.qZA(),r.qZA(),r.TgZ(29,"li",15),r.TgZ(30,"a",16),r._uU(31," Profile"),r._UZ(32,"span",17),r.qZA(),r.YNc(33,oE,5,0,"div",18),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(34,"div",19),r._UZ(35,"router-outlet"),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(5),r.Q6J("routerLink",r.DdM(5,aE)),r.xp6(2),r.Q6J("routerLink",r.DdM(6,uE)),r.xp6(2),r.Q6J("routerLink",r.DdM(7,cE)),r.xp6(2),r.Q6J("routerLink",r.DdM(8,lE)),r.xp6(2),r.Q6J("routerLink",r.DdM(9,hE)))},directives:[Cs,As],styles:[""]}),t})(),fE=(()=>{class t{constructor(){}intercept(t,e){return t=t.clone({withCredentials:!0}),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class pE{}const mE="*";function gE(t,e=null){return{type:2,steps:t,options:e}}function yE(t){return{type:6,styles:t,offset:null}}function vE(t){Promise.resolve(null).then(t)}class bE{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){vE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class _E{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?vE(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function wE(){return"undefined"!=typeof window&&void 0!==window.document}function EE(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function SE(t){switch(t.length){case 0:return new bE;case 1:return t[0];default:return new _E(t)}}function TE(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case mE:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function CE(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&IE(n,"start",t)));break;case"done":t.onDone(()=>r(n&&IE(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&IE(n,"destroy",t)))}}function IE(t,e,n){const r=n.totalTime,i=AE(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function AE(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function xE(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function kE(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let OE=(t,e)=>!1,NE=(t,e)=>!1,DE=(t,e,n)=>[];const RE=EE();(RE||"undefined"!=typeof Element)&&(OE=wE()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),NE=(()=>{if(RE||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):NE}})(),DE=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let PE=null,LE=!1;function FE(t){PE||(PE=("undefined"!=typeof document?document.body:null)||{},LE=!!PE.style&&"WebkitAppearance"in PE.style);let e=!0;return PE.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in PE.style,!e&&LE)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in PE.style),e}const ME=NE,VE=OE,UE=DE;function jE(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let qE=(()=>{class t{validateStyleProperty(t){return FE(t)}matchesElement(t,e){return ME(t,e)}containsElement(t,e){return VE(t,e)}query(t,e,n){return UE(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new bE(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),BE=(()=>{class t{}return t.NOOP=new qE,t})();const GE="ng-enter",zE="ng-leave",HE="ng-trigger",ZE=".ng-trigger",KE="ng-animating",$E=".ng-animating";function QE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:WE(parseFloat(e[1]),e[2])}function WE(t,e){switch(e){case"s":return 1e3*t;default:return t}}function JE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=WE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=WE(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function YE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function XE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else YE(t,n);return n}function tS(t,e,n){return n?e+":"+n+";":""}function eS(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=tS(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=tS(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function nS(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=lS(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),EE()&&eS(t))}function rS(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=lS(e);t.style[n]=""}),EE()&&eS(t))}function iS(t){return Array.isArray(t)?1==t.length?t[0]:gE(t):t}const sS=new RegExp("{{\\s*(.+?)\\s*}}","g");function oS(t){let e=[];if("string"==typeof t){let n;for(;n=sS.exec(t);)e.push(n[1]);sS.lastIndex=0}return e}function aS(t,e,n){const r=t.toString(),i=r.replace(sS,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function uS(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const cS=/-+([a-z0-9])/g;function lS(t){return t.replace(cS,(...t)=>t[1].toUpperCase())}function hS(t,e){return 0===t||0===e}function dS(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=pS(t,e)})}}return e}function fS(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function pS(t,e){return window.getComputedStyle(t)[e]}const mS="*";function gS(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(bS(i,o)),"<"!=s[0]||i==mS&&o==mS||e.push(bS(o,i))}(t,n,e)):n.push(t),n}const yS=new Set(["true","1"]),vS=new Set(["false","0"]);function bS(t,e){const n=yS.has(t)||vS.has(t),r=yS.has(e)||vS.has(e);return(i,s)=>{let o=t==mS||t==i,a=e==mS||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?yS.has(t):vS.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?yS.has(e):vS.has(e)),o&&a}}const _S=new RegExp("s*:selfs*,?","g");function wS(t,e,n){return new ES(t).build(e,n)}class ES{constructor(t){this._driver=t}build(t,e){const n=new SS(e);return this._resetContextStyleTimingState(n),fS(this,iS(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(TS(t)){const e=t;Object.keys(e).forEach(t=>{oS(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=uS(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=fS(this,iS(t.animation),e);return{type:1,matchers:gS(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:CS(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>fS(this,t,e)),options:CS(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=fS(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:CS(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return IS(JE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=IS(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||JE(r,e),IS(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:yE({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=yE(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==mE?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(TS(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=oS(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(TS(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(TS(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:fS(this,iS(t.animation),e),options:CS(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:CS(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:CS(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(_S,"")),[t=t.replace(/@\*/g,ZE).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,$E),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,xE(e.collectedStyles,e.currentQuerySelector,{});const o=fS(this,iS(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:CS(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:JE(t.timings,e.errors,!0);return{type:12,animation:fS(this,iS(t.animation),e),timings:n,options:null}}}class SS{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function TS(t){return!Array.isArray(t)&&"object"==typeof t}function CS(t){var e;return t?(t=YE(t)).params&&(t.params=(e=t.params)?YE(e):null):t={},t}function IS(t,e,n){return{duration:t,delay:e,easing:n}}function AS(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class xS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const kS=new RegExp(":enter","g"),OS=new RegExp(":leave","g");function NS(t,e,n,r,i,s={},o={},a,u,c=[]){return(new DS).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class DS{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new xS;const l=new PS(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),fS(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[AS(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?QE(n.duration):null,s=null!=n.delay?QE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),fS(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=RS);const t=QE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>fS(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?QE(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),fS(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return JE(e.params?aS(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?QE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=RS);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),fS(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;fS(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const RS={};class PS{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=RS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new LS(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=QE(n.duration)),null!=n.delay&&(r.delay=QE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=aS(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new PS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=RS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new FS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(kS,"."+this._enterClassName)).replace(OS,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class LS{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new LS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||mE,this._currentKeyframe[t]=mE}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=mE})):XE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=aS(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:mE),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=XE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==mE&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?uS(t.values()):[],s=e.size?uS(e.values()):[];if(n){const t=r[0],e=YE(t);t.offset=0,e.offset=1,r=[t,e]}return AS(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class FS extends LS{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=XE(t[0],!1);a.offset=0,i.push(a);const u=XE(t[0],!1);u.offset=MS(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=XE(t[r],!1);o.offset=MS((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return AS(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function MS(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class VS{}class US extends VS{normalizePropertyName(t,e){return lS(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(jS[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const jS=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function qS(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const BS={};class GS{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||BS,d=this.buildStyles(n,o&&o.params||BS,l),f=a&&a.params||BS,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},_=c?[]:NS(t,e,this.ast.animation,i,s,d,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return qS(e,this._triggerName,n,r,v,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=xE(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=xE(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=uS(m.values());return qS(e,this._triggerName,n,r,v,d,p,_,E,g,y,w)}}class zS{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=YE(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=aS(s,r,e)),n[t]=s})}}),n}}class HS{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new zS(t.style,t.options&&t.options.params||{})}),ZS(this.states,"true","1"),ZS(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new GS(t,e,this.states))}),this.fallbackTransition=new GS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ZS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const KS=new xS;class $S{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=wS(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=TE(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=NS(this._driver,e,i,GE,zE,{},{},n,KS,r),s.forEach(t=>{const e=xE(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,mE)})});const a=SE(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=AE(e,"","","");return CE(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const QS="ng-animate-queued",WS="ng-animate-disabled",JS=".ng-animate-disabled",YS=[],XS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class eT{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=YE(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const nT="void",rT=new eT(nT);class iT{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,hT(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=xE(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=xE(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(hT(t,HE),hT(t,"ng-trigger-"+e),a[e]=rT),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new oT(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(hT(t,HE),hT(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new eT(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=rT),u.value!==nT&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{rS(t,n),nS(t,r)})}return}const c=xE(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(hT(t,QS),s.onStart(()=>{dT(t,QS)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,ZE,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,nT,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&SE(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||rT,a=new eT(nT),u=new oT(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==XS||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){hT(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=AE(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,CE(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class sT{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new iT(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(aT(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!aT(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),hT(t,WS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),dT(t,WS))}removeNode(t,e,n,r){if(aT(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return aT(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,ZE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,$E,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return SE(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=XS,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,JS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,JS,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)hT(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?SE(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new xS,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=lT(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=GE+p++;f.set(e,n),t.forEach(t=>hT(t,n))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=lT(h,Array.from(g));b.forEach((t,e)=>{const n=zE+p++;v.set(e,n),t.forEach(t=>hT(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>dT(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>dT(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>rS(i,p.fromStyles)),e.onDestroy(()=>nS(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>rS(i,p.fromStyles)),e.onDestroy(()=>nS(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>xE(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{xE(E,e,[]).push(t),t.destroy()})});const T=m.filter(t=>mT(t,a,u)),C=new Map;cT(C,this.driver,y,u,mE).forEach(t=>{mT(t,a,u)&&T.push(t)});const I=new Map;d.forEach((t,e)=>{cT(I,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=C.get(t),n=I.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const A=[],x=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>nS(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,I,C);if(s.setRealPlayer(n),t===k)A.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=SE(e)),r.push(s)}}else rS(e,o.fromStyles),s.onDestroy(()=>nS(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=SE(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<m.length;O++){const t=m[O],e=t.__ng_removed;if(dT(t,zE),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,$E,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?fT(this,t,r):this.processLeaveNode(t)}return m.length=0,A.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),A}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==nT;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=xE(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}rS(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new bE(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return pT(t,e),e}((n.get(h)||YS).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=TE(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new oT(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{xE(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>hT(t,KE));const d=SE(h);return d.onDestroy(()=>{c.forEach(t=>dT(t,KE)),nS(a,e.toStyles)}),l.forEach(t=>{xE(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new bE(t.duration,t.delay)}}class oT{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new bE,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>CE(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){xE(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function aT(t){return t&&1===t.nodeType}function uT(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function cT(t,e,n,r,i){const s=[];n.forEach(t=>s.push(uT(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=tT,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>uT(t,s[a++])),o}function lT(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function hT(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function dT(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function fT(t,e,n){SE(n).onDone(()=>t.processLeaveNode(e))}function pT(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof _E?pT(r.players,e):e.push(r)}}function mT(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class gT{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new sT(t,e,n),this._timelineEngine=new $S(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=wS(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new HS(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=kE(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=kE(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function yT(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=bT(e[0]),e.length>1&&(r=bT(e[e.length-1]))):e&&(n=bT(e)),n||r?new vT(t,n,r):null}let vT=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&nS(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nS(this._element,this._initialStyles),this._endStyles&&(nS(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(rS(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rS(this._element,this._endStyles),this._endStyles=null),nS(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function bT(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];_T(i)&&(e=e||{},e[i]=t[i])}return e}function _T(t){return"display"===t||"position"===t}const wT="animation",ET="animationend";class ST{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=kT(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),xT(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),AT(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){TT(this._element,this._name,"paused")}resume(){TT(this._element,this._name,"running")}setPosition(t){const e=CT(this._element,this._name);this._position=t*this._duration,xT(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),AT(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=kT(t,"").split(","),r=IT(n,e);r>=0&&(n.splice(r,1),xT(t,"",n.join(",")))}(this._element,this._name))}}function TT(t,e,n){xT(t,"PlayState",n,CT(t,e))}function CT(t,e){const n=kT(t,"");return n.indexOf(",")>0?IT(n.split(","),e):IT([n],e)}function IT(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function AT(t,e,n){n?t.removeEventListener(ET,e):t.addEventListener(ET,e)}function xT(t,e,n,r){const i=wT+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function kT(t,e){return t.style[wT+e]||""}class OT{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ST(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:pS(this.element,n))})}this.currentSnapshot=t}}class NT extends bE{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=jE(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class DT{constructor(){this._count=0}validateStyleProperty(t){return FE(t)}matchesElement(t,e){return ME(t,e)}containsElement(t,e){return VE(t,e)}query(t,e,n){return UE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>jE(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof OT),u={};hS(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=dS(t,e,u));if(0==n)return new NT(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=yT(t,e),f=new OT(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class RT{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:pS(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class PT{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(LT().toString()),this._cssKeyframesDriver=new DT}validateStyleProperty(t){return FE(t)}matchesElement(t,e){return ME(t,e)}containsElement(t,e){return VE(t,e)}query(t,e,n){return UE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof RT);hS(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=yT(t,e=dS(t,e=e.map(t=>XE(t,!1)),u));return new RT(t,e,a,l)}}function LT(){return wE()&&Element.prototype.animate||{}}let FT=(()=>{class t extends pE{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?gE(t):t;return UT(this._renderer,null,e,"register",[n]),new MT(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class MT extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new VT(this._id,t,e||{},this._renderer)}}class VT{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return UT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function UT(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const jT="@",qT="@.disabled";let BT=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new GT("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new zT(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(gT),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class GT{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==jT&&e==qT?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class zT extends GT{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==jT?"."==e.charAt(1)&&e==qT?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==jT){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=jT&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let HT=(()=>{class t extends gT{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(BE),r.LFG(VS))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ZT=new r.OlP("AnimationModuleType"),KT=[{provide:pE,useClass:FT},{provide:VS,useFactory:function(){return new US}},{provide:gT,useClass:HT},{provide:r.FYo,useFactory:function(t,e,n){return new BT(t,e,n)},deps:[it,gT,r.R0b]}],$T=[{provide:BE,useFactory:function(){return"function"==typeof LT()?new PT:new DT}},{provide:ZT,useValue:"BrowserAnimations"},...KT],QT=[{provide:BE,useClass:qE},{provide:ZT,useValue:"NoopAnimations"},...KT];let WT=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?QT:$T}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:$T,imports:[gt]}),t})(),JT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[dE]}),t.\u0275inj=r.cJS({providers:[{provide:je,useClass:fE,multi:!0}],imports:[[gt,sE,Je,he,de,WT,ro.hO.initializeApp($s.firebase)]]}),t})();$s.production&&(0,r.G48)(),pt().bootstrapModule(JT).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>s,mG:()=>o,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}}},t=>{"use strict";t(t.s=7743)}]);